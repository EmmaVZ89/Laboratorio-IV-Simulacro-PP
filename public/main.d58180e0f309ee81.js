"use strict";(self.webpackChunkSimulacroPrimerParcial=self.webpackChunkSimulacroPrimerParcial||[]).push([[179],{2011:(gt,Oe,P)=>{P.d(Oe,{Dh:()=>he,GT:()=>_e,cc:()=>Pe,hO:()=>He,on:()=>G,pX:()=>ue,xv:()=>be});var u=P(4650),U=P(7554),M=P(4387);gt=P.hmd(gt);const se=["ngOnDestroy"],ue=(ge,tt,nt,Fe={})=>new Proxy(ge,{get:(Re,Ce)=>nt.runOutsideAngular(()=>{var Ze;if(ge[Ce])return!(null===(Ze=Fe?.spy)||void 0===Ze)&&Ze.get&&Fe.spy.get(Ce,ge[Ce]),ge[Ce];if(se.indexOf(Ce)>-1)return()=>{};const ie=tt.toPromise().then(ce=>{const ve=ce&&ce[Ce];return"function"==typeof ve?ve.bind(ce):ve&&ve.then?ve.then(Q=>nt.run(()=>Q)):nt.run(()=>ve)});return new Proxy(()=>{},{get:(ce,ve)=>ie[ve],apply:(ce,ve,Q)=>ie.then(ee=>{var fe;const oe=ee&&ee(...Q);return!(null===(fe=Fe?.spy)||void 0===fe)&&fe.apply&&Fe.spy.apply(Ce,Q,oe),oe})})})}),_e=(ge,tt)=>{tt.forEach(nt=>{Object.getOwnPropertyNames(nt.prototype||nt).forEach(Fe=>{Object.defineProperty(ge.prototype,Fe,Object.getOwnPropertyDescriptor(nt.prototype||nt,Fe))})})};class pe{constructor(tt){return tt}}const he=new u.OlP("angularfire2.app.options"),be=new u.OlP("angularfire2.app.name");function G(ge,tt,nt){const Re="object"==typeof nt&&nt||{};Re.name=Re.name||"string"==typeof nt&&nt||"[DEFAULT]";const Ze=U.Z.apps.filter(ie=>ie&&ie.name===Re.name)[0]||tt.runOutsideAngular(()=>U.Z.initializeApp(ge,Re));try{JSON.stringify(ge)!==JSON.stringify(Ze.options)&&W("error",`${Ze.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe(Ze)}const W=(ge,...tt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ge](...tt)},X={provide:pe,useFactory:G,deps:[he,u.R0b,[new u.FiY,be]]};let He=(()=>{class ge{constructor(nt){U.Z.registerVersion("angularfire",M.q4.full,"core"),U.Z.registerVersion("angularfire",M.q4.full,"app-compat"),U.Z.registerVersion("angular",u.q4F.full,nt.toString())}static initializeApp(nt,Fe){return{ngModule:ge,providers:[{provide:he,useValue:nt},{provide:be,useValue:Fe}]}}}return ge.\u0275fac=function(nt){return new(nt||ge)(u.LFG(u.Lbi))},ge.\u0275mod=u.oAB({type:ge}),ge.\u0275inj=u.cJS({providers:[X]}),ge})();function Pe(ge,tt,nt,Fe,Re){const[,Ce,Ze]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===ge)||[];if(Ce)return function Ee(ge,tt){try{return ge.toString()===tt.toString()}catch{return ge===tt}}(Re,Ze)||(Te("error",`${tt} was already initialized on the ${nt} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),Te("warn",{is:Re,was:Ze})),Ce;{const ie=Fe();return globalThis.\u0275AngularfireInstanceCache.push([ge,ie,Re]),ie}}const at=!!gt.hot,Te=(ge,...tt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ge](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4387:(gt,Oe,P)=>{P.d(Oe,{q4:()=>Fu,iC:()=>Hn,HU:()=>Qs,vb:()=>ni,JM:()=>Rs,u3:()=>Kn});var u=P(4650),U=P(5694),M=P(5861),se=P(9681),ue=P(2090),_e=P(4859),pe=P(1877),he=P(8766);const be="@firebase/installations",G="0.5.12",X=`w:${G}`,He="FIS_v2",tt=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(I){return I instanceof ue.ZR&&I.code.includes("request-failed")}function Fe({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Re(I){return{token:I.token,requestStatus:2,expiresIn:ee(I.expiresIn),creationTime:Date.now()}}function Ce(I,C){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,M.Z)(function*(I,C){const L=(yield C.json()).error;return tt.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ie({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ce(I,{refreshToken:C}){const O=ie(I);return O.append("Authorization",function fe(I){return`${He} ${I}`}(C)),O}function ve(I){return Q.apply(this,arguments)}function Q(){return(Q=(0,M.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function ee(I){return Number(I.replace("s","000"))}function oe(I,C){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,M.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:O}){const L=Fe(I),J=ie(I),le=C.getImmediate({optional:!0});if(le){const Nt=yield le.getHeartbeatsHeader();Nt&&J.append("x-firebase-client",Nt)}const We={method:"POST",headers:J,body:JSON.stringify({fid:O,authVersion:He,appId:I.appId,sdkVersion:X})},_t=yield ve(()=>fetch(L,We));if(_t.ok){const Nt=yield _t.json();return{fid:Nt.fid||O,registrationStatus:2,refreshToken:Nt.refreshToken,authToken:Re(Nt.authToken)}}throw yield Ce("Create Installation",_t)})).apply(this,arguments)}function Ue(I){return new Promise(C=>{setTimeout(C,I)})}const en=/^[cdef][\w-]{21}$/;function Ke(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function mn(I){return function bt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return en.test(O)?O:""}catch{return""}}function Ln(I){return`${I.appName}!${I.appId}`}const sn=new Map;function tn(I,C){const O=Ln(I);br(O,C),function Co(I,C){const O=function Sn(){return!wr&&"BroadcastChannel"in self&&(wr=new BroadcastChannel("[Firebase] FID Change"),wr.onmessage=I=>{br(I.data.key,I.data.fid)}),wr}();O&&O.postMessage({key:I,fid:C}),function Qi(){0===sn.size&&wr&&(wr.close(),wr=null)}()}(O,C)}function br(I,C){const O=sn.get(I);if(O)for(const L of O)L(C)}let wr=null;const Vn="firebase-installations-store";let xi=null;function Pi(){return xi||(xi=(0,he.X3)("firebase-installations-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Vn)}})),xi}function it(I,C){return dr.apply(this,arguments)}function dr(){return(dr=(0,M.Z)(function*(I,C){const O=Ln(I),J=(yield Pi()).transaction(Vn,"readwrite"),le=J.objectStore(Vn),De=yield le.get(O);return yield le.put(C,O),yield J.done,(!De||De.fid!==C.fid)&&tn(I,C.fid),C})).apply(this,arguments)}function Un(I){return fn.apply(this,arguments)}function fn(){return(fn=(0,M.Z)(function*(I){const C=Ln(I),L=(yield Pi()).transaction(Vn,"readwrite");yield L.objectStore(Vn).delete(C),yield L.done})).apply(this,arguments)}function Dr(I,C){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,M.Z)(function*(I,C){const O=Ln(I),J=(yield Pi()).transaction(Vn,"readwrite"),le=J.objectStore(Vn),De=yield le.get(O),We=C(De);return void 0===We?yield le.delete(O):yield le.put(We,O),yield J.done,We&&(!De||De.fid!==We.fid)&&tn(I,We.fid),We})).apply(this,arguments)}function wn(I){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,M.Z)(function*(I){let C;const O=yield Dr(I.appConfig,L=>{const J=yn(L),le=mt(I,J);return C=le.registrationPromise,le.installationEntry});return""===O.fid?{installationEntry:yield C}:{installationEntry:O,registrationPromise:C}})).apply(this,arguments)}function yn(I){return Ct(I||{fid:Ke(),registrationStatus:0})}function mt(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(tt.create("app-offline"))};const O={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},L=function yt(I,C){return Pt.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:L}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Vr(I)}:{installationEntry:C}}function Pt(){return(Pt=(0,M.Z)(function*(I,C){try{const O=yield oe(I,C);return it(I.appConfig,O)}catch(O){throw nt(O)&&409===O.customData.serverCode?yield Un(I.appConfig):yield it(I.appConfig,{fid:C.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Vr(I){return hr.apply(this,arguments)}function hr(){return(hr=(0,M.Z)(function*(I){let C=yield Tr(I.appConfig);for(;1===C.registrationStatus;)yield Ue(100),C=yield Tr(I.appConfig);if(0===C.registrationStatus){const{installationEntry:O,registrationPromise:L}=yield wn(I);return L||O}return C})).apply(this,arguments)}function Tr(I){return Dr(I,C=>{if(!C)throw tt.create("installation-not-found");return Ct(C)})}function Ct(I){return function Mr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Ft(I,C){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,M.Z)(function*({appConfig:I,heartbeatServiceProvider:C},O){const L=Zt(I,O),J=ce(I,O),le=C.getImmediate({optional:!0});if(le){const Nt=yield le.getHeartbeatsHeader();Nt&&J.append("x-firebase-client",Nt)}const We={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:X,appId:I.appId}})},_t=yield ve(()=>fetch(L,We));if(_t.ok)return Re(yield _t.json());throw yield Ce("Generate Auth Token",_t)})).apply(this,arguments)}function Zt(I,{fid:C}){return`${Fe(I)}/${C}/authTokens:generate`}function K(I){return $.apply(this,arguments)}function $(){return($=(0,M.Z)(function*(I,C=!1){let O;const L=yield Dr(I.appConfig,le=>{if(!Tt(le))throw tt.create("not-registered");const De=le.authToken;if(!C&&an(De))return le;if(1===De.requestStatus)return O=B(I,C),le;{if(!navigator.onLine)throw tt.create("app-offline");const We=Qn(le);return O=Ne(I,We),We}});return O?yield O:L.authToken})).apply(this,arguments)}function B(I,C){return z.apply(this,arguments)}function z(){return(z=(0,M.Z)(function*(I,C){let O=yield q(I.appConfig);for(;1===O.authToken.requestStatus;)yield Ue(100),O=yield q(I.appConfig);const L=O.authToken;return 0===L.requestStatus?K(I,C):L})).apply(this,arguments)}function q(I){return Dr(I,C=>{if(!Tt(C))throw tt.create("not-registered");return function te(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Ne(I,C){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,M.Z)(function*(I,C){try{const O=yield Ft(I,C),L=Object.assign(Object.assign({},C),{authToken:O});return yield it(I.appConfig,L),O}catch(O){if(!nt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const L=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield it(I.appConfig,L)}else yield Un(I.appConfig);throw O}})).apply(this,arguments)}function Tt(I){return void 0!==I&&2===I.registrationStatus}function an(I){return 2===I.requestStatus&&!function on(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+36e5}(I)}function Qn(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}function H(){return(H=(0,M.Z)(function*(I){const C=I,{installationEntry:O,registrationPromise:L}=yield wn(C);return L?L.catch(console.error):K(C).catch(console.error),O.fid})).apply(this,arguments)}function qe(){return(qe=(0,M.Z)(function*(I,C=!1){const O=I;return yield wt(O),(yield K(O,C)).token})).apply(this,arguments)}function wt(I){return It.apply(this,arguments)}function It(){return(It=(0,M.Z)(function*(I){const{registrationPromise:C}=yield wn(I);C&&(yield C)})).apply(this,arguments)}function Vs(I){return tt.create("missing-app-config-values",{valueName:I})}const Us="installations",Bs=I=>{const C=I.getProvider("app").getImmediate(),O=function In(I){if(!I||!I.options)throw Vs("App Configuration");if(!I.name)throw Vs("App Name");const C=["projectId","apiKey","appId"];for(const O of C)if(!I.options[O])throw Vs(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:O,heartbeatServiceProvider:(0,se._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},So=I=>{const C=I.getProvider("app").getImmediate(),O=(0,se._getProvider)(C,Us).getImmediate();return{getId:()=>function j(I){return H.apply(this,arguments)}(O),getToken:J=>function we(I){return qe.apply(this,arguments)}(O,J)}};(function wl(){(0,se._registerComponent)(new _e.wA(Us,Bs,"PUBLIC")),(0,se._registerComponent)(new _e.wA("installations-internal",So,"PRIVATE"))})(),(0,se.registerVersion)(be,G),(0,se.registerVersion)(be,G,"esm2017");const ts="@firebase/remote-config",Zn=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vu{constructor(C,O,L,J){this.client=C,this.storage=O,this.storageCache=L,this.logger=J}isCachedDataFresh(C,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-O,J=L<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${J}.`),J}fetch(C){var O=this;return(0,M.Z)(function*(){const[L,J]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(J&&O.isCachedDataFresh(C.cacheMaxAgeMillis,L))return J;C.eTag=J&&J.eTag;const le=yield O.client.fetch(C),De=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&De.push(O.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(De),le})()}}function rs(I=navigator){return I.languages&&I.languages[0]||I.language}class Gs{constructor(C,O,L,J,le,De){this.firebaseInstallations=C,this.sdkVersion=O,this.namespace=L,this.projectId=J,this.apiKey=le,this.appId=De}fetch(C){var O=this;return(0,M.Z)(function*(){var L,J,le;const[De,We]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Nt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},vt={sdk_version:O.sdkVersion,app_instance_id:De,app_instance_id_token:We,app_id:O.appId,language_code:rs()},Yn={method:"POST",headers:kt,body:JSON.stringify(vt)},Cr=fetch(Nt,Yn),to=new Promise((xs,mr)=>{C.signal.addEventListener(()=>{const nd=new Error("The operation was aborted.");nd.name="AbortError",mr(nd)})});let Lt;try{yield Promise.race([Cr,to]),Lt=yield Cr}catch(xs){let mr="fetch-client-network";throw"AbortError"===(null===(L=xs)||void 0===L?void 0:L.name)&&(mr="fetch-timeout"),Zn.create(mr,{originalErrorMessage:null===(J=xs)||void 0===J?void 0:J.message})}let Sr=Lt.status;const no=Lt.headers.get("ETag")||void 0;let Ms,Bl;if(200===Lt.status){let xs;try{xs=yield Lt.json()}catch(mr){throw Zn.create("fetch-client-parse",{originalErrorMessage:null===(le=mr)||void 0===le?void 0:le.message})}Ms=xs.entries,Bl=xs.state}if("INSTANCE_STATE_UNSPECIFIED"===Bl?Sr=500:"NO_CHANGE"===Bl?Sr=304:("NO_TEMPLATE"===Bl||"EMPTY_CONFIG"===Bl)&&(Ms={}),304!==Sr&&200!==Sr)throw Zn.create("fetch-status",{httpStatus:Sr});return{status:Sr,eTag:no,config:Ms}})()}}class is{constructor(C,O){this.client=C,this.storage=O}fetch(C){var O=this;return(0,M.Z)(function*(){const L=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(C,L)})()}attemptFetch(C,{throttleEndTimeMillis:O,backoffCount:L}){var J=this;return(0,M.Z)(function*(){yield function fi(I,C){return new Promise((O,L)=>{const J=Math.max(C-Date.now(),0),le=setTimeout(O,J);I.addEventListener(()=>{clearTimeout(le),L(Zn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,O);try{const le=yield J.client.fetch(C);return yield J.storage.deleteThrottleMetadata(),le}catch(le){if(!function Lp(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(le))throw le;const De={throttleEndTimeMillis:Date.now()+(0,ue.$s)(L),backoffCount:L+1};return yield J.storage.setThrottleMetadata(De),J.attemptFetch(C,De)}})()}}class Up{constructor(C,O,L,J,le){this.app=C,this._client=O,this._storageCache=L,this._storage=J,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ea(I,C){var O;const L=I.target.error||void 0;return Zn.create(C,{originalErrorMessage:L&&(null===(O=L)||void 0===O?void 0:O.message)})}const No="app_namespace_store";class Oc{constructor(C,O,L,J=function jp(){return new Promise((I,C)=>{var O;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=J=>{C(Ea(J,"storage-open"))},L.onsuccess=J=>{I(J.target.result)},L.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(No,{keyPath:"compositeKey"})}}catch(L){C(Zn.create("storage-open",{originalErrorMessage:null===(O=L)||void 0===O?void 0:O.message}))}})}()){this.appId=C,this.appName=O,this.namespace=L,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var O=this;return(0,M.Z)(function*(){const L=yield O.openDbPromise;return new Promise((J,le)=>{var De;const _t=L.transaction([No],"readonly").objectStore(No),Nt=O.createCompositeKey(C);try{const kt=_t.get(Nt);kt.onerror=vt=>{le(Ea(vt,"storage-get"))},kt.onsuccess=vt=>{const Yn=vt.target.result;J(Yn?Yn.value:void 0)}}catch(kt){le(Zn.create("storage-get",{originalErrorMessage:null===(De=kt)||void 0===De?void 0:De.message}))}})})()}set(C,O){var L=this;return(0,M.Z)(function*(){const J=yield L.openDbPromise;return new Promise((le,De)=>{var We;const Nt=J.transaction([No],"readwrite").objectStore(No),kt=L.createCompositeKey(C);try{const vt=Nt.put({compositeKey:kt,value:O});vt.onerror=Yn=>{De(Ea(Yn,"storage-set"))},vt.onsuccess=()=>{le()}}catch(vt){De(Zn.create("storage-set",{originalErrorMessage:null===(We=vt)||void 0===We?void 0:We.message}))}})})()}delete(C){var O=this;return(0,M.Z)(function*(){const L=yield O.openDbPromise;return new Promise((J,le)=>{var De;const _t=L.transaction([No],"readwrite").objectStore(No),Nt=O.createCompositeKey(C);try{const kt=_t.delete(Nt);kt.onerror=vt=>{le(Ea(vt,"storage-delete"))},kt.onsuccess=()=>{J()}}catch(kt){le(Zn.create("storage-delete",{originalErrorMessage:null===(De=kt)||void 0===De?void 0:De.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Oo{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,M.Z)(function*(){const O=C.storage.getLastFetchStatus(),L=C.storage.getLastSuccessfulFetchTimestampMillis(),J=C.storage.getActiveConfig(),le=yield O;le&&(C.lastFetchStatus=le);const De=yield L;De&&(C.lastSuccessfulFetchTimestampMillis=De);const We=yield J;We&&(C.activeConfig=We)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function h_(){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,M.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Rc(){(0,se._registerComponent)(new _e.wA("remote-config",function I(C,{instanceIdentifier:O}){const L=C.getProvider("app").getImmediate(),J=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zn.create("registration-window");if(!(0,ue.hl)())throw Zn.create("indexed-db-unavailable");const{projectId:le,apiKey:De,appId:We}=L.options;if(!le)throw Zn.create("registration-project-id");if(!De)throw Zn.create("registration-api-key");if(!We)throw Zn.create("registration-app-id");const _t=new Oc(We,L.name,O=O||"firebase"),Nt=new Oo(_t),kt=new pe.Yd(ts);kt.logLevel=pe.in.ERROR;const vt=new Gs(J,se.SDK_VERSION,O,le,De,We),Yn=new is(vt,_t),Cr=new vu(Yn,_t,Nt,kt),to=new Up(L,Cr,Nt,_t,kt);return function En(I){const C=(0,ue.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(to),to},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(ts,"0.3.11"),(0,se.registerVersion)(ts,"0.3.11","esm2017")}();const Ir="/firebase-messaging-sw.js",Mo="/firebase-cloud-messaging-push-scope",Ts="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Il="google.c.a.c_id",bu="google.c.a.c_l",Pc="google.c.a.ts",xo="google.c.a.e";var gi=(()=>{return(I=gi||(gi={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",gi;var I})();function ss(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ei(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(O),J=new Uint8Array(L.length);for(let le=0;le<L.length;++le)J[le]=L.charCodeAt(le);return J}const Ws="fcm_token_details_db",Po="fcm_token_object_Store";function $p(I){return wu.apply(this,arguments)}function wu(){return wu=(0,M.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Ws))return null;let C=null;return(yield(0,he.X3)(Ws,5,{upgrade:(L=(0,M.Z)(function*(J,le,De,We){var _t;if(le<2||!J.objectStoreNames.contains(Po))return;const Nt=We.objectStore(Po),kt=yield Nt.index("fcmSenderId").get(I);if(yield Nt.clear(),kt)if(2===le){const vt=kt;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;C={token:vt.fcmToken,createTime:null!==(_t=vt.createTime)&&void 0!==_t?_t:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:ss(vt.vapidKey)}}}else if(3===le){const vt=kt;C={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:ss(vt.auth),p256dh:ss(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:ss(vt.vapidKey)}}}else if(4===le){const vt=kt;C={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:ss(vt.auth),p256dh:ss(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:ss(vt.vapidKey)}}}}),function(le,De,We,_t){return L.apply(this,arguments)})})).close(),yield(0,he.Lj)(Ws),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),xn(C)?C:null;var L}),wu.apply(this,arguments)}function xn(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const Ci="firebase-messaging-store";let Er=null;function El(){return Er||(Er=(0,he.X3)("firebase-messaging-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Ci)}})),Er}function zs(I){return ki.apply(this,arguments)}function ki(){return(ki=(0,M.Z)(function*(I){const C=_i(I),L=yield(yield El()).transaction(Ci).objectStore(Ci).get(C);if(L)return L;{const J=yield $p(I.appConfig.senderId);if(J)return yield nn(I,J),J}})).apply(this,arguments)}function nn(I,C){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,M.Z)(function*(I,C){const O=_i(I),J=(yield El()).transaction(Ci,"readwrite");return yield J.objectStore(Ci).put(C,O),yield J.done,C})).apply(this,arguments)}function Is(I){return Du.apply(this,arguments)}function Du(){return(Du=(0,M.Z)(function*(I){const C=_i(I),L=(yield El()).transaction(Ci,"readwrite");yield L.objectStore(Ci).delete(C),yield L.done})).apply(this,arguments)}function _i({appConfig:I}){return I.appId}const Bn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mt(I,C){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,M.Z)(function*(I,C){var O;const L=yield Oa(I),J=Me(C),le={method:"POST",headers:L,body:JSON.stringify(J)};let De;try{De=yield(yield fetch(qs(I.appConfig),le)).json()}catch(We){throw Bn.create("token-subscribe-failed",{errorInfo:null===(O=We)||void 0===O?void 0:O.toString()})}if(De.error)throw Bn.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw Bn.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function Hp(I,C){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,M.Z)(function*(I,C){var O;const L=yield Oa(I),J=Me(C.subscriptionOptions),le={method:"PATCH",headers:L,body:JSON.stringify(J)};let De;try{De=yield(yield fetch(`${qs(I.appConfig)}/${C.token}`,le)).json()}catch(We){throw Bn.create("token-update-failed",{errorInfo:null===(O=We)||void 0===O?void 0:O.toString()})}if(De.error)throw Bn.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw Bn.create("token-update-no-token");return De.token})).apply(this,arguments)}function Fc(I,C){return Na.apply(this,arguments)}function Na(){return(Na=(0,M.Z)(function*(I,C){var O;const J={method:"DELETE",headers:yield Oa(I)};try{const De=yield(yield fetch(`${qs(I.appConfig)}/${C}`,J)).json();if(De.error)throw Bn.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(le){throw Bn.create("token-unsubscribe-failed",{errorInfo:null===(O=le)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function qs({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Oa(I){return ko.apply(this,arguments)}function ko(){return(ko=(0,M.Z)(function*({appConfig:I,installations:C}){const O=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Me({p256dh:I,auth:C,endpoint:O,vapidKey:L}){const J={web:{endpoint:O,auth:C,p256dh:I}};return L!==Ts&&(J.web.applicationPubKey=L),J}const Kt=6048e5;function wh(I){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,M.Z)(function*(I){const C=yield Dh(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:ss(C.getKey("auth")),p256dh:ss(C.getKey("p256dh"))},L=yield zs(I.firebaseDependencies);if(L){if(Gp(L.subscriptionOptions,O))return Date.now()>=L.createTime+Kt?Sl(I,{token:L.token,createTime:Date.now(),subscriptionOptions:O}):L.token;try{yield Fc(I.firebaseDependencies,L.token)}catch(J){console.warn(J)}return Al(I.firebaseDependencies,O)}return Al(I.firebaseDependencies,O)})).apply(this,arguments)}function er(I){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,M.Z)(function*(I){const C=yield zs(I.firebaseDependencies);C&&(yield Fc(I.firebaseDependencies,C.token),yield Is(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Sl(I,C){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,M.Z)(function*(I,C){try{const O=yield Hp(I.firebaseDependencies,C),L=Object.assign(Object.assign({},C),{token:O,createTime:Date.now()});return yield nn(I.firebaseDependencies,L),O}catch(O){throw yield er(I),O}})).apply(this,arguments)}function Al(I,C){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,M.Z)(function*(I,C){const L={token:yield Mt(I,C),createTime:Date.now(),subscriptionOptions:C};return yield nn(I,L),L.token})).apply(this,arguments)}function Dh(I,C){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,M.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ei(C)})})).apply(this,arguments)}function Gp(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}function os(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function tr(I,C){if(!C.notification)return;I.notification={};const O=C.notification.title;O&&(I.notification.title=O);const L=C.notification.body;L&&(I.notification.body=L);const J=C.notification.image;J&&(I.notification.image=J)}(C,I),function Fi(I,C){!C.data||(I.data=C.data)}(C,I),function Ma(I,C){var O,L,J,le,De;if(!(C.fcmOptions||null!==(O=C.notification)&&void 0!==O&&O.click_action))return;I.fcmOptions={};const We=null!==(J=null===(L=C.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==J?J:null===(le=C.notification)||void 0===le?void 0:le.click_action;We&&(I.fcmOptions.link=We);const _t=null===(De=C.fcmOptions)||void 0===De?void 0:De.analytics_label;_t&&(I.fcmOptions.analyticsLabel=_t)}(C,I),C}function xa(I){return"object"==typeof I&&!!I&&Il in I}function as(I,C){const O=[];for(let L=0;L<I.length;L++)O.push(I.charAt(L)),L<C.length&&O.push(C.charAt(L));return O.join("")}function Tu(I){return Bn.create("missing-app-config-values",{valueName:I})}as("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),as("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vc{constructor(C,O,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Lc(I){if(!I||!I.options)throw Tu("App Configuration Object");if(!I.name)throw Tu("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const L of C)if(!O[L])throw Tu(L);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:J,installations:O,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Th(I){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,M.Z)(function*(I){var C;try{I.swRegistration=yield navigator.serviceWorker.register(Ir,{scope:Mo}),I.swRegistration.update().catch(()=>{})}catch(O){throw Bn.create("failed-service-worker-registration",{browserErrorMessage:null===(C=O)||void 0===C?void 0:C.message})}})).apply(this,arguments)}function Iu(I,C){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,M.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield Th(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Bn.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function Eu(I,C){return ka.apply(this,arguments)}function ka(){return(ka=(0,M.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=Ts)})).apply(this,arguments)}function Bo(){return(Bo=(0,M.Z)(function*(I,C){if(!navigator)throw Bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bn.create("permission-blocked");return yield Eu(I,C?.vapidKey),yield Iu(I,C?.serviceWorkerRegistration),wh(I)})).apply(this,arguments)}function Ih(I,C,O){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,M.Z)(function*(I,C,O){const L=Eh(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:O[Il],message_name:O[bu],message_time:O[Pc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Eh(I){switch(I){case gi.NOTIFICATION_CLICKED:return"notification_open";case gi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Es(){return(Es=(0,M.Z)(function*(I,C){const O=C.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===gi.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(os(O)):I.onMessageHandler.next(os(O)));const L=O.data;xa(L)&&"1"===L[xo]&&(yield Ih(I,O.messageType,L))})).apply(this,arguments)}const Cs="@firebase/messaging",Nn=I=>{const C=new Vc(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Bc(I,C){return Es.apply(this,arguments)}(C,O)),C},ls=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:L=>function Uc(I,C){return Bo.apply(this,arguments)}(C,L)}};function $c(){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,M.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function On(){(0,se._registerComponent)(new _e.wA("messaging",Nn,"PUBLIC")),(0,se._registerComponent)(new _e.wA("messaging-internal",ls,"PRIVATE")),(0,se.registerVersion)(Cs,"0.9.16"),(0,se.registerVersion)(Cs,"0.9.16","esm2017")}();const Ho="analytics",Wc="firebase_id",Ou="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zc="https://www.googletagmanager.com/gtag/js",jn=new pe.Yd("@firebase/analytics");function Nl(I){return Promise.all(I.map(C=>C.catch(O=>O)))}function Ol(I,C){const O=document.createElement("script");O.src=`${zc}?l=${I}&id=${C}`,O.async=!0,document.head.appendChild(O)}function Sh(I,C,O,L,J,le){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,M.Z)(function*(I,C,O,L,J,le){const De=L[J];try{if(De)yield C[De];else{const _t=(yield Nl(O)).find(Nt=>Nt.measurementId===J);_t&&(yield C[_t.appId])}}catch(We){jn.error(We)}I("config",J,le)})).apply(this,arguments)}function us(I,C,O,L,J){return La.apply(this,arguments)}function La(){return(La=(0,M.Z)(function*(I,C,O,L,J){try{let le=[];if(J&&J.send_to){let De=J.send_to;Array.isArray(De)||(De=[De]);const We=yield Nl(O);for(const _t of De){const Nt=We.find(vt=>vt.measurementId===_t),kt=Nt&&C[Nt.appId];if(!kt){le=[];break}le.push(kt)}}0===le.length&&(le=Object.values(C)),yield Promise.all(le),I("event",L,J||{})}catch(le){jn.error(le)}})).apply(this,arguments)}function qc(){const I=window.document.getElementsByTagName("script");for(const C of Object.values(I))if(C.src&&C.src.includes(zc))return C;return null}const nr=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ua=new class Mu{constructor(C={},O=1e3){this.throttleMetadata=C,this.intervalMillis=O}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,O){this.throttleMetadata[C]=O}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Go(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Oh(I){return $n.apply(this,arguments)}function $n(){return($n=(0,M.Z)(function*(I){var C;const{appId:O,apiKey:L}=I,J={method:"GET",headers:Go(L)},le=Ou.replace("{app-id}",O),De=yield fetch(le,J);if(200!==De.status&&304!==De.status){let We="";try{const _t=yield De.json();null!==(C=_t.error)&&void 0!==C&&C.message&&(We=_t.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:De.status,responseMessage:We})}return De.json()})).apply(this,arguments)}function Zc(I){return ti.apply(this,arguments)}function ti(){return(ti=(0,M.Z)(function*(I,C=Ua,O){const{appId:L,apiKey:J,measurementId:le}=I.options;if(!L)throw nr.create("no-app-id");if(!J){if(le)return{measurementId:le,appId:L};throw nr.create("no-api-key")}const De=C.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Ba;return setTimeout((0,M.Z)(function*(){We.abort()}),void 0!==O?O:6e4),Kc({appId:L,apiKey:J,measurementId:le},De,We,C)})).apply(this,arguments)}function Kc(I,C,O){return cs.apply(this,arguments)}function cs(){return(cs=(0,M.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:O},L,J=Ua){var le,De;const{appId:We,measurementId:_t}=I;try{yield xu(L,C)}catch(Nt){if(_t)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${null===(le=Nt)||void 0===le?void 0:le.message}]`),{appId:We,measurementId:_t};throw Nt}try{const Nt=yield Oh(I);return J.deleteThrottleMetadata(We),Nt}catch(Nt){const kt=Nt;if(!xl(kt)){if(J.deleteThrottleMetadata(We),_t)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${kt?.message}]`),{appId:We,measurementId:_t};throw Nt}const vt=503===Number(null===(De=kt?.customData)||void 0===De?void 0:De.httpStatus)?(0,ue.$s)(O,J.intervalMillis,30):(0,ue.$s)(O,J.intervalMillis),Yn={throttleEndTimeMillis:Date.now()+vt,backoffCount:O+1};return J.setThrottleMetadata(We,Yn),jn.debug(`Calling attemptFetch again in ${vt} millis`),Kc(I,Yn,L,J)}})).apply(this,arguments)}function xu(I,C){return new Promise((O,L)=>{const J=Math.max(C-Date.now(),0),le=setTimeout(O,J);I.addEventListener(()=>{clearTimeout(le),L(nr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function xl(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Ba{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Zs,kl;function Wo(){return(Wo=(0,M.Z)(function*(I,C,O,L,J){if(J&&J.global)I("event",O,L);else{const le=yield C;I("event",O,Object.assign(Object.assign({},L),{send_to:le}))}})).apply(this,arguments)}function Ko(I){kl=I}function Pu(I){Zs=I}function As(){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,M.Z)(function*(){var I;if(!(0,ue.hl)())return jn.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(C){return jn.warn(nr.create("indexeddb-unavailable",{errorInfo:null===(I=C)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function Jo(){return(Jo=(0,M.Z)(function*(I,C,O,L,J,le,De){var We;const _t=Zc(I);_t.then(Cr=>{O[Cr.measurementId]=Cr.appId,I.options.measurementId&&Cr.measurementId!==I.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Cr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Cr=>jn.error(Cr)),C.push(_t);const Nt=As().then(Cr=>{if(Cr)return L.getId()}),[kt,vt]=yield Promise.all([_t,Nt]);qc()||Ol(le,kt.measurementId),kl&&(J("consent","default",kl),Ko(void 0)),J("js",new Date);const Yn=null!==(We=De?.config)&&void 0!==We?We:{};return Yn.origin="firebase",Yn.update=!0,null!=vt&&(Yn[Wc]=vt),J("config",kt.measurementId,Yn),Zs&&(J("set",Zs),Pu(void 0)),kt.measurementId})).apply(this,arguments)}class Fl{constructor(C){this.app=C}_delete(){return delete xr[this.app.options.appId],Promise.resolve()}}let xr={},Qo=[];const Ks={};let ea,Vi,Xo="dataLayer",Jc=!1;function xh(I,C,O){!function Wp(){const I=[];if((0,ue.ru)()&&I.push("This is a browser extension environment."),(0,ue.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((L,J)=>`(${J+1}) ${L}`).join(" "),O=nr.create("invalid-analytics-context",{errorInfo:C});jn.warn(O.message)}}();const L=I.options.appId;if(!L)throw nr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw nr.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xr[L])throw nr.create("already-exists",{id:L});if(!Jc){!function Rl(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}(Xo);const{wrappedGtag:le,gtagCore:De}=function Va(I,C,O,L,J){let le=function(...De){window[L].push(arguments)};return window[J]&&"function"==typeof window[J]&&(le=window[J]),window[J]=function Ru(I,C,O,L){function le(){return(le=(0,M.Z)(function*(De,We,_t){try{"event"===De?yield us(I,C,O,We,_t):"config"===De?yield Sh(I,C,O,L,We,_t):"consent"===De?I("consent","update",_t):I("set",We)}catch(Nt){jn.error(Nt)}})).apply(this,arguments)}return function J(De,We,_t){return le.apply(this,arguments)}}(le,I,C,O),{gtagCore:le,wrappedGtag:window[J]}}(xr,Qo,Ks,Xo,"gtag");Vi=le,ea=De,Jc=!0}return xr[L]=function Mh(I,C,O,L,J,le,De){return Jo.apply(this,arguments)}(I,Qo,Ks,C,ea,Xo,O),new Fl(I)}function p_(){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,M.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const ct="@firebase/analytics";!function rn(){(0,se._registerComponent)(new _e.wA(Ho,(C,{options:O})=>xh(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,se._registerComponent)(new _e.wA("analytics-internal",function I(C){try{const O=C.getProvider(Ho).getImmediate();return{logEvent:(L,J,le)=>function cn(I,C,O,L){I=(0,ue.m9)(I),function ja(I,C,O,L,J){return Wo.apply(this,arguments)}(Vi,xr[I.app.options.appId],C,O,L).catch(J=>jn.error(J))}(O,L,J,le)}}catch(O){throw nr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,se.registerVersion)(ct,"0.8.0"),(0,se.registerVersion)(ct,"0.8.0","esm2017")}();var ds=P(4408),Pn=P(7565);const Qc=new class Js extends Pn.v{}(class Ys extends ds.o{constructor(C,O){super(C,O),this.scheduler=C,this.work=O}schedule(C,O=0){return O>0?super.schedule(C,O):(this.delay=O,this.state=C,this.scheduler.flush(this),this)}execute(C,O){return O>0||this.closed?super.execute(C,O):this._execute(C,O)}requestAsyncId(C,O,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(C,O,L):C.flush(this)}});var kh=P(4986),Ns=P(9751),ed=P(8505),Os=P(9468),st=P(5363);const Fu=new u.GfV("7.4.1"),Ui="__angularfire_symbol__analyticsIsSupportedValue",Ha="__angularfire_symbol__analyticsIsSupported",Ga="__angularfire_symbol__remoteConfigIsSupportedValue",Cn="__angularfire_symbol__remoteConfigIsSupported",Wa="__angularfire_symbol__messagingIsSupportedValue",ta="__angularfire_symbol__messagingIsSupported";function Rs(I,C,O){if(C){if(1===C.length)return C[0];const le=C.filter(De=>De.app===O);if(1===le.length)return le[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ha]||(globalThis[Ha]=p_().then(I=>globalThis[Ui]=I).catch(()=>globalThis[Ui]=!1)),globalThis[ta]||(globalThis[ta]=$c().then(I=>globalThis[Wa]=I).catch(()=>globalThis[Wa]=!1)),globalThis[Cn]||(globalThis[Cn]=h_().then(I=>globalThis[Ga]=I).catch(()=>globalThis[Ga]=!1));const ni=(I,C)=>{const O=C?[C]:(0,U.C6)(),L=[];return O.forEach(J=>{J.container.getProvider(I).instances.forEach(De=>{L.includes(De)||L.push(De)})}),L};function Ni(){}class Ul{constructor(C,O=Qc){this.zone=C,this.delegate=O}now(){return this.delegate.now()}schedule(C,O,L){const J=this.zone;return this.delegate.schedule(function(De){J.runGuarded(()=>{C.apply(this,[De])})},O,L)}}class Pr{constructor(C){this.zone=C,this.task=null}call(C,O){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)),O.pipe((0,ed.b)({next:L,complete:L,error:L})).subscribe(C).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qs=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Ul(Zone.current)),this.insideAngular=O.run(()=>new Ul(Zone.current,kh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(u.LFG(u.R0b))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function gr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function td(I){return gr().ngZone.runOutsideAngular(()=>I())}function vn(I){return gr().ngZone.run(()=>I())}function Hn(I){return gr(),function Qt(I){return function(O){return(O=O.lift(new Pr(I.ngZone))).pipe((0,Os.R)(I.outsideAngular),(0,st.Q)(I.insideAngular))}}(gr())(I)}const Bi=(I,C)=>function(){const L=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),vn(()=>I.apply(void 0,L))},Kn=(I,C)=>function(){let O;const L=arguments;for(let le=0;le<arguments.length;le++)"function"==typeof L[le]&&(C&&(O||(O=vn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)))),L[le]=Bi(L[le],O));const J=td(()=>I.apply(this,L));if(!C){if(J instanceof Ns.y){const le=gr();return J.pipe((0,Os.R)(le.outsideAngular),(0,st.Q)(le.insideAngular))}return vn(()=>J)}return J instanceof Ns.y?J.pipe(Hn):J instanceof Promise?vn(()=>new Promise((le,De)=>J.then(We=>vn(()=>le(We)),We=>vn(()=>De(We))))):"function"==typeof J&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),J.apply(this,arguments)}:vn(()=>J)}},5694:(gt,Oe,P)=>{P.d(Oe,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp});var u=P(9681)},7554:(gt,Oe,P)=>{P.d(Oe,{Z:()=>u.Z});var u=P(3942)},3151:(gt,Oe,P)=>{P.r(Oe);var u=P(5861),U=P(3942),M=P(7143),se=P(2090),pe=(P(9681),P(1877),P(4859));function he(){return window}function W(){return(W=(0,u.Z)(function*(te,j,H){var we;const{BuildInfo:qe}=he();(0,M.aq)(j.sessionId,"AuthEvent did not contain a session ID");const wt=yield ge(j.sessionId),It={};return(0,M.ar)()?It.ibi=qe.packageName:(0,M.as)()?It.apn=qe.packageName:(0,M.at)(te,"operation-not-supported-in-this-environment"),qe.displayName&&(It.appDisplayName=qe.displayName),It.sessionId=wt,(0,M.au)(te,H,j.type,void 0,null!==(we=j.eventId)&&void 0!==we?we:void 0,It)})).apply(this,arguments)}function He(){return(He=(0,u.Z)(function*(te){const{BuildInfo:j}=he(),H={};(0,M.ar)()?H.iosBundleId=j.packageName:(0,M.as)()?H.androidPackageName=j.packageName:(0,M.at)(te,"operation-not-supported-in-this-environment"),yield(0,M.av)(te,H)})).apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(te,j,H){const{cordova:we}=he();let qe=()=>{};try{yield new Promise((wt,It)=>{let ke=null;function ot(){var Ut;wt();const pn=null===(Ut=we.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof pn&&pn(),"function"==typeof H?.close&&H.close()}function Jt(){ke||(ke=window.setTimeout(()=>{It((0,M.aw)(te,"redirect-cancelled-by-user"))},2e3))}function An(){"visible"===document?.visibilityState&&Jt()}j.addPassiveListener(ot),document.addEventListener("resume",Jt,!1),(0,M.as)()&&document.addEventListener("visibilitychange",An,!1),qe=()=>{j.removePassiveListener(ot),document.removeEventListener("resume",Jt,!1),document.removeEventListener("visibilitychange",An,!1),ke&&window.clearTimeout(ke)}})}finally{qe()}})).apply(this,arguments)}function ge(te){return tt.apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(te){const j=nt(te),H=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(H)).map(qe=>qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function nt(te){if((0,M.aq)(/[0-9a-zA-Z]+/.test(te),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(te);const j=new ArrayBuffer(te.length),H=new Uint8Array(j);for(let we=0;we<te.length;we++)H[we]=te.charCodeAt(we);return H}class Re extends M.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(j)),super.onEvent(j)}initialized(){var j=this;return(0,u.Z)(function*(){yield j.initPromise})()}}function ie(te){return ce.apply(this,arguments)}function ce(){return(ce=(0,u.Z)(function*(te){const j=yield ee()._get(fe(te));return j&&(yield ee()._remove(fe(te))),j})).apply(this,arguments)}function Q(){const te=[],j="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const we=Math.floor(Math.random()*j.length);te.push(j.charAt(we))}return te.join("")}function ee(){return(0,M.ay)(M.b)}function fe(te){return(0,M.az)("authEvent",te.config.apiKey,te.name)}function Ue(te){if(!te?.includes("?"))return{};const[j,...H]=te.split("?");return(0,se.zd)(H.join("?"))}function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,M.aw)("no-auth-event")}}function Wt(){var te;return(null===(te=self?.location)||void 0===te?void 0:te.protocol)||null}function br(te=(0,se.z$)()){return!("file:"!==Wt()&&"ionic:"!==Wt()&&"capacitor:"!==Wt()||!te.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mi(){try{const te=self.localStorage,j=M.aI();if(te)return te.setItem(j,"1"),te.removeItem(j),!function Qi(te=(0,se.z$)()){return function wr(){return(0,se.w1)()&&11===document?.documentMode}()||function Sn(te=(0,se.z$)()){return/Edge\/\d+/.test(te)}(te)}()||(0,se.hl)()}catch{return Yr()&&(0,se.hl)()}return!1}function Yr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return(function jt(){return"http:"===Wt()||"https:"===Wt()}()||(0,se.ru)()||br())&&!function Co(){return(0,se.b$)()||(0,se.UG)()}()&&Mi()&&!Yr()}function xi(){return br()&&typeof document<"u"}function it(){return(it=(0,u.Z)(function*(){return!!xi()&&new Promise(te=>{const j=setTimeout(()=>{te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),te(!0)})})})).apply(this,arguments)}const Un={LOCAL:"local",NONE:"none",SESSION:"session"},fn=M.ax,Dr="persistence";function wn(te){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(te){yield te._initializationPromise;const j=mt(),H=M.az(Dr,te.config.apiKey,te.name);j&&j.setItem(H,te._getPersistence())})).apply(this,arguments)}function mt(){var te;try{return(null===(te=function dr(){return typeof window<"u"?window:null}())||void 0===te?void 0:te.sessionStorage)||null}catch{return null}}const yt=M.ax;class Pt{constructor(){this.browserResolver=M.ay(M.k),this.cordovaResolver=M.ay(class en{constructor(){this._redirectPersistence=M.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(j){var H=this;return(0,u.Z)(function*(){const we=j._key();let qe=H.eventManagers.get(we);return qe||(qe=new Re(j),H.eventManagers.set(we,qe),H.attachCallbackListeners(j,qe)),qe})()}_openPopup(j){(0,M.at)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,H,we,qe){var wt=this;return(0,u.Z)(function*(){!function Te(te){var j,H,we,qe,wt,It,ke,ot,Jt,An;const Ut=he();(0,M.ax)("function"==typeof(null===(j=Ut?.universalLinks)||void 0===j?void 0:j.subscribe),te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,M.ax)(typeof(null===(H=Ut?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,M.ax)("function"==typeof(null===(wt=null===(qe=null===(we=Ut?.cordova)||void 0===we?void 0:we.plugins)||void 0===qe?void 0:qe.browsertab)||void 0===wt?void 0:wt.openUrl),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(ot=null===(ke=null===(It=Ut?.cordova)||void 0===It?void 0:It.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===ot?void 0:ot.isAvailable),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(An=null===(Jt=Ut?.cordova)||void 0===Jt?void 0:Jt.InAppBrowser)||void 0===An?void 0:An.open),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const It=yield wt._initialize(j);yield It.initialized(),It.resetRedirect(),(0,M.aD)(),yield wt._originValidation(j);const ke=function Ce(te,j,H=null){return{type:j,eventId:H,urlResponse:null,sessionId:Q(),postBody:null,tenantId:te.tenantId,error:(0,M.aw)(te,"no-auth-event")}}(j,we,qe);yield function Ze(te,j){return ee()._set(fe(te),j)}(j,ke);const ot=yield function G(te,j,H){return W.apply(this,arguments)}(j,ke,H),Jt=yield function Pe(te){const{cordova:j}=he();return new Promise(H=>{j.plugins.browsertab.isAvailable(we=>{let qe=null;we?j.plugins.browsertab.openUrl(te):qe=j.InAppBrowser.open(te,(0,M.ap)()?"_blank":"_system","location=yes"),H(qe)})})}(ot);return function Ee(te,j,H){return at.apply(this,arguments)}(j,It,Jt)})()}_isIframeWebStorageSupported(j,H){throw new Error("Method not implemented.")}_originValidation(j){const H=j._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function X(te){return He.apply(this,arguments)}(j)),this.originValidationPromises[H]}attachCallbackListeners(j,H){const{universalLinks:we,handleOpenURL:qe,BuildInfo:wt}=he(),It=setTimeout((0,u.Z)(function*(){yield ie(j),H.onEvent(Ke())}),500),ke=function(){var An=(0,u.Z)(function*(Ut){clearTimeout(It);const pn=yield ie(j);let es=null;pn&&Ut?.url&&(es=function ve(te,j){var H,we;const qe=function Ve(te){const j=Ue(te),H=j.link?decodeURIComponent(j.link):void 0,we=Ue(H).link,qe=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return Ue(qe).link||qe||we||H||te}(j);if(qe.includes("/__/auth/callback")){const wt=Ue(qe),It=wt.firebaseError?function oe(te){try{return JSON.parse(te)}catch{return null}}(decodeURIComponent(wt.firebaseError)):null,ke=null===(we=null===(H=It?.code)||void 0===H?void 0:H.split("auth/"))||void 0===we?void 0:we[1],ot=ke?(0,M.aw)(ke):null;return ot?{type:te.type,eventId:te.eventId,tenantId:te.tenantId,error:ot,urlResponse:null,sessionId:null,postBody:null}:{type:te.type,eventId:te.eventId,tenantId:te.tenantId,sessionId:te.sessionId,urlResponse:qe,postBody:null}}return null}(pn,Ut.url)),H.onEvent(es||Ke())});return function(pn){return An.apply(this,arguments)}}();typeof we<"u"&&"function"==typeof we.subscribe&&we.subscribe(null,ke);const ot=qe,Jt=`${wt.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var An=(0,u.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(Jt)&&ke({url:Ut}),"function"==typeof ot)try{ot(Ut)}catch(pn){console.error(pn)}});return function(Ut){return An.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=M.a,this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(j){var H=this;return(0,u.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,H,we,qe){var wt=this;return(0,u.Z)(function*(){return yield wt.selectUnderlyingResolver(),wt.assertedUnderlyingResolver._openPopup(j,H,we,qe)})()}_openRedirect(j,H,we,qe){var wt=this;return(0,u.Z)(function*(){return yield wt.selectUnderlyingResolver(),wt.assertedUnderlyingResolver._openRedirect(j,H,we,qe)})()}_isIframeWebStorageSupported(j,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,H)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return xi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,u.Z)(function*(){if(j.underlyingResolver)return;const H=yield function Pi(){return it.apply(this,arguments)}();j.underlyingResolver=H?j.cordovaResolver:j.browserResolver})()}}function Vr(te){return te.unwrap()}function Tr(te){return Mr(te)}function Mr(te){const{_tokenResponse:j}=te instanceof se.ZR?te.customData:te;if(!j)return null;if(!(te instanceof se.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return M.P.credentialFromResult(te);const H=j.providerId;if(!H||H===M.o.PASSWORD)return null;let we;switch(H){case M.o.GOOGLE:we=M.Q;break;case M.o.FACEBOOK:we=M.N;break;case M.o.GITHUB:we=M.T;break;case M.o.TWITTER:we=M.W;break;default:const{oauthIdToken:qe,oauthAccessToken:wt,oauthTokenSecret:It,pendingToken:ke,nonce:ot}=j;return wt||It||qe||ke?ke?H.startsWith("saml.")?M.aL._create(H,ke):M.J._fromParams({providerId:H,signInMethod:H,pendingToken:ke,idToken:qe,accessToken:wt}):new M.U(H).credential({idToken:qe,accessToken:wt,rawNonce:ot}):null}return te instanceof se.ZR?we.credentialFromError(te):we.credentialFromResult(te)}function Ft(te,j){return j.catch(H=>{throw H instanceof se.ZR&&function Ct(te,j){var H,we;const qe=null===(H=j.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===(null===(we=j)||void 0===we?void 0:we.code))j.resolver=new K(te,M.an(te,j));else if(qe){const wt=Mr(j),It=j;wt&&(It.credential=wt,It.tenantId=qe.tenantId||void 0,It.email=qe.email||void 0,It.phoneNumber=qe.phoneNumber||void 0)}}(te,H),H}).then(H=>{const qe=H.user;return{operationType:H.operationType,credential:Tr(H),additionalUserInfo:M.al(H),user:$.getOrCreate(qe)}})}function Jr(te,j){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(te,j){const H=yield j;return{verificationId:H.verificationId,confirm:we=>Ft(te,H.confirm(we))}})).apply(this,arguments)}class K{constructor(j,H){this.resolver=H,this.auth=function hr(te){return te.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return Ft(Vr(this.auth),this.resolver.resolveSignIn(j))}}class ${constructor(j){this._delegate=j,this.multiFactor=M.ao(j)}static getOrCreate(j){return $.USER_MAP.has(j)||$.USER_MAP.set(j,new $(j)),$.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var H=this;return(0,u.Z)(function*(){return Ft(H.auth,M.Z(H._delegate,j))})()}linkWithPhoneNumber(j,H){var we=this;return(0,u.Z)(function*(){return Jr(we.auth,M.l(we._delegate,j,H))})()}linkWithPopup(j){var H=this;return(0,u.Z)(function*(){return Ft(H.auth,M.d(H._delegate,j,Pt))})()}linkWithRedirect(j){var H=this;return(0,u.Z)(function*(){return yield wn(M.aE(H.auth)),M.g(H._delegate,j,Pt)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var H=this;return(0,u.Z)(function*(){return Ft(H.auth,M._(H._delegate,j))})()}reauthenticateWithPhoneNumber(j,H){return Jr(this.auth,M.r(this._delegate,j,H))}reauthenticateWithPopup(j){return Ft(this.auth,M.e(this._delegate,j,Pt))}reauthenticateWithRedirect(j){var H=this;return(0,u.Z)(function*(){return yield wn(M.aE(H.auth)),M.h(H._delegate,j,Pt)})()}sendEmailVerification(j){return M.ab(this._delegate,j)}unlink(j){var H=this;return(0,u.Z)(function*(){return yield M.ak(H._delegate,j),H})()}updateEmail(j){return M.ag(this._delegate,j)}updatePassword(j){return M.ah(this._delegate,j)}updatePhoneNumber(j){return M.u(this._delegate,j)}updateProfile(j){return M.af(this._delegate,j)}verifyBeforeUpdateEmail(j,H){return M.ac(this._delegate,j,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$.USER_MAP=new WeakMap;const B=M.ax;let z=(()=>{class te{constructor(H,we){if(this.app=H,we.isInitialized())return this._delegate=we.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:qe}=H.options;B(qe,"invalid-api-key",{appName:H.name}),B(qe,"invalid-api-key",{appName:H.name});const wt=typeof window<"u"?Pt:void 0;this._delegate=we.initialize({options:{persistence:Ne(qe,H.name),popupRedirectResolver:wt}}),this._delegate._updateErrorMap(M.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,we){M.G(this._delegate,H,we)}applyActionCode(H){return M.a2(this._delegate,H)}checkActionCode(H){return M.a3(this._delegate,H)}confirmPasswordReset(H,we){return M.a1(this._delegate,H,we)}createUserWithEmailAndPassword(H,we){var qe=this;return(0,u.Z)(function*(){return Ft(qe._delegate,M.a5(qe._delegate,H,we))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return M.aa(this._delegate,H)}isSignInWithEmailLink(H){return M.a8(this._delegate,H)}getRedirectResult(){var H=this;return(0,u.Z)(function*(){B(Vn(),H._delegate,"operation-not-supported-in-this-environment");const we=yield M.j(H._delegate,Pt);return we?Ft(H._delegate,Promise.resolve(we)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function mn(te,j){(0,M.aE)(te)._logFramework(j)}(this._delegate,H)}onAuthStateChanged(H,we,qe){const{next:wt,error:It,complete:ke}=q(H,we,qe);return this._delegate.onAuthStateChanged(wt,It,ke)}onIdTokenChanged(H,we,qe){const{next:wt,error:It,complete:ke}=q(H,we,qe);return this._delegate.onIdTokenChanged(wt,It,ke)}sendSignInLinkToEmail(H,we){return M.a7(this._delegate,H,we)}sendPasswordResetEmail(H,we){return M.a0(this._delegate,H,we||void 0)}setPersistence(H){var we=this;return(0,u.Z)(function*(){let qe;switch(function Xi(te,j){fn(Object.values(Un).includes(j),te,"invalid-persistence-type"),(0,se.b$)()?fn(j!==Un.SESSION,te,"unsupported-persistence-type"):(0,se.UG)()?fn(j===Un.NONE,te,"unsupported-persistence-type"):Yr()?fn(j===Un.NONE||j===Un.LOCAL&&(0,se.hl)(),te,"unsupported-persistence-type"):fn(j===Un.NONE||Mi(),te,"unsupported-persistence-type")}(we._delegate,H),H){case Un.SESSION:qe=M.a;break;case Un.LOCAL:qe=(yield M.ay(M.i)._isAvailable())?M.i:M.b;break;case Un.NONE:qe=M.L;break;default:return M.at("argument-error",{appName:we._delegate.name})}return we._delegate.setPersistence(qe)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return Ft(this._delegate,M.X(this._delegate))}signInWithCredential(H){return Ft(this._delegate,M.Y(this._delegate,H))}signInWithCustomToken(H){return Ft(this._delegate,M.$(this._delegate,H))}signInWithEmailAndPassword(H,we){return Ft(this._delegate,M.a6(this._delegate,H,we))}signInWithEmailLink(H,we){return Ft(this._delegate,M.a9(this._delegate,H,we))}signInWithPhoneNumber(H,we){return Jr(this._delegate,M.s(this._delegate,H,we))}signInWithPopup(H){var we=this;return(0,u.Z)(function*(){return B(Vn(),we._delegate,"operation-not-supported-in-this-environment"),Ft(we._delegate,M.c(we._delegate,H,Pt))})()}signInWithRedirect(H){var we=this;return(0,u.Z)(function*(){return B(Vn(),we._delegate,"operation-not-supported-in-this-environment"),yield wn(we._delegate),M.f(we._delegate,H,Pt)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return M.a4(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return te.Persistence=Un,te})();function q(te,j,H){let we=te;"function"!=typeof te&&({next:we,error:j,complete:H}=te);const qe=we;return{next:It=>qe(It&&$.getOrCreate(It)),error:j,complete:H}}function Ne(te,j){const H=function yn(te,j){const H=mt();if(!H)return[];const we=M.az(Dr,te,j);switch(H.getItem(we)){case Un.NONE:return[M.L];case Un.LOCAL:return[M.i,M.a];case Un.SESSION:return[M.a];default:return[]}}(te,j);if(typeof self<"u"&&!H.includes(M.i)&&H.push(M.i),typeof window<"u")for(const we of[M.b,M.a])H.includes(we)||H.push(we);return H.includes(M.L)||H.push(M.L),H}class Ge{constructor(){this.providerId="phone",this._delegate=new M.P(Vr(U.Z.auth()))}static credential(j,H){return M.P.credential(j,H)}verifyPhoneNumber(j,H){return this._delegate.verifyPhoneNumber(j,H)}unwrap(){return this._delegate}}Ge.PHONE_SIGN_IN_METHOD=M.P.PHONE_SIGN_IN_METHOD,Ge.PROVIDER_ID=M.P.PROVIDER_ID;const Tt=M.ax;class an{constructor(j,H,we=U.Z.app()){var qe;Tt(null===(qe=we.options)||void 0===qe?void 0:qe.apiKey,"invalid-api-key",{appName:we.name}),this._delegate=new M.R(j,H,we.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Qn(te){te.INTERNAL.registerComponent(new pe.wA("auth-compat",j=>{const H=j.getProvider("app-compat").getImmediate(),we=j.getProvider("auth");return new z(H,we)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:M.A.EMAIL_SIGNIN,PASSWORD_RESET:M.A.PASSWORD_RESET,RECOVER_EMAIL:M.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:M.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:M.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:M.A.VERIFY_EMAIL}},EmailAuthProvider:M.M,FacebookAuthProvider:M.N,GithubAuthProvider:M.T,GoogleAuthProvider:M.Q,OAuthProvider:M.U,SAMLAuthProvider:M.V,PhoneAuthProvider:Ge,PhoneMultiFactorGenerator:M.m,RecaptchaVerifier:an,TwitterAuthProvider:M.W,Auth:z,AuthCredential:M.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),te.registerVersion("@firebase/auth-compat","0.2.20")}(U.Z)},7143:(gt,Oe,P)=>{P.d(Oe,{$:()=>qs,A:()=>W,B:()=>Pe,G:()=>So,H:()=>Qr,J:()=>is,L:()=>an,M:()=>Tl,N:()=>xc,P:()=>kh,Q:()=>Il,R:()=>g_,T:()=>bu,U:()=>Ts,V:()=>gi,W:()=>ss,X:()=>$p,Y:()=>Ca,Z:()=>Mt,_:()=>Hp,a:()=>Ss,a0:()=>wh,a1:()=>er,a2:()=>Sl,a3:()=>Al,a4:()=>Dh,a5:()=>Gp,a6:()=>tr,a7:()=>Fi,a8:()=>xa,a9:()=>as,aA:()=>Yn,aB:()=>We,aC:()=>vn,aD:()=>td,aE:()=>Dt,aI:()=>Go,aL:()=>xo,aa:()=>Th,ab:()=>Iu,ac:()=>Eu,af:()=>Ih,ag:()=>Eh,ah:()=>Bc,ak:()=>Ci,al:()=>Su,an:()=>zc,ao:()=>Ml,ap:()=>Jt,aq:()=>ve,ar:()=>ot,as:()=>wt,at:()=>nt,au:()=>jl,av:()=>Sr,aw:()=>Fe,ax:()=>ie,ay:()=>ee,az:()=>on,b:()=>nr,c:()=>Cn,d:()=>Fh,e:()=>ta,f:()=>Hn,g:()=>O,h:()=>Kn,i:()=>Yo,j:()=>le,k:()=>$h,l:()=>Rn,m:()=>Ps,o:()=>he,r:()=>ds,s:()=>Ai,u:()=>Qc});var u=P(5861),U=P(2090),M=P(9681),se=P(655),ue=P(1877),_e=P(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ee=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new ue.Yd("@firebase/auth");function tt(v,...g){ge.logLevel<=ue.in.ERROR&&ge.error(`Auth (${M.SDK_VERSION}): ${v}`,...g)}function nt(v,...g){throw Ze(v,...g)}function Fe(v,...g){return Ze(v,...g)}function Re(v,g,m){const D=Object.assign(Object.assign({},Ee()),{[g]:m});return new U.LL("auth","Firebase",D).create(g,{appName:v.name})}function Ce(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&nt(v,"argument-error"),Re(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(v,...g){if("string"!=typeof v){const m=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=v.name),v._errorFactory.create(m,...D)}return at.create(v,...g)}function ie(v,g,...m){if(!v)throw Ze(g,...m)}function ce(v){const g="INTERNAL ASSERTION FAILED: "+v;throw tt(g),new Error(g)}function ve(v,g){v||ce(g)}const Q=new Map;function ee(v){ve(v instanceof Function,"Expected a class definition");let g=Q.get(v);return g?(ve(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,Q.set(v,g),g)}function Ve(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ue(){return"http:"===bt()||"https:"===bt()}function bt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ke{constructor(g,m){this.shortDelay=g,this.longDelay=m,ve(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function en(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ue()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mn(v,g){ve(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Ln{static initialize(g,m,D){this.fetchImpl=g,m&&(this.headersImpl=m),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tn=new Ke(3e4,6e4);function Wt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function jt(v,g,m,D){return br.apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(v,g,m,D,N={}){return Co(v,N,(0,u.Z)(function*(){let x={},ne={};D&&("GET"===g?ne=D:x={body:JSON.stringify(D)});const Ae=(0,U.xO)(Object.assign({key:v.config.apiKey},ne)).slice(1),Je=yield v._getAdditionalHeaders();return Je["Content-Type"]="application/json",v.languageCode&&(Je["X-Firebase-Locale"]=v.languageCode),Ln.fetch()(Mi(v,v.config.apiHost,m,Ae),Object.assign({method:g,headers:Je,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function Co(v,g,m){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(v,g,m){v._canInitEmulator=!1;const D=Object.assign(Object.assign({},sn),g);try{const N=new Yr(v),x=yield Promise.race([m(),N.promise]);N.clearNetworkTimeout();const ne=yield x.json();if("needConfirmation"in ne)throw Vn(v,"account-exists-with-different-credential",ne);if(x.ok&&!("errorMessage"in ne))return ne;{const Ae=x.ok?ne.errorMessage:ne.error.message,[Je,dt]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw Vn(v,"credential-already-in-use",ne);if("EMAIL_EXISTS"===Je)throw Vn(v,"email-already-in-use",ne);if("USER_DISABLED"===Je)throw Vn(v,"user-disabled",ne);const Bt=D[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw Re(v,Bt,dt);nt(v,Bt)}}catch(N){if(N instanceof U.ZR)throw N;nt(v,"network-request-failed")}})).apply(this,arguments)}function Sn(v,g,m,D){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(v,g,m,D,N={}){const x=yield jt(v,g,m,D,N);return"mfaPendingCredential"in x&&nt(v,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Mi(v,g,m,D){const N=`${g}${m}?${D}`;return v.config.emulator?mn(v.config,N):`${v.config.apiScheme}://${N}`}class Yr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,D)=>{this.timer=setTimeout(()=>D(Fe(this.auth,"network-request-failed")),tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(v,g,m){const D={appName:v.name};m.email&&(D.email=m.email),m.phoneNumber&&(D.phoneNumber=m.phoneNumber);const N=Fe(v,g,D);return N.customData._tokenResponse=m,N}function Pi(){return(Pi=(0,u.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function it(v,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Un(v,g){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Dr(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Tn(){return(Tn=(0,u.Z)(function*(v,g=!1){const m=(0,U.m9)(v),D=yield m.getIdToken(g),N=mt(D);ie(N&&N.exp&&N.auth_time&&N.iat,m.auth,"internal-error");const x="object"==typeof N.firebase?N.firebase:void 0,ne=x?.sign_in_provider;return{claims:N,token:D,authTime:Dr(yn(N.auth_time)),issuedAtTime:Dr(yn(N.iat)),expirationTime:Dr(yn(N.exp)),signInProvider:ne||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function yn(v){return 1e3*Number(v)}function mt(v){var g;const[m,D,N]=v.split(".");if(void 0===m||void 0===D||void 0===N)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,U.tV)(D);return x?JSON.parse(x):(tt("Failed to decode base64 JWT payload"),null)}catch(x){return tt("Caught error parsing JWT payload as JSON",null===(g=x)||void 0===g?void 0:g.toString()),null}}function Pt(v,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(D){throw D instanceof U.ZR&&hr(D)&&v.auth.currentUser===v&&(yield v.auth.signOut()),D}})).apply(this,arguments)}function hr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Tr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const N=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),D)}iteration(){var g=this;return(0,u.Z)(function*(){var m;try{yield g.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(m=D)||void 0===m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class Ct{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dr(this.lastLoginAt),this.creationTime=Dr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mr(v){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(v){var g;const m=v.auth,D=yield v.getIdToken(),N=yield Pt(v,Un(m,{idToken:D}));ie(N?.users.length,m,"internal-error");const x=N.users[0];v._notifyReloadListener(x);const ne=null!==(g=x.providerUserInfo)&&void 0!==g&&g.length?$(x.providerUserInfo):[],Ae=K(v.providerData,ne),Bt=!!v.isAnonymous&&!(v.email&&x.passwordHash||Ae?.length),kn={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:Ae,metadata:new Ct(x.createdAt,x.lastLoginAt),isAnonymous:Bt};Object.assign(v,kn)})).apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(v){const g=(0,U.m9)(v);yield Mr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function K(v,g){return[...v.filter(D=>!g.some(N=>N.providerId===D.providerId)),...g]}function $(v){return v.map(g=>{var{providerId:m}=g,D=(0,se._T)(g,["providerId"]);return{providerId:m,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function z(){return(z=(0,u.Z)(function*(v,g){const m=yield Co(v,{},(0,u.Z)(function*(){const D=(0,U.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:N,apiKey:x}=v.config,ne=Mi(v,N,"/v1/token",`key=${x}`),Ae=yield v._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",Ln.fetch()(ne,{method:"POST",headers:Ae,body:D})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ie(g.idToken,"internal-error"),ie(typeof g.idToken<"u","internal-error"),ie(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function yt(v){const g=mt(v);return ie(g,"internal-error"),ie(typeof g.exp<"u","internal-error"),ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var D=this;return(0,u.Z)(function*(){return ie(!D.accessToken||D.refreshToken,g,"user-token-expired"),m||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var D=this;return(0,u.Z)(function*(){const{accessToken:N,refreshToken:x,expiresIn:ne}=yield function B(v,g){return z.apply(this,arguments)}(g,m);D.updateTokensAndExpiration(N,x,Number(ne))})()}updateTokensAndExpiration(g,m,D){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,m){const{refreshToken:D,accessToken:N,expirationTime:x}=m,ne=new q;return D&&(ie("string"==typeof D,"internal-error",{appName:g}),ne.refreshToken=D),N&&(ie("string"==typeof N,"internal-error",{appName:g}),ne.accessToken=N),x&&(ie("number"==typeof x,"internal-error",{appName:g}),ne.expirationTime=x),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new q,this.toJSON())}_performRefresh(){return ce("not implemented")}}function Ne(v,g){ie("string"==typeof v||typeof v>"u","internal-error",{appName:g})}class Ge{constructor(g){var{uid:m,auth:D,stsTokenManager:N}=g,x=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=D,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Ct(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,u.Z)(function*(){const D=yield Pt(m,m.stsTokenManager.getToken(m.auth,g));return ie(D,m.auth,"internal-error"),m.accessToken!==D&&(m.accessToken=D,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),D})()}getIdTokenResult(g){return function wn(v){return Tn.apply(this,arguments)}(this,g)}reload(){return function Jr(v){return Zt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Ge(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var D=this;return(0,u.Z)(function*(){let N=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),N=!0),m&&(yield Mr(D)),yield D.auth._persistUserIfCurrent(D),N&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,u.Z)(function*(){const m=yield g.getIdToken();return yield Pt(g,function xi(v,g){return Pi.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var D,N,x,ne,Ae,Je,dt,Bt;const kn=null!==(D=m.displayName)&&void 0!==D?D:void 0,hs=null!==(N=m.email)&&void 0!==N?N:void 0,Za=null!==(x=m.phoneNumber)&&void 0!==x?x:void 0,Wh=null!==(ne=m.photoURL)&&void 0!==ne?ne:void 0,Bu=null!==(Ae=m.tenantId)&&void 0!==Ae?Ae:void 0,ao=null!==(Je=m._redirectEventId)&&void 0!==Je?Je:void 0,lo=null!==(dt=m.createdAt)&&void 0!==dt?dt:void 0,ju=null!==(Bt=m.lastLoginAt)&&void 0!==Bt?Bt:void 0,{uid:zh,emailVerified:Jp,isAnonymous:ra,providerData:qh,stsTokenManager:Qp}=m;ie(zh&&Qp,g,"internal-error");const Xp=q.fromJSON(this.name,Qp);ie("string"==typeof zh,g,"internal-error"),Ne(kn,g.name),Ne(hs,g.name),ie("boolean"==typeof Jp,g,"internal-error"),ie("boolean"==typeof ra,g,"internal-error"),Ne(Za,g.name),Ne(Wh,g.name),Ne(Bu,g.name),Ne(ao,g.name),Ne(lo,g.name),Ne(ju,g.name);const Zh=new Ge({uid:zh,auth:g,email:hs,emailVerified:Jp,displayName:kn,isAnonymous:ra,photoURL:Wh,phoneNumber:Za,tenantId:Bu,stsTokenManager:Xp,createdAt:lo,lastLoginAt:ju});return qh&&Array.isArray(qh)&&(Zh.providerData=qh.map(ad=>Object.assign({},ad))),ao&&(Zh._redirectEventId=ao),Zh}static _fromIdTokenResponse(g,m,D=!1){return(0,u.Z)(function*(){const N=new q;N.updateFromServerResponse(m);const x=new Ge({uid:m.localId,auth:g,stsTokenManager:N,isAnonymous:D});return yield Mr(x),x})()}}const an=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,D){var N=this;return(0,u.Z)(function*(){N.storage[m]=D})()}_get(m){var D=this;return(0,u.Z)(function*(){const N=D.storage[m];return void 0===N?null:N})()}_remove(m){var D=this;return(0,u.Z)(function*(){delete D.storage[m]})()}_addListener(m,D){}_removeListener(m,D){}}return v.type="NONE",v})();function on(v,g,m){return`firebase:${v}:${g}:${m}`}class Qn{constructor(g,m,D){this.persistence=g,this.auth=m,this.userKey=D;const{config:N,name:x}=this.auth;this.fullUserKey=on(this.userKey,N.apiKey,x),this.fullPersistenceKey=on("persistence",N.apiKey,x),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Ge._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,u.Z)(function*(){if(m.persistence===g)return;const D=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,D?m.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,D="authUser"){return(0,u.Z)(function*(){if(!m.length)return new Qn(ee(an),g,D);const N=(yield Promise.all(m.map(function(){var dt=(0,u.Z)(function*(Bt){if(yield Bt._isAvailable())return Bt});return function(Bt){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let x=N[0]||ee(an);const ne=on(D,g.config.apiKey,g.name);let Ae=null;for(const dt of m)try{const Bt=yield dt._get(ne);if(Bt){const kn=Ge._fromJSON(g,Bt);dt!==x&&(Ae=kn),x=dt;break}}catch{}const Je=N.filter(dt=>dt._shouldAllowMigration);return x._shouldAllowMigration&&Je.length?(x=Je[0],Ae&&(yield x._set(ne,Ae.toJSON())),yield Promise.all(m.map(function(){var dt=(0,u.Z)(function*(Bt){if(Bt!==x)try{yield Bt._remove(ne)}catch{}});return function(Bt){return dt.apply(this,arguments)}}())),new Qn(x,g,D)):new Qn(x,g,D)})()}}function te(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(qe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(j(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(It(g))return"Blackberry";if(ke(g))return"Webos";if(H(g))return"Safari";if((g.includes("chrome/")||we(g))&&!g.includes("edge/"))return"Chrome";if(wt(g))return"Android";{const D=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function j(v=(0,U.z$)()){return/firefox\//i.test(v)}function H(v=(0,U.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function we(v=(0,U.z$)()){return/crios\//i.test(v)}function qe(v=(0,U.z$)()){return/iemobile/i.test(v)}function wt(v=(0,U.z$)()){return/android/i.test(v)}function It(v=(0,U.z$)()){return/blackberry/i.test(v)}function ke(v=(0,U.z$)()){return/webos/i.test(v)}function ot(v=(0,U.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Jt(v=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function pn(v=(0,U.z$)()){return ot(v)||wt(v)||ke(v)||It(v)||/windows phone/i.test(v)||qe(v)}function In(v,g=[]){let m;switch(v){case"Browser":m=te((0,U.z$)());break;case"Worker":m=`${te((0,U.z$)())}-${v}`;break;default:m=v}const D=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${M.SDK_VERSION}/${D}`}class Vs{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const D=x=>new Promise((ne,Ae)=>{try{ne(g(x))}catch(Je){Ae(Je)}});D.onAbort=m,this.queue.push(D);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,u.Z)(function*(){var D;if(m.auth.currentUser===g)return;const N=[];try{for(const x of m.queue)yield x(g),x.onAbort&&N.push(x.onAbort)}catch(x){N.reverse();for(const ne of N)try{ne()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=x)||void 0===D?void 0:D.message})}})()}}class Us{constructor(g,m,D){this.app=g,this.heartbeatServiceProvider=m,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bs(this),this.idTokenSubscription=new Bs(this),this.beforeStateQueue=new Vs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(g,m){var D=this;return m&&(this._popupRedirectResolver=ee(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var N,x;if(!D._deleted&&(D.persistenceManager=yield Qn.create(D,g),!D._deleted)){if(null!==(N=D._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(m),D.lastNotifiedUid=(null===(x=D.currentUser)||void 0===x?void 0:x.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,u.Z)(function*(){var D;const N=yield m.assertedPersistence.getCurrentUser();let x=N,ne=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ae=null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId,Je=x?._redirectEventId,dt=yield m.tryRedirectSignIn(g);(!Ae||Ae===Je)&&dt?.user&&(x=dt.user,ne=!0)}if(!x)return m.directlySetCurrentUser(null);if(!x._redirectEventId){if(ne)try{yield m.beforeStateQueue.runMiddleware(x)}catch(Ae){x=N,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ae))}return x?m.reloadAndSetCurrentUserOrClear(x):m.directlySetCurrentUser(null)}return ie(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===x._redirectEventId?m.directlySetCurrentUser(x):m.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(g){var m=this;return(0,u.Z)(function*(){let D=null;try{D=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,u.Z)(function*(){var D;try{yield Mr(g)}catch(N){if("auth/network-request-failed"!==(null===(D=N)||void 0===D?void 0:D.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function qt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,u.Z)(function*(){const D=g?(0,U.m9)(g):null;return D&&ie(D.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(D&&D._clone(m))})()}_updateCurrentUser(g,m=!1){var D=this;return(0,u.Z)(function*(){if(!D._deleted)return g&&ie(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),m||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,u.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(ee(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.LL("auth","Firebase",g())}onAuthStateChanged(g,m,D){return this.registerStateListener(this.authStateSubscription,g,m,D)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,D){return this.registerStateListener(this.idTokenSubscription,g,m,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var D=this;return(0,u.Z)(function*(){const N=yield D.getOrInitRedirectPersistenceManager(m);return null===g?N.removeCurrentUser():N.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const D=g&&ee(g)||m._popupRedirectResolver;ie(D,m,"argument-error"),m.redirectPersistenceManager=yield Qn.create(m,[ee(D._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,u.Z)(function*(){var D,N;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(D=m._currentUser)||void 0===D?void 0:D._redirectEventId)===g?m._currentUser:(null===(N=m.redirectUser)||void 0===N?void 0:N._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,u.Z)(function*(){if(g===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,D,N){if(this._deleted)return()=>{};const x="function"==typeof m?m:m.next.bind(m),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(ne,this,"internal-error"),ne.then(()=>x(this.currentUser)),"function"==typeof m?g.addObserver(m,D,N):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=In(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var m;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const N=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return N&&(D["X-Firebase-Client"]=N),D})()}}function Dt(v){return(0,U.m9)(v)}class Bs{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.ne)(m=>this.observer=m)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function So(v,g,m){const D=Dt(v);ie(D._canInitEmulator,D,"emulator-config-failed"),ie(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const N=!!m?.disableWarnings,x=wl(g),{host:ne,port:Ae}=function ts(v){const g=wl(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const D=m[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(D);if(N){const x=N[1];return{host:x,port:qn(D.substr(x.length+1))}}{const[x,ne]=D.split(":");return{host:x,port:qn(ne)}}}(g);D.config.emulator={url:`${x}//${ne}${null===Ae?"":`:${Ae}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ne,port:Ae,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function js(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function wl(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function qn(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Qr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return ce("not implemented")}_getIdTokenResponse(g){return ce("not implemented")}_linkToIdToken(g,m){return ce("not implemented")}_getReauthenticationResolver(g){return ce("not implemented")}}function di(v,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:resetPassword",Wt(v,g))})).apply(this,arguments)}function Dl(v,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function yh(v,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,u.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",Wt(v,g))})).apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithPassword",Wt(v,g))})).apply(this,arguments)}function fr(v,g){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:sendOobCode",Wt(v,g))})).apply(this,arguments)}function ns(v,g){return En.apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(v,g){return fr(v,g)})).apply(this,arguments)}function vh(v,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,u.Z)(function*(v,g){return fr(v,g)})).apply(this,arguments)}function hi(v,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(v,g){return fr(v,g)})).apply(this,arguments)}function _u(v,g){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(v,g){return fr(v,g)})).apply(this,arguments)}function yu(){return(yu=(0,u.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithEmailLink",Wt(v,g))})).apply(this,arguments)}function vu(){return(vu=(0,u.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithEmailLink",Wt(v,g))})).apply(this,arguments)}class rs extends Qr{constructor(g,m,D,N=null){super("password",D),this._email=g,this._password=m,this._tenantId=N}static _fromEmailAndPassword(g,m){return new rs(g,m,"password")}static _fromEmailAndCode(g,m,D=null){return new rs(g,m,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function Ta(v,g){return $s.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Xr(v,g){return yu.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:nt(g,"internal-error")}})()}_linkToIdToken(g,m){var D=this;return(0,u.Z)(function*(){switch(D.signInMethod){case"password":return Dl(g,{idToken:m,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Fp(v,g){return vu.apply(this,arguments)}(g,{idToken:m,email:D._email,oobCode:D._password});default:nt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Gs(v,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithIdp",Wt(v,g))})).apply(this,arguments)}class is extends Qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new is(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):nt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:N}=m,x=(0,se._T)(m,["providerId","signInMethod"]);if(!D||!N)return null;const ne=new is(D,N);return ne.idToken=x.idToken||void 0,ne.accessToken=x.accessToken||void 0,ne.secret=x.secret,ne.nonce=x.nonce,ne.pendingToken=x.pendingToken||null,ne}_getIdTokenResponse(g){return Gs(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Gs(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Gs(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,U.xO)(m)}return g}}function Vp(v,g){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,u.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:sendVerificationCode",Wt(v,g))})).apply(this,arguments)}function Ea(){return(Ea=(0,u.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,g))})).apply(this,arguments)}function Nc(){return(Nc=(0,u.Z)(function*(v,g){const m=yield Sn(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,g));if(m.temporaryProof)throw Vn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Bp={USER_NOT_FOUND:"user-not-found"};function Oc(){return(Oc=(0,u.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Bp)})).apply(this,arguments)}class Oo extends Qr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Oo({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Oo({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Up(v,g){return Ea.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function No(v,g){return Nc.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function jp(v,g){return Oc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:D,verificationCode:N}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:D,code:N}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:D,phoneNumber:N,temporaryProof:x}=g;return D||m||N||x?new Oo({verificationId:m,verificationCode:D,phoneNumber:N,temporaryProof:x}):null}}class Ro{constructor(g){var m,D,N,x,ne,Ae;const Je=(0,U.zd)((0,U.pd)(g)),dt=null!==(m=Je.apiKey)&&void 0!==m?m:null,Bt=null!==(D=Je.oobCode)&&void 0!==D?D:null,kn=function Rc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=Je.mode)&&void 0!==N?N:null);ie(dt&&Bt&&kn,"argument-error"),this.apiKey=dt,this.operation=kn,this.code=Bt,this.continueUrl=null!==(x=Je.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(ne=Je.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(Ae=Je.tenantId)&&void 0!==Ae?Ae:null}static parseLink(g){const m=function Mc(v){const g=(0,U.zd)((0,U.pd)(v)).link,m=g?(0,U.zd)((0,U.pd)(g)).deep_link_id:null,D=(0,U.zd)((0,U.pd)(v)).deep_link_id;return(D?(0,U.zd)((0,U.pd)(D)).link:null)||D||m||g||v}(g);try{return new Ro(m)}catch{return null}}}let Tl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,D){return rs._fromEmailAndPassword(m,D)}static credentialWithLink(m,D){const N=Ro.parseLink(D);return ie(N,"argument-error"),rs._fromEmailAndCode(m,N.code,N.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ir{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Mo extends Ir{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ts extends Mo{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return ie("providerId"in m&&"signInMethod"in m,"argument-error"),is._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ie(g.idToken||g.accessToken,"argument-error"),is._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ts.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ts.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:D,oauthTokenSecret:N,pendingToken:x,nonce:ne,providerId:Ae}=g;if(!D&&!N&&!m&&!x||!Ae)return null;try{return new Ts(Ae)._credential({idToken:m,accessToken:D,nonce:ne,pendingToken:x})}catch{return null}}}let xc=(()=>{class v extends Mo{constructor(){super("facebook.com")}static credential(m){return is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Il=(()=>{class v extends Mo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,D){return is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:D})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:D,oauthAccessToken:N}=m;if(!D&&!N)return null;try{return v.credential(D,N)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),bu=(()=>{class v extends Mo{constructor(){super("github.com")}static credential(m){return is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class xo extends Qr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Gs(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Gs(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Gs(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:N,pendingToken:x}=m;return D&&N&&x&&D===N?new xo(D,x):null}static _create(g,m){return new xo(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gi extends Ir{constructor(g){ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return gi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return gi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=xo.fromJSON(g);return ie(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:D}=g;if(!m||!D)return null;try{return xo._create(D,m)}catch{return null}}}let ss=(()=>{class v extends Mo{constructor(){super("twitter.com")}static credential(m,D){return is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:D})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:D,oauthTokenSecret:N}=m;if(!D||!N)return null;try{return v.credential(D,N)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ei(v,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signUp",Wt(v,g))})).apply(this,arguments)}class mi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,D,N=!1){return(0,u.Z)(function*(){const x=yield Ge._fromIdTokenResponse(g,D,N),ne=Po(D);return new mi({user:x,providerId:ne,_tokenResponse:D,operationType:m})})()}static _forOperation(g,m,D){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const N=Po(D);return new mi({user:g,providerId:N,_tokenResponse:D,operationType:m})})()}}function Po(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function $p(v){return wu.apply(this,arguments)}function wu(){return(wu=(0,u.Z)(function*(v){var g;const m=Dt(v);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new mi({user:m.currentUser,providerId:null,operationType:"signIn"});const D=yield ei(m,{returnSecureToken:!0}),N=yield mi._fromIdTokenResponse(m,"signIn",D,!0);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class xn extends U.ZR{constructor(g,m,D,N){var x;super(m.code,m.message),this.operationType=D,this.user=N,Object.setPrototypeOf(this,xn.prototype),this.customData={appName:g.name,tenantId:null!==(x=g.tenantId)&&void 0!==x?x:void 0,_serverResponse:m.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,m,D,N){return new xn(g,m,D,N)}}function kc(v,g,m,D){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?xn._fromErrorAndOperation(v,x,g,D):x})}function bh(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Ci(v,g){return Er.apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(v,g){const m=(0,U.m9)(v);yield ki(!0,m,g);const{providerUserInfo:D}=yield it(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),N=bh(D||[]);return m.providerData=m.providerData.filter(x=>N.has(x.providerId)),N.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function El(v,g){return zs.apply(this,arguments)}function zs(){return(zs=(0,u.Z)(function*(v,g,m=!1){const D=yield Pt(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return mi._forOperation(v,"link",D)})).apply(this,arguments)}function ki(v,g,m){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(v,g,m){yield Mr(g);const N=!1===v?"provider-already-linked":"no-such-provider";ie(bh(g.providerData).has(m)===v,g.auth,N)})).apply(this,arguments)}function Cl(v,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(v,g,m=!1){var D;const{auth:N}=v,x="reauthenticate";try{const ne=yield Pt(v,kc(N,x,g,v),m);ie(ne.idToken,N,"internal-error");const Ae=mt(ne.idToken);ie(Ae,N,"internal-error");const{sub:Je}=Ae;return ie(v.uid===Je,N,"user-mismatch"),mi._forOperation(v,x,ne)}catch(ne){throw"auth/user-not-found"===(null===(D=ne)||void 0===D?void 0:D.code)&&nt(N,"user-mismatch"),ne}})).apply(this,arguments)}function Du(v,g){return _i.apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(v,g,m=!1){const D="signIn",N=yield kc(v,D,g),x=yield mi._fromIdTokenResponse(v,D,N);return m||(yield v._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Ca(v,g){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(v,g){return Du(Dt(v),g)})).apply(this,arguments)}function Mt(v,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,u.Z)(function*(v,g){const m=(0,U.m9)(v);return yield ki(!1,m,g.providerId),El(m,g)})).apply(this,arguments)}function Hp(v,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,u.Z)(function*(v,g){return Cl((0,U.m9)(v),g)})).apply(this,arguments)}function Fc(v,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(v,g){return Sn(v,"POST","/v1/accounts:signInWithCustomToken",Wt(v,g))})).apply(this,arguments)}function qs(v,g){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(v,g){const m=Dt(v),D=yield Fc(m,{token:g,returnSecureToken:!0}),N=yield mi._fromIdTokenResponse(m,"signIn",D);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class ko{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Me._fromServerResponse(g,m):nt(g,"internal-error")}}class Me extends ko{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Me(m)}}function Kt(v,g,m){var D;ie((null===(D=m.url)||void 0===D?void 0:D.length)>0,v,"invalid-continue-uri"),ie(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ie(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(ie(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function wh(v,g,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(v,g,m){const D=(0,U.m9)(v),N={requestType:"PASSWORD_RESET",email:g};m&&Kt(D,N,m),yield vh(D,N)})).apply(this,arguments)}function er(v,g,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,u.Z)(function*(v,g,m){yield di((0,U.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Sl(v,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(v,g){yield yh((0,U.m9)(v),{oobCode:g})})).apply(this,arguments)}function Al(v,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,u.Z)(function*(v,g){const m=(0,U.m9)(v),D=yield di(m,{oobCode:g}),N=D.requestType;switch(ie(N,m,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(D.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(D.mfaInfo,m,"internal-error");default:ie(D.email,m,"internal-error")}let x=null;return D.mfaInfo&&(x=ko._fromServerResponse(Dt(m),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:x},operation:N}})).apply(this,arguments)}function Dh(v,g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(v,g){const{data:m}=yield Al((0,U.m9)(v),g);return m.email})).apply(this,arguments)}function Gp(v,g,m){return os.apply(this,arguments)}function os(){return(os=(0,u.Z)(function*(v,g,m){const D=Dt(v),N=yield ei(D,{returnSecureToken:!0,email:g,password:m}),x=yield mi._fromIdTokenResponse(D,"signIn",N);return yield D._updateCurrentUser(x.user),x})).apply(this,arguments)}function tr(v,g,m){return Ca((0,U.m9)(v),Tl.credential(g,m))}function Fi(v,g,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(v,g,m){const D=(0,U.m9)(v),N={requestType:"EMAIL_SIGNIN",email:g};ie(m.handleCodeInApp,D,"argument-error"),m&&Kt(D,N,m),yield hi(D,N)})).apply(this,arguments)}function xa(v,g){return"EMAIL_SIGNIN"===Ro.parseLink(g)?.operation}function as(v,g,m){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,u.Z)(function*(v,g,m){const D=(0,U.m9)(v),N=Tl.credentialWithLink(g,m||Ve());return ie(N._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Ca(D,N)})).apply(this,arguments)}function Tu(v,g){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,u.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:createAuthUri",Wt(v,g))})).apply(this,arguments)}function Th(v,g){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(v,g){const D={identifier:g,continueUri:Ue()?Ve():"http://localhost"},{signinMethods:N}=yield Tu((0,U.m9)(v),D);return N||[]})).apply(this,arguments)}function Iu(v,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,u.Z)(function*(v,g){const m=(0,U.m9)(v),N={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&Kt(m.auth,N,g);const{email:x}=yield ns(m.auth,N);x!==v.email&&(yield v.reload())})).apply(this,arguments)}function Eu(v,g,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(v,g,m){const D=(0,U.m9)(v),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&Kt(D.auth,x,m);const{email:ne}=yield _u(D.auth,x);ne!==v.email&&(yield v.reload())})).apply(this,arguments)}function Uc(v,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ih(v,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const D=(0,U.m9)(v),x={idToken:yield D.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ne=yield Pt(D,Uc(D.auth,x));D.displayName=ne.displayName||null,D.photoURL=ne.photoUrl||null;const Ae=D.providerData.find(({providerId:Je})=>"password"===Je);Ae&&(Ae.displayName=D.displayName,Ae.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ne)})).apply(this,arguments)}function Eh(v,g){return Es((0,U.m9)(v),g,null)}function Bc(v,g){return Es((0,U.m9)(v),null,g)}function Es(v,g,m){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,u.Z)(function*(v,g,m){const{auth:D}=v,x={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(x.email=g),m&&(x.password=m);const ne=yield Pt(v,Dl(D,x));yield v._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class Nn{constructor(g,m,D={}){this.isNewUser=g,this.providerId=m,this.profile=D}}class ls extends Nn{constructor(g,m,D,N){super(g,m,D),this.username=N}}class On extends Nn{constructor(g,m){super(g,"facebook.com",m)}}class $c extends ls{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Cu extends Nn{constructor(g,m){super(g,"google.com",m)}}class Ch extends ls{constructor(g,m,D){super(g,"twitter.com",m,D)}}function Su(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function jc(v){var g,m;if(!v)return null;const{providerId:D}=v,N=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},x=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!D&&v?.idToken){const ne=null===(m=null===(g=mt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ne)return new Nn(x,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!D)return null;switch(D){case"facebook.com":return new On(x,N);case"github.com":return new $c(x,N);case"google.com":return new Cu(x,N);case"twitter.com":return new Ch(x,N,v.screenName||null);case"custom":case"anonymous":return new Nn(x,null);default:return new Nn(x,D,N)}}(m)}class yi{constructor(g,m,D){this.type=g,this.credential=m,this.auth=D}static _fromIdtoken(g,m){return new yi("enroll",g,m)}static _fromMfaPendingCredential(g){return new yi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,D;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return yi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return yi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ou{constructor(g,m,D){this.session=g,this.hints=m,this.signInResolver=D}static _fromError(g,m){const D=Dt(g),N=m.customData._serverResponse,x=(N.mfaInfo||[]).map(Ae=>ko._fromServerResponse(D,Ae));ie(N.mfaPendingCredential,D,"internal-error");const ne=yi._fromMfaPendingCredential(N.mfaPendingCredential);return new Ou(ne,x,function(){var Ae=(0,u.Z)(function*(Je){const dt=yield Je._process(D,ne);delete N.mfaInfo,delete N.mfaPendingCredential;const Bt=Object.assign(Object.assign({},N),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(m.operationType){case"signIn":const kn=yield mi._fromIdTokenResponse(D,m.operationType,Bt);return yield D._updateCurrentUser(kn.user),kn;case"reauthenticate":return ie(m.user,D,"internal-error"),mi._forOperation(m.user,m.operationType,Bt);default:nt(D,"internal-error")}});return function(Je){return Ae.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,u.Z)(function*(){return m.signInResolver(g)})()}}function zc(v,g){var m;const D=(0,U.m9)(v),N=g;return ie(g.customData.operationType,D,"argument-error"),ie(null===(m=N.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,D,"argument-error"),Ou._fromError(D,N)}function jn(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:start",Wt(v,g))}class Rl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(D=>ko._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new Rl(g)}getSession(){var g=this;return(0,u.Z)(function*(){return yi._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var D=this;return(0,u.Z)(function*(){const N=g,x=yield D.getSession(),ne=yield Pt(D.user,N._process(D.user.auth,x,m));return yield D.user._updateTokensIfNecessary(ne),D.user.reload()})()}unenroll(g){var m=this;return(0,u.Z)(function*(){var D;const N="string"==typeof g?g:g.uid,x=yield m.user.getIdToken(),ne=yield Pt(m.user,function Ol(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(v,g))}(m.user.auth,{idToken:x,mfaEnrollmentId:N}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ae})=>Ae!==N),yield m.user._updateTokensIfNecessary(ne);try{yield m.user.reload()}catch(Ae){if("auth/user-token-expired"!==(null===(D=Ae)||void 0===D?void 0:D.code))throw Ae}})()}}const Sh=new WeakMap;function Ml(v){const g=(0,U.m9)(v);return Sh.has(g)||Sh.set(g,Rl._fromUser(g)),Sh.get(g)}const us="__sak";class La{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(us,"1"),this.storage.removeItem(us),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const nr=(()=>{class v extends La{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,D)=>this.onStorageEvent(m,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ru(){const v=(0,U.z$)();return H(v)||ot(v)}()&&function es(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const D of Object.keys(this.listeners)){const N=this.storage.getItem(D),x=this.localCache[D];N!==x&&m(D,x,N)}}onStorageEvent(m,D=!1){if(!m.key)return void this.forAllChangedKeys((Ae,Je,dt)=>{this.notifyListeners(Ae,dt)});const N=m.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(N);if(m.newValue!==Ae)null!==m.newValue?this.storage.setItem(N,m.newValue):this.storage.removeItem(N);else if(this.localCache[N]===m.newValue&&!D)return}const x=()=>{const Ae=this.storage.getItem(N);!D&&this.localCache[N]===Ae||this.notifyListeners(N,Ae)},ne=this.storage.getItem(N);!function Ut(){return(0,U.w1)()&&10===document.documentMode}()||ne===m.newValue||m.newValue===m.oldValue?x():setTimeout(x,10)}notifyListeners(m,D){this.localCache[m]=D;const N=this.listeners[m];if(N)for(const x of Array.from(N))x(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,D,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:D,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,D){var N=()=>super._set,x=this;return(0,u.Z)(function*(){yield N().call(x,m,D),x.localCache[m]=JSON.stringify(D)})()}_get(m){var D=()=>super._get,N=this;return(0,u.Z)(function*(){const x=yield D().call(N,m);return N.localCache[m]=JSON.stringify(x),x})()}_remove(m){var D=()=>super._remove,N=this;return(0,u.Z)(function*(){yield D().call(N,m),delete N.localCache[m]})()}}return v.type="LOCAL",v})(),Ss=(()=>{class v extends La{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,D){}_removeListener(m,D){}}return v.type="SESSION",v})();let Ua=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const D=this.receivers.find(x=>x.isListeningto(m));if(D)return D;const N=new v(m);return this.receivers.push(N),N}isListeningto(m){return this.eventTarget===m}handleEvent(m){var D=this;return(0,u.Z)(function*(){const N=m,{eventId:x,eventType:ne,data:Ae}=N.data,Je=D.handlersMap[ne];if(!Je?.size)return;N.ports[0].postMessage({status:"ack",eventId:x,eventType:ne});const dt=Array.from(Je).map(function(){var kn=(0,u.Z)(function*(hs){return hs(N.origin,Ae)});return function(hs){return kn.apply(this,arguments)}}()),Bt=yield function Mu(v){return Promise.all(v.map(function(){var g=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(D){return{fulfilled:!1,reason:D}}});return function(m){return g.apply(this,arguments)}}()))}(dt);N.ports[0].postMessage({status:"done",eventId:x,eventType:ne,response:Bt})})()}_subscribe(m,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(D)}_unsubscribe(m,D){this.handlersMap[m]&&D&&this.handlersMap[m].delete(D),(!D||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Go(v="",g=10){let m="";for(let D=0;D<g;D++)m+=Math.floor(10*Math.random());return v+m}class Oh{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,D=50){var N=this;return(0,u.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let ne,Ae;return new Promise((Je,dt)=>{const Bt=Go("",20);x.port1.start();const kn=setTimeout(()=>{dt(new Error("unsupported_event"))},D);Ae={messageChannel:x,onMessage(hs){const Za=hs;if(Za.data.eventId===Bt)switch(Za.data.status){case"ack":clearTimeout(kn),ne=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),Je(Za.data.response);break;default:clearTimeout(kn),clearTimeout(ne),dt(new Error("invalid_response"))}}},N.handlers.add(Ae),x.port1.addEventListener("message",Ae.onMessage),N.target.postMessage({eventType:g,eventId:Bt,data:m},[x.port2])}).finally(()=>{Ae&&N.removeMessageHandler(Ae)})})()}}function $n(){return window}function ti(){return typeof $n().WorkerGlobalScope<"u"&&"function"==typeof $n().importScripts}function cs(){return(cs=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ba="firebaseLocalStorageDb",ja="firebaseLocalStorage",Wo="fbase_key";class zo{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function qo(v,g){return v.transaction([ja],g?"readwrite":"readonly").objectStore(ja)}function Pl(){const v=indexedDB.open(Ba,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const D=v.result;try{D.createObjectStore(ja,{keyPath:Wo})}catch(N){m(N)}}),v.addEventListener("success",(0,u.Z)(function*(){const D=v.result;D.objectStoreNames.contains(ja)?g(D):(D.close(),yield function Yc(){const v=indexedDB.deleteDatabase(Ba);return new zo(v).toPromise()}(),g(yield Pl()))}))})}function $a(v,g,m){return Li.apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(v,g,m){const D=qo(v,!0).put({[Wo]:g,value:m});return new zo(D).toPromise()})).apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(v,g){const m=qo(v,!1).get(g),D=yield new zo(m).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function kl(v,g){const m=qo(v,!0).delete(g);return new zo(m).toPromise()}const Yo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield Pl()),m.db})()}_withRetries(m){var D=this;return(0,u.Z)(function*(){let N=0;for(;;)try{const x=yield D._openDb();return yield m(x)}catch(x){if(N++>3)throw x;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return ti()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=Ua._getInstance(function xl(){return ti()?self:null}()),m.receiver._subscribe("keyChanged",function(){var D=(0,u.Z)(function*(N,x){return{keyProcessed:(yield m._poll()).includes(x.key)}});return function(N,x){return D.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var D=(0,u.Z)(function*(N,x){return["keyChanged"]});return function(N,x){return D.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var D,N;if(m.activeServiceWorker=yield function Kc(){return cs.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Oh(m.activeServiceWorker);const x=yield m.sender._send("ping",{},800);!x||(null===(D=x[0])||void 0===D?void 0:D.fulfilled)&&(null===(N=x[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var D=this;return(0,u.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function xu(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:m},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Pl();return yield $a(m,us,"1"),yield kl(m,us),!0}catch{}return!1})()}_withPendingWrite(m){var D=this;return(0,u.Z)(function*(){D.pendingWrites++;try{yield m()}finally{D.pendingWrites--}})()}_set(m,D){var N=this;return(0,u.Z)(function*(){return N._withPendingWrite((0,u.Z)(function*(){return yield N._withRetries(x=>$a(x,m,D)),N.localCache[m]=D,N.notifyServiceWorker(m)}))})()}_get(m){var D=this;return(0,u.Z)(function*(){const N=yield D._withRetries(x=>function Rh(v,g){return Zo.apply(this,arguments)}(x,m));return D.localCache[m]=N,N})()}_remove(m){var D=this;return(0,u.Z)(function*(){return D._withPendingWrite((0,u.Z)(function*(){return yield D._withRetries(N=>kl(N,m)),delete D.localCache[m],D.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const D=yield m._withRetries(ne=>{const Ae=qo(ne,!1).getAll();return new zo(Ae).toPromise()});if(!D)return[];if(0!==m.pendingWrites)return[];const N=[],x=new Set;for(const{fbase_key:ne,value:Ae}of D)x.add(ne),JSON.stringify(m.localCache[ne])!==JSON.stringify(Ae)&&(m.notifyListeners(ne,Ae),N.push(ne));for(const ne of Object.keys(m.localCache))m.localCache[ne]&&!x.has(ne)&&(m.notifyListeners(ne,null),N.push(ne));return N})()}notifyListeners(m,D){this.localCache[m]=D;const N=this.listeners[m];if(N)for(const x of Array.from(N))x(D)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Mh(v,g){return jt(v,"POST","/v2/accounts/mfaSignIn:start",Wt(v,g))}function xr(){return(xr=(0,u.Z)(function*(v){return(yield jt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ks(v){return new Promise((g,m)=>{const D=document.createElement("script");D.setAttribute("src",v),D.onload=g,D.onerror=N=>{const x=Fe("internal-error");x.customData=N,m(x)},D.type="text/javascript",D.charset="UTF-8",function Qo(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(D)})}function Xo(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Vi=1e12;class Jc{constructor(g){this.auth=g,this.counter=Vi,this._widgets=new Map}render(g,m){const D=this.counter;return this._widgets.set(D,new Dn(g,this.auth.name,m||{})),this.counter++,D}reset(g){var m;const D=g||Vi;null===(m=this._widgets.get(D))||void 0===m||m.delete(),this._widgets.delete(D)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Vi))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,u.Z)(function*(){var D;return null===(D=m._widgets.get(g||Vi))||void 0===D||D.execute(),""})()}}class Dn{constructor(g,m,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof g?document.getElementById(g):g;ie(N,"argument-error",{appName:m}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wp(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<v;D++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xh=Xo("rcb"),cb=new Ke(3e4,6e4);class p_{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=$n().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return ie(function Ph(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve($n().grecaptcha):new Promise((D,N)=>{const x=$n().setTimeout(()=>{N(Fe(g,"network-request-failed"))},cb.get());$n()[xh]=()=>{$n().clearTimeout(x),delete $n()[xh];const Ae=$n().grecaptcha;if(!Ae)return void N(Fe(g,"internal-error"));const Je=Ae.render;Ae.render=(dt,Bt)=>{const kn=Je(dt,Bt);return this.counter++,kn},this.hostLanguage=m,D(Ae)},Ks(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:xh,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(x),N(Fe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=$n().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class db{load(g){return(0,u.Z)(function*(){return new Jc(g)})()}clearedOneInstance(){}}const Ll="recaptcha",hb={theme:"light",type:"image"};class g_{constructor(g,m=Object.assign({},hb),D){this.parameters=m,this.type=Ll,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(D),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof g?document.getElementById(g):g;ie(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new db:new p_,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(m)||new Promise(x=>{const ne=Ae=>{!Ae||(g.tokenChangeListeners.delete(ne),x(Ae))};g.tokenChangeListeners.add(ne),g.isInvisible&&D.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(D=>D(m)),"function"==typeof g)g(m);else if("string"==typeof g){const D=$n()[g];"function"==typeof D&&D(m)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const D=document.createElement("div");m.appendChild(D),m=D}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){ie(Ue()&&!ti(),g.auth,"internal-error"),yield function pr(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Fl(v){return xr.apply(this,arguments)}(g.auth);ie(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cn{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Oo._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Ai(v,g,m){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(v,g,m){const D=Dt(v),N=yield Pn(D,g,(0,U.m9)(m));return new cn(N,x=>Ca(D,x))})).apply(this,arguments)}function Rn(v,g,m){return rn.apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(v,g,m){const D=(0,U.m9)(v);yield ki(!1,D,"phone");const N=yield Pn(D.auth,g,(0,U.m9)(m));return new cn(N,x=>Mt(D,x))})).apply(this,arguments)}function ds(v,g,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,u.Z)(function*(v,g,m){const D=(0,U.m9)(v),N=yield Pn(D.auth,g,(0,U.m9)(m));return new cn(N,x=>Hp(D,x))})).apply(this,arguments)}function Pn(v,g,m){return Js.apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(v,g,m){var D;const N=yield m.verify();try{let x;if(ie("string"==typeof N,v,"argument-error"),ie(m.type===Ll,v,"argument-error"),x="string"==typeof g?{phoneNumber:g}:g,"session"in x){const ne=x.session;if("phoneNumber"in x)return ie("enroll"===ne.type,v,"internal-error"),(yield jn(v,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{ie("signin"===ne.type,v,"internal-error");const Ae=(null===(D=x.multiFactorHint)||void 0===D?void 0:D.uid)||x.multiFactorUid;return ie(Ae,v,"missing-multi-factor-info"),(yield Mh(v,{mfaPendingCredential:ne.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield Vp(v,{phoneNumber:x.phoneNumber,recaptchaToken:N});return ne}}finally{m._reset()}})).apply(this,arguments)}function Qc(v,g){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,u.Z)(function*(v,g){yield El((0,U.m9)(v),g)})).apply(this,arguments)}let kh=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Dt(m)}verifyPhoneNumber(m,D){return Pn(this.auth,m,(0,U.m9)(D))}static credential(m,D){return Oo._fromVerification(m,D)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:D,temporaryProof:N}=m;return D&&N?Oo._fromTokenResponse(D,N):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ns(v,g){return g?ee(g):(ie(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ed extends Qr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Gs(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Gs(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Gs(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Os(v){return Du(v.auth,new ed(v),v.bypassAuthState)}function st(v){const{auth:g,user:m}=v;return ie(m,g,"internal-error"),Cl(m,new ed(v),v.bypassAuthState)}function Fu(v){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,u.Z)(function*(v){const{auth:g,user:m}=v;return ie(m,g,"internal-error"),El(m,new ed(v),v.bypassAuthState)})).apply(this,arguments)}class Ha{constructor(g,m,D,N,x=!1){this.auth=g,this.resolver=D,this.user=N,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,u.Z)(function*(D,N){g.pendingPromise={resolve:D,reject:N};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(x){g.reject(x)}});return function(D,N){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,u.Z)(function*(){const{urlResponse:D,sessionId:N,postBody:x,tenantId:ne,error:Ae,type:Je}=g;if(Ae)return void m.reject(Ae);const dt={auth:m.auth,requestUri:D,sessionId:N,tenantId:ne||void 0,postBody:x||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Je)(dt))}catch(Bt){m.reject(Bt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Os;case"linkViaPopup":case"linkViaRedirect":return Fu;case"reauthViaPopup":case"reauthViaRedirect":return st;default:nt(this.auth,"internal-error")}}resolve(g){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ga=new Ke(2e3,1e4);function Cn(v,g,m){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(v,g,m){const D=Dt(v);Ce(v,g,Ir);const N=Ns(D,m);return new Vl(D,"signInViaPopup",g,N).executeNotNull()})).apply(this,arguments)}function ta(v,g,m){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(v,g,m){const D=(0,U.m9)(v);Ce(D.auth,g,Ir);const N=Ns(D.auth,m);return new Vl(D.auth,"reauthViaPopup",g,N,D).executeNotNull()})).apply(this,arguments)}function Fh(v,g,m){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(v,g,m){const D=(0,U.m9)(v);Ce(D.auth,g,Ir);const N=Ns(D.auth,m);return new Vl(D.auth,"linkViaPopup",g,N,D).executeNotNull()})).apply(this,arguments)}let Vl=(()=>{class v extends Ha{constructor(m,D,N,x,ne){super(m,D,x,ne),this.provider=N,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const D=yield m.execute();return ie(D,m.auth,"internal-error"),D})()}onExecution(){var m=this;return(0,u.Z)(function*(){ve(1===m.filter.length,"Popup operations only handle one event");const D=Go();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],D),m.authWindow.associatedEvent=D,m.resolver._originValidation(m.auth).catch(N=>{m.reject(N)}),m.resolver._isIframeWebStorageSupported(m.auth,N=>{N||m.reject(Fe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var D,N;this.pollId=null!==(N=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ga.get())};m()}}return v.currentPopupAction=null,v})();const ni=new Map;class Ni extends Ha{constructor(g,m,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,u.Z)(function*(){let D=ni.get(m.auth._key());if(!D){try{const x=(yield function Ul(v,g){return Pr.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;D=()=>Promise.resolve(x)}catch(N){D=()=>Promise.reject(N)}ni.set(m.auth._key(),D)}return m.bypassAuthState||ni.set(m.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,D=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(D,g);if("unknown"!==g.type){if(g.eventId){const N=yield D.auth._redirectUserForId(g.eventId);if(N)return D.user=N,m().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Pr(){return(Pr=(0,u.Z)(function*(v,g){const m=eo(g),D=Xs(v);if(!(yield D._isAvailable()))return!1;const N="true"===(yield D._get(m));return yield D._remove(m),N})).apply(this,arguments)}function Qs(v,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(v,g){return Xs(v)._set(eo(g),"true")})).apply(this,arguments)}function td(){ni.clear()}function vn(v,g){ni.set(v._key(),g)}function Xs(v){return ee(v._redirectPersistence)}function eo(v){return on("pendingRedirect",v.config.apiKey,v.name)}function Hn(v,g,m){return function Qt(v,g,m){return Bi.apply(this,arguments)}(v,g,m)}function Bi(){return(Bi=(0,u.Z)(function*(v,g,m){const D=Dt(v);Ce(v,g,Ir);const N=Ns(D,m);return yield Qs(N,D),N._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function Kn(v,g,m){return function I(v,g,m){return C.apply(this,arguments)}(v,g,m)}function C(){return(C=(0,u.Z)(function*(v,g,m){const D=(0,U.m9)(v);Ce(D.auth,g,Ir);const N=Ns(D.auth,m);yield Qs(N,D.auth);const x=yield Nt(D);return N._openRedirect(D.auth,g,"reauthViaRedirect",x)})).apply(this,arguments)}function O(v,g,m){return function L(v,g,m){return J.apply(this,arguments)}(v,g,m)}function J(){return(J=(0,u.Z)(function*(v,g,m){const D=(0,U.m9)(v);Ce(D.auth,g,Ir);const N=Ns(D.auth,m);yield ki(!1,D,g.providerId),yield Qs(N,D.auth);const x=yield Nt(D);return N._openRedirect(D.auth,g,"linkViaRedirect",x)})).apply(this,arguments)}function le(v,g){return De.apply(this,arguments)}function De(){return(De=(0,u.Z)(function*(v,g){return yield Dt(v)._initializationPromise,We(v,g,!1)})).apply(this,arguments)}function We(v,g){return _t.apply(this,arguments)}function _t(){return(_t=(0,u.Z)(function*(v,g,m=!1){const D=Dt(v),N=Ns(D,g),ne=yield new Ni(D,N,m).execute();return ne&&!m&&(delete ne.user._redirectEventId,yield D._persistUserIfCurrent(ne.user),yield D._setRedirectUser(null,g)),ne})).apply(this,arguments)}function Nt(v){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(v){const g=Go(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Yn{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(m=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Lt(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return to(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var D;if(g.error&&!to(g)){const N=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";m.onError(Fe(this.auth,N))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const D=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cr(g))}saveEventToCache(g){this.cachedEventUids.add(Cr(g)),this.lastProcessedEventTime=Date.now()}}function Cr(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function to({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===g?.code}function Sr(v){return no.apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(v,g={}){return jt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Ms=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bl=/^https?/;function mr(){return(mr=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Sr(v);for(const m of g)try{if(nd(m))return}catch{}nt(v,"unauthorized-domain")})).apply(this,arguments)}function nd(v){const g=Ve(),{protocol:m,hostname:D}=new URL(g);if(v.startsWith("chrome-extension://")){const ne=new URL(v);return""===ne.hostname&&""===D?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ne.hostname===D}if(!Bl.test(m))return!1;if(Ms.test(v))return D===v;const N=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(D)}const zp=new Ke(3e4,6e4);function Lh(){const v=$n().___jsl;if(v?.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Gn=null;function ro(v){return Gn=Gn||function fb(v){return new Promise((g,m)=>{var D,N,x;function ne(){Lh(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Lh(),m(Fe(v,"network-request-failed"))},timeout:zp.get()})}if(null!==(N=null===(D=$n().gapi)||void 0===D?void 0:D.iframes)&&void 0!==N&&N.Iframe)g(gapi.iframes.getContext());else{if(null===(x=$n().gapi)||void 0===x||!x.load){const Ae=Xo("iframefcb");return $n()[Ae]=()=>{gapi.load?ne():m(Fe(v,"network-request-failed"))},Ks(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(Je=>m(Je))}ne()}}).catch(g=>{throw Gn=null,g})}(v),Gn}const Vh=new Ke(5e3,15e3),Uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bh(v){const g=v.config;ie(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?mn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:v.name,v:M.SDK_VERSION},N=m_.get(v.config.apiHost);N&&(D.eid=N);const x=v._getFrameworks();return x.length&&(D.fw=x.join(",")),`${m}?${(0,U.xO)(D).slice(1)}`}function rd(){return rd=(0,u.Z)(function*(v){const g=yield ro(v),m=$n().gapi;return ie(m,v,"internal-error"),g.open({where:document.body,url:Bh(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uh,dontclear:!0},D=>new Promise(function(){var N=(0,u.Z)(function*(x,ne){yield D.restyle({setHideOnLeave:!1});const Ae=Fe(v,"network-request-failed"),Je=$n().setTimeout(()=>{ne(Ae)},Vh.get());function dt(){$n().clearTimeout(Je),x(D)}D.ping(dt).then(dt,()=>{ne(Ae)})});return function(x,ne){return N.apply(this,arguments)}}()))}),rd.apply(this,arguments)}const Lu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jl(v,g,m,D,N,x){ie(v.config.authDomain,v,"auth-domain-config-required"),ie(v.config.apiKey,v,"invalid-api-key");const ne={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:D,v:M.SDK_VERSION,eventId:N};if(g instanceof Ir){g.setDefaultLanguage(v.languageCode),ne.providerId=g.providerId||"",(0,U.xb)(g.getCustomParameters())||(ne.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Je,dt]of Object.entries(x||{}))ne[Je]=dt}if(g instanceof Mo){const Je=g.getScopes().filter(dt=>""!==dt);Je.length>0&&(ne.scopes=Je.join(","))}v.tenantId&&(ne.tid=v.tenantId);const Ae=ne;for(const Je of Object.keys(Ae))void 0===Ae[Je]&&delete Ae[Je];return`${function Yp({config:v}){return v.emulator?mn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,U.xO)(Ae).slice(1)}`}const $l="webStorageSupport",$h=class Uu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ss,this._completeRedirectFn=We,this._overrideRedirectResult=vn}_openPopup(g,m,D,N){var x=this;return(0,u.Z)(function*(){var ne;ve(null===(ne=x.eventManagers[g._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const Ae=jl(g,m,D,Ve(),N);return function sd(v,g,m,D=500,N=600){const x=Math.max((window.screen.availHeight-N)/2,0).toString(),ne=Math.max((window.screen.availWidth-D)/2,0).toString();let Ae="";const Je=Object.assign(Object.assign({},Lu),{width:D.toString(),height:N.toString(),top:x,left:ne}),dt=(0,U.z$)().toLowerCase();m&&(Ae=we(dt)?"_blank":m),j(dt)&&(g=g||"http://localhost",Je.scrollbars="yes");const Bt=Object.entries(Je).reduce((hs,[Za,Wh])=>`${hs}${Za}=${Wh},`,"");if(function An(v=(0,U.z$)()){var g;return ot(v)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(dt)&&"_self"!==Ae)return function so(v,g){const m=document.createElement("a");m.href=v,m.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(D)}(g||"",Ae),new Vu(null);const kn=window.open(g||"",Ae,Bt);ie(kn,v,"popup-blocked");try{kn.focus()}catch{}return new Vu(kn)}(g,Ae,Go())})()}_openRedirect(g,m,D,N){var x=this;return(0,u.Z)(function*(){return yield x._originValidation(g),function Zc(v){$n().location.href=v}(jl(g,m,D,Ve(),N)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:N,promise:x}=this.eventManagers[m];return N?Promise.resolve(N):(ve(x,"If manager is not set, promise should be"),x)}const D=this.initAndGetManager(g);return this.eventManagers[m]={promise:D},D.catch(()=>{delete this.eventManagers[m]}),D}initAndGetManager(g){var m=this;return(0,u.Z)(function*(){const D=yield function Zp(v){return rd.apply(this,arguments)}(g),N=new Yn(g);return D.register("authEvent",x=>(ie(x?.authEvent,g,"invalid-auth-event"),{status:N.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:N},m.iframes[g._key()]=D,N})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send($l,{type:$l},N=>{var x;const ne=null===(x=N?.[0])||void 0===x?void 0:x[$l];void 0!==ne&&m(!!ne),nt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function xs(v){return mr.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return pn()||H()||ot()}};class Hh extends class od{constructor(g){this.factorId=g}_process(g,m,D){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,D);case"signin":return this._finalizeSignIn(g,m.credential);default:return ce("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Hh(g)}_finalizeEnroll(g,m,D){return function Nl(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(v,g))}(g,{idToken:m,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Jo(v,g){return jt(v,"POST","/v2/accounts/mfaSignIn:finalize",Wt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ps=(()=>{class v{constructor(){}static assertion(m){return Hh._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var oo="@firebase/auth";class __{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(D=>{var N;g((null===(N=D)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function mb(v){(0,M._registerComponent)(new _e.wA("auth",(g,{options:m})=>{const D=g.getProvider("app").getImmediate(),N=g.getProvider("heartbeat"),{apiKey:x,authDomain:ne}=D.options;return((Ae,Je)=>{ie(x&&!x.includes(":"),"invalid-api-key",{appName:Ae.name}),ie(!ne?.includes(":"),"argument-error",{appName:Ae.name});const dt={apiKey:x,authDomain:ne,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:In(v)},Bt=new Us(Ae,Je,dt);return function oe(v,g){const m=g?.persistence||[],D=(Array.isArray(m)?m:[m]).map(ee);g?.errorMap&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(D,g?.popupRedirectResolver)}(Bt,m),Bt})(D,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,D)=>{g.getProvider("auth-internal").initialize()})),(0,M._registerComponent)(new _e.wA("auth-internal",g=>{const m=Dt(g.getProvider("auth").getImmediate());return new __(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,M.registerVersion)(oo,"0.20.7",function gb(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,M.registerVersion)(oo,"0.20.7","esm2017")}("Browser")},2090:(gt,Oe,P)=>{P.d(Oe,{$s:()=>Mr,BH:()=>He,G6:()=>ie,L:()=>he,LL:()=>Ve,Sg:()=>Pe,UG:()=>Te,US:()=>_e,ZB:()=>W,ZR:()=>oe,b$:()=>nt,eu:()=>ve,hl:()=>ce,jU:()=>ge,m9:()=>Zt,ne:()=>Pi,pd:()=>Vn,r3:()=>Wt,ru:()=>tt,tV:()=>be,uI:()=>at,vZ:()=>wr,w1:()=>Re,xO:()=>Mi,xb:()=>br,z$:()=>Ee,zI:()=>Q,zd:()=>Yr});const se=function(K){const $=[];let B=0;for(let z=0;z<K.length;z++){let q=K.charCodeAt(z);q<128?$[B++]=q:q<2048?($[B++]=q>>6|192,$[B++]=63&q|128):55296==(64512&q)&&z+1<K.length&&56320==(64512&K.charCodeAt(z+1))?(q=65536+((1023&q)<<10)+(1023&K.charCodeAt(++z)),$[B++]=q>>18|240,$[B++]=q>>12&63|128,$[B++]=q>>6&63|128,$[B++]=63&q|128):($[B++]=q>>12|224,$[B++]=q>>6&63|128,$[B++]=63&q|128)}return $},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,$){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let q=0;q<K.length;q+=3){const Ne=K[q],Ge=q+1<K.length,Tt=Ge?K[q+1]:0,an=q+2<K.length,on=an?K[q+2]:0;let j=(15&Tt)<<2|on>>6,H=63&on;an||(H=64,Ge||(j=64)),z.push(B[Ne>>2],B[(3&Ne)<<4|Tt>>4],B[j],B[H])}return z.join("")},encodeString(K,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(K):this.encodeByteArray(se(K),$)},decodeString(K,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(K):function(K){const $=[];let B=0,z=0;for(;B<K.length;){const q=K[B++];if(q<128)$[z++]=String.fromCharCode(q);else if(q>191&&q<224){const Ne=K[B++];$[z++]=String.fromCharCode((31&q)<<6|63&Ne)}else if(q>239&&q<365){const an=((7&q)<<18|(63&K[B++])<<12|(63&K[B++])<<6|63&K[B++])-65536;$[z++]=String.fromCharCode(55296+(an>>10)),$[z++]=String.fromCharCode(56320+(1023&an))}else{const Ne=K[B++],Ge=K[B++];$[z++]=String.fromCharCode((15&q)<<12|(63&Ne)<<6|63&Ge)}}return $.join("")}(this.decodeStringToByteArray(K,$))},decodeStringToByteArray(K,$){this.init_();const B=$?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let q=0;q<K.length;){const Ne=B[K.charAt(q++)],Tt=q<K.length?B[K.charAt(q)]:0;++q;const on=q<K.length?B[K.charAt(q)]:64;++q;const te=q<K.length?B[K.charAt(q)]:64;if(++q,null==Ne||null==Tt||null==on||null==te)throw Error();z.push(Ne<<2|Tt>>4),64!==on&&(z.push(Tt<<4&240|on>>2),64!==te&&z.push(on<<6&192|te))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},he=function(K){return function(K){const $=se(K);return _e.encodeByteArray($,!0)}(K).replace(/\./g,"")},be=function(K){try{return _e.decodeString(K,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function W(K,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return $}for(const B in $)!$.hasOwnProperty(B)||!X(B)||(K[B]=W(K[B],$[B]));return K}function X(K){return"__proto__"!==K}class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,B)=>{this.resolve=$,this.reject=B})}wrapCallback($){return(B,z)=>{B?this.reject(B):this.resolve(z),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(B):$(B,z))}}}function Pe(K,$){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=$||"demo-project",q=K.iat||0,Ne=K.sub||K.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:q,exp:q+3600,auth_time:q,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},K);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ge)),""].join(".")}function Ee(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ge(){return"object"==typeof self&&self.self===self}function tt(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){const K=Ee();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function ie(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ce(){return"object"==typeof indexedDB}function ve(){return new Promise((K,$)=>{try{let B=!0;const z="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(z);q.onsuccess=()=>{q.result.close(),B||self.indexedDB.deleteDatabase(z),K(!0)},q.onupgradeneeded=()=>{B=!1},q.onerror=()=>{var Ne;$((null===(Ne=q.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(B){$(B)}})}function Q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class oe extends Error{constructor($,B,z){super(B),this.code=$,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor($,B,z){this.service=$,this.serviceName=B,this.errors=z}create($,...B){const z=B[0]||{},q=`${this.service}/${$}`,Ne=this.errors[$],Ge=Ne?function Ue(K,$){return K.replace(bt,(B,z)=>{const q=$[z];return null!=q?String(q):`<${z}?>`})}(Ne,z):"Error";return new oe(q,`${this.serviceName}: ${Ge} (${q}).`,z)}}const bt=/\{\$([^}]+)}/g;function Wt(K,$){return Object.prototype.hasOwnProperty.call(K,$)}function br(K){for(const $ in K)if(Object.prototype.hasOwnProperty.call(K,$))return!1;return!0}function wr(K,$){if(K===$)return!0;const B=Object.keys(K),z=Object.keys($);for(const q of B){if(!z.includes(q))return!1;const Ne=K[q],Ge=$[q];if(Sn(Ne)&&Sn(Ge)){if(!wr(Ne,Ge))return!1}else if(Ne!==Ge)return!1}for(const q of z)if(!B.includes(q))return!1;return!0}function Sn(K){return null!==K&&"object"==typeof K}function Mi(K){const $=[];for(const[B,z]of Object.entries(K))Array.isArray(z)?z.forEach(q=>{$.push(encodeURIComponent(B)+"="+encodeURIComponent(q))}):$.push(encodeURIComponent(B)+"="+encodeURIComponent(z));return $.length?"&"+$.join("&"):""}function Yr(K){const $={};return K.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[q,Ne]=z.split("=");$[decodeURIComponent(q)]=decodeURIComponent(Ne)}}),$}function Vn(K){const $=K.indexOf("?");if(!$)return"";const B=K.indexOf("#",$);return K.substring($,B>0?B:void 0)}function Pi(K,$){const B=new it(K,$);return B.subscribe.bind(B)}class it{constructor($,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{$(this)}).catch(z=>{this.error(z)})}next($){this.forEachObserver(B=>{B.next($)})}error($){this.forEachObserver(B=>{B.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,B,z){let q;if(void 0===$&&void 0===B&&void 0===z)throw new Error("Missing Observer.");q=function Un(K,$){if("object"!=typeof K||null===K)return!1;for(const B of $)if(B in K&&"function"==typeof K[B])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:B,complete:z},void 0===q.next&&(q.next=fn),void 0===q.error&&(q.error=fn),void 0===q.complete&&(q.complete=fn);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Ne}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,$)}sendOne($,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{B(this.observers[$])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}function Mr(K,$=1e3,B=2){const z=$*Math.pow(B,K),q=Math.round(.5*z*(Math.random()-.5)*2);return Math.min(144e5,z+q)}function Zt(K){return K&&K._delegate?K._delegate:K}},9645:(gt,Oe,P)=>{var u=P(4650);let U=null;function M(){return U}const pe=new u.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function be(){return(0,u.LFG)(W)}()},providedIn:"platform"}),n})();const G=new u.OlP("Location Initialized");let W=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(t){const r=M().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=M().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){X()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){X()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function He(){return new W((0,u.LFG)(pe))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Pe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ee(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function at(n){return n&&"?"!==n[0]?"?"+n:n}let Te=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(tt)},providedIn:"root"}),n})();const ge=new u.OlP("appBaseHref");let tt=(()=>{class n extends Te{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Pe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+at(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+at(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+at(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nt=(()=>{class n extends Te{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Pe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+at(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+at(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ee(Ze(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+at(r))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=at,n.joinWithSlash=Pe,n.stripTrailingSlash=Ee,n.\u0275fac=function(t){return new(t||n)(u.LFG(Te))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Re(){return new Fe((0,u.LFG)(Te))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}function Dl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}let ln=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class $s{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $s(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,d),Hs(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Hs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Hs(n,e){n.context.$implicit=e.item}let En=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new vh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class vh{constructor(){this.$implicit=null,this.ngIf=null}}function Xn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let pi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Po(n){return"server"===n}let kc=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new bh((0,u.LFG)(pe),window)}),n})();class bh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Er(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ci(this.window.history)||Ci(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ci(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zs{}class Es extends class Bc extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ue(n){U||(U=n)}(new Es)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function jc(){return Cs=Cs||document.querySelector("base"),Cs?Cs.getAttribute("href"):null}();return null==t?null:function ls(n){Nn=Nn||document.createElement("a"),Nn.setAttribute("href",n);const e=Nn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Cs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Dl(document.cookie,e)}}let Nn,Cs=null;const On=new u.OlP("TRANSITION_ID"),Cu=[{provide:u.ip1,useFactory:function $c(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=M(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[On,pe,u.zs3],multi:!0}];let Su=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Au=new u.OlP("EventManagerPlugins");let Hc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Au),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Nu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=M().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let jo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),$o=(()=>{class n extends jo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Gc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Gc))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Gc(n){M().remove(n)}const Ho={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wc=/%COMP%/g;function Ol(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ol(n,i,t):(i=i.replace(Wc,n),t.push(i))}return t}function Rl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ml=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new us(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new qc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Ah(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ol(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Hc),u.LFG($o),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class us{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ho[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Va(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Va(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Ho[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ho[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Rl(r)):this.eventManager.addEventListener(e,t,Rl(r))}}function Va(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class qc extends us{constructor(e,t,r,i){super(e),this.component=r;const l=Ol(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function jn(n){return"_ngcontent-%COMP%".replace(Wc,n)}(i+"-"+r.id),this.hostAttr=function Nl(n){return"_nghost-%COMP%".replace(Wc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ah extends us{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ol(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const f=document.createElement("style");f.textContent=l[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nr=(()=>{class n extends Nu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Nh=["alt","control","meta","shift"],Ss={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ua=(()=>{class n extends Nu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>M().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),Nh.forEach(b=>{const E=r.indexOf(b);E>-1&&(r.splice(E,1),d+=b+".")}),d+=l,0!=r.length||0===l.length)return null;const _={};return _.domEventName=i,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let i=Ss[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Nh.forEach(d=>{d!==i&&(0,Mu[d])(t)&&(l+=d+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ba=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Kc(){Es.makeCurrent()},multi:!0},{provide:pe,useFactory:function xu(){return(0,u.RDi)(document),document},deps:[]}]),Zs=new u.OlP(""),ja=[{provide:u.rWj,useClass:class Ch{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const f=function(_){d=d||_,l--,0==l&&r(d)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?M().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Wo=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function cs(){return new u.qLn},deps:[]},{provide:Au,useClass:nr,multi:!0,deps:[pe,u.R0b,u.Lbi]},{provide:Au,useClass:Ua,multi:!0,deps:[pe]},{provide:Ml,useClass:Ml,deps:[Hc,$o,u.AFp]},{provide:u.FYo,useExisting:Ml},{provide:jo,useExisting:$o},{provide:$o,useClass:$o,deps:[pe]},{provide:Hc,useClass:Hc,deps:[Au,u.R0b]},{provide:zs,useClass:Su,deps:[]},[]];let zo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:On,useExisting:u.AFp},Cu]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zs,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Wo,...ja],imports:[pi,u.hGG]}),n})(),Li=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function $a(){return new Li((0,u.LFG)(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var cn=P(8996),Ai=P(3269);function ct(...n){const e=(0,Ai.yG)(n);return(0,cn.D)(n,e)}var Rn=P(7579);class rn extends Rn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ys=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Pn=P(9751);const{isArray:Js}=Array,{getPrototypeOf:Qc,prototype:Xc,keys:kh}=Object;function Ns(n){if(1===n.length){const e=n[0];if(Js(e))return{args:e,keys:null};if(function ed(n){return n&&"object"==typeof n&&Qc(n)===Xc}(e)){const t=kh(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Os=P(4671),st=P(4004);const{isArray:Fu}=Array;function Ha(n){return(0,st.U)(e=>function Ui(n,e){return Fu(e)?n(...e):n(e)}(n,e))}function Ga(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Cn=P(5403),Wa=P(9672);function ta(...n){const e=(0,Ai.yG)(n),t=(0,Ai.jO)(n),{args:r,keys:i}=Ns(n);if(0===r.length)return(0,cn.D)([],e);const l=new Pn.y(function za(n,e,t=Os.y){return r=>{Fh(e,()=>{const{length:i}=n,l=new Array(i);let d=i,f=i;for(let _=0;_<i;_++)Fh(e,()=>{const b=(0,cn.D)(n[_],e);let E=!1;b.subscribe((0,Cn.x)(r,A=>{l[_]=A,E||(E=!0,f--),f||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>Ga(i,d):Os.y));return t?l.pipe(Ha(t)):l}function Fh(n,e,t){n?(0,Wa.f)(t,n,e):e()}var na=P(8189);function Rs(...n){return function Vl(){return(0,na.J)(1)}()((0,cn.D)(n,(0,Ai.yG)(n)))}var ni=P(8421);function Ni(n){return new Pn.y(e=>{(0,ni.Xf)(n()).subscribe(e)})}var Ul=P(9635),Pr=P(576);function Qs(n,e){const t=(0,Pr.m)(n)?n:()=>n,r=i=>i.error(t());return new Pn.y(e?i=>e.schedule(r,0,i):r)}var gr=P(515),td=P(727),vn=P(4482);function Xs(){return(0,vn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Cn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class eo extends Pn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new td.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Cn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=td.w0.EMPTY)}return e}refCount(){return Xs()(this)}}function Hn(n,e){return(0,vn.e)((t,r)=>{let i=null,l=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,Cn.x)(r,_=>{i?.unsubscribe();let b=0;const E=l++;(0,ni.Xf)(n(_,E)).subscribe(i=(0,Cn.x)(r,A=>r.next(e?e(_,A,E,b++):A),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function Qt(n){return n<=0?()=>gr.E:(0,vn.e)((e,t)=>{let r=0;e.subscribe((0,Cn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Bi(...n){const e=(0,Ai.yG)(n);return(0,vn.e)((t,r)=>{(e?Rs(n,t,e):Rs(n,t)).subscribe(r)})}function Kn(n,e){return(0,vn.e)((t,r)=>{let i=0;t.subscribe((0,Cn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var I=P(5577);function C(n){return(0,vn.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function O(n=L){return(0,vn.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function L(){return new Ys}function J(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Kn((i,l)=>n(i,l,r)):Os.y,Qt(1),t?C(e):O(()=>new Ys))}function le(n,e){return(0,Pr.m)(e)?(0,I.z)(n,e,1):(0,I.z)(n,1)}var De=P(8505);function We(n){return(0,vn.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Cn.x)(t,void 0,void 0,d=>{l=(0,ni.Xf)(n(d,We(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function _t(n,e,t,r,i){return(l,d)=>{let f=t,_=e,b=0;l.subscribe((0,Cn.x)(d,E=>{const A=b++;_=f?n(_,E,A):(f=!0,E),r&&d.next(_)},i&&(()=>{f&&d.next(_),d.complete()})))}}function Nt(n,e){return(0,vn.e)(_t(n,e,arguments.length>=2,!0))}function kt(n){return n<=0?()=>gr.E:(0,vn.e)((e,t)=>{let r=[];e.subscribe((0,Cn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function vt(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Kn((i,l)=>n(i,l,r)):Os.y,kt(1),t?C(e):O(()=>new Ys))}function to(n){return(0,vn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Lt="primary",Sr=Symbol("RouteTitle");class no{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ms(n){return new no(n)}function Bl(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],f=n[l];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function mr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!nd(n[i],e[i]))return!1;return!0}function nd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function zp(n){return Array.prototype.concat.apply([],n)}function Lh(n){return n.length>0?n[n.length-1]:null}function Gn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ro(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,cn.D)(Promise.resolve(n)):ct(n)}const pb={exact:function Zp(n,e,t){if(!so(n.segments,e.segments)||!io(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Zp(n.children[r],e.children[r],t))return!1;return!0},subset:Lu},Uh={exact:function Bh(n,e){return mr(n,e)},subset:function rd(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nd(n[t],e[t]))},ignored:()=>!0};function m_(n,e,t){return pb[t.paths](n.root,e.root,t.matrixParams)&&Uh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Lu(n,e,t){return id(n,e,e.segments,t)}function id(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!so(i,t)||e.hasChildren()||!io(i,t,r))}if(n.segments.length===t.length){if(!so(n.segments,t)||!io(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Lu(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(so(n.segments,i)&&io(n.segments,i,r)&&n.children[Lt])&&id(n.children[Lt],e,l,r)}}function io(n,e,t){return e.every((r,i)=>Uh[t](n[i].parameters,r.parameters))}class qa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ms(this.queryParams)),this._queryParamMap}toString(){return Yp.serialize(this)}}class Xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $l(this)}}class Vu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ms(this.parameters)),this._parameterMap}toString(){return __(this)}}function so(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let jh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new jl},providedIn:"root"}),n})();class jl{parse(e){const t=new x(e);return new qa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Uu(e.root,!0)}`,r=function mb(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${od(t)}=${od(i)}`).join("&"):`${od(t)}=${od(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Hh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Yp=new jl;function $l(n){return n.segments.map(e=>__(e)).join("/")}function Uu(n,e){if(!n.hasChildren())return $l(n);if(e){const t=n.children[Lt]?Uu(n.children[Lt],!1):"",r=[];return Gn(n.children,(i,l)=>{l!==Lt&&r.push(`${l}:${Uu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Kp(n,e){let t=[];return Gn(n.children,(r,i)=>{i===Lt&&(t=t.concat(e(r,i)))}),Gn(n.children,(r,i)=>{i!==Lt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Lt?[Uu(n.children[Lt],!1)]:[`${i}:${Uu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${$l(n)}/${t[0]}`:`${$l(n)}/(${t.join("//")})`}}function $h(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function od(n){return $h(n).replace(/%3B/gi,";")}function Ps(n){return $h(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oo(n){return decodeURIComponent(n)}function Gh(n){return oo(n.replace(/\+/g,"%20"))}function __(n){return`${Ps(n.path)}${function gb(n){return Object.keys(n).map(e=>`;${Ps(e)}=${Ps(n[e])}`).join("")}(n.parameters)}`}const Z1=/^[^\/()?;=#]+/;function v(n){const e=n.match(Z1);return e?e[0]:""}const g=/^[^=?&#]+/,D=/^[^&#]+/;class x{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Lt]=new Xt(e,t)),r}parseSegment(){const e=v(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new Vu(oo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=v(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=v(this.remaining);i&&(r=i,this.capture(r))}e[oo(t)]=oo(r)}parseQueryParam(e){const t=function m(n){const e=n.match(g);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function N(n){const e=n.match(D);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=Gh(t),l=Gh(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=v(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Lt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Lt]:new Xt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function ne(n){return n.segments.length>0?new Xt([],{[Lt]:n}):n}function Ae(n){const e={};for(const r of Object.keys(n.children)){const l=Ae(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Je(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new Xt(n.segments.concat(e.segments),e.children)}return n}(new Xt(n.segments,e))}function dt(n){return n instanceof qa}function Wh(n,e,t,r,i){if(0===t.length)return lo(e.root,e.root,e.root,r,i);const l=function Jp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new zh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return Gn(l.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new zh(t,e,r)}(t);return l.toRoot()?lo(e.root,e.root,new Xt([],{}),r,i):function d(_){const b=function Qp(n,e,t,r){if(n.isAbsolute)return new ra(e.root,!0,0);if(-1===r)return new ra(t,t===e.root,0);return function Xp(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new ra(r,!1,i-l)}(t,r+(Bu(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,_),E=b.processChildren?Hl(b.segmentGroup,b.index,l.commands):ad(b.segmentGroup,b.index,l.commands);return lo(e.root,b.segmentGroup,E,r,i)}(n.snapshot?._lastPathIndex)}function Bu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ao(n){return"object"==typeof n&&null!=n&&n.outlets}function lo(n,e,t,r,i){let d,l={};r&&Gn(r,(_,b)=>{l[b]=Array.isArray(_)?_.map(E=>`${E}`):`${_}`}),d=n===e?t:ju(n,e,t);const f=ne(Ae(d));return new qa(f,l,i)}function ju(n,e,t){const r={};return Gn(n.children,(i,l)=>{r[l]=i===e?t:ju(i,e,t)}),new Xt(n.segments,r)}class zh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bu(r[0]))throw new u.vHH(4003,!1);const i=r.find(ao);if(i&&i!==Lh(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ra{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ad(n,e,t){if(n||(n=new Xt([],{})),0===n.segments.length&&n.hasChildren())return Hl(n,e,t);const r=function K1(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],f=t[r];if(ao(f))break;const _=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!_b(_,b,d))return l;r+=2}else{if(!_b(_,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Xt(n.segments.slice(0,r.pathIndex),{});return l.children[Lt]=new Xt(n.segments.slice(r.pathIndex),n.children),Hl(l,0,i)}return r.match&&0===i.length?new Xt(n.segments,{}):r.match&&!n.hasChildren()?Kh(n,e,t):r.match?Hl(n,0,i):Kh(n,e,t)}function Hl(n,e,t){if(0===t.length)return new Xt(n.segments,{});{const r=function Zh(n){return ao(n[0])?n[0].outlets:{[Lt]:n}}(t),i={};return Gn(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=ad(n.children[d],e,l))}),Gn(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new Xt(n.segments,i)}}function Kh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(ao(l)){const _=Y1(l.outlets);return new Xt(r,_)}if(0===i&&Bu(t[0])){r.push(new Vu(n.segments[e].path,_r(t[0]))),i++;continue}const d=ao(l)?l.outlets[Lt]:`${l}`,f=i<t.length-1?t[i+1]:null;d&&f&&Bu(f)?(r.push(new Vu(d,_r(f))),i+=2):(r.push(new Vu(d,{})),i++)}return new Xt(r,{})}function Y1(n){const e={};return Gn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Kh(new Xt([],{}),0,t))}),e}function _r(n){const e={};return Gn(n,(t,r)=>e[r]=`${t}`),e}function _b(n,e,t){return n==t.path&&mr(e,t.parameters)}class Ka{constructor(e,t){this.id=e,this.url=t}}class Yh extends Ka{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gl extends Ka{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eg extends Ka{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yb extends Ka{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class J1 extends Ka{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q1 extends Ka{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X1 extends Ka{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pN extends Ka{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gN extends Ka{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jh{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class y_{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vb{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bb{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wb{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eI{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v_{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class tg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Tb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=b_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return b_(e,this._root).map(t=>t.value)}}function Tb(n,e){if(n===e.value)return e;for(const t of e.children){const r=Tb(n,t);if(r)return r}return null}function b_(n,e){if(n===e.value)return[e];for(const t of e.children){const r=b_(n,t);if(r.length)return r.unshift(e),r}return[]}class uo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function $u(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class w_ extends tg{constructor(e,t){super(e),this.snapshot=t,Ja(this,e)}toString(){return this.snapshot.toString()}}function Wl(n,e){const t=function tI(n,e){const d=new ld([],{},{},"",{},Lt,e,null,n.root,-1,{});return new Xh("",new uo(d,[]))}(n,e),r=new rn([new Vu("",{})]),i=new rn({}),l=new rn({}),d=new rn({}),f=new rn(""),_=new Ya(r,i,d,f,l,Lt,e,t.root);return _.snapshot=t.root,new w_(new uo(_,[]),t)}class Ya{constructor(e,t,r,i,l,d,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,st.U)(b=>b[Sr]))??ct(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>Ms(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>Ms(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qh(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function nI(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ld{constructor(e,t,r,i,l,d,f,_,b,E,A,k){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this.title=this.data?.[Sr],this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=E,this._correctedLastPathIndex=k??E,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ms(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ms(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xh extends tg{constructor(e,t){super(t),this.url=e,Ja(this,t)}toString(){return D_(this._root)}}function Ja(n,e){e.value._routerState=n,e.children.forEach(t=>Ja(n,t))}function D_(n){const e=n.children.length>0?` { ${n.children.map(D_).join(", ")} } `:"";return`${n.value}${e}`}function ef(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),mr(e.params,t.params)||n.params.next(t.params),function xs(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),mr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function T_(n,e){const t=mr(n.params,e.params)&&function sd(n,e){return so(n,e)&&n.every((t,r)=>mr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||T_(n.parent,e.parent))}function ud(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function cd(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ud(n,r,i);return ud(n,r)})}(n,e,t);return new uo(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>ud(n,f)),d}}const r=function iI(n){return new Ya(new rn(n.url),new rn(n.params),new rn(n.queryParams),new rn(n.fragment),new rn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>ud(n,l));return new uo(r,i)}}const I_="ngNavigationCancelingError";function Ib(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=dt(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Eb(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Eb(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[I_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function ng(n){return Cb(n)&&dt(n.url)}function Cb(n){return n&&n[I_]}class Sb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new tf,this.attachRef=null}}let tf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sb,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nf=!1;let Ab=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||Lt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,nf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,nf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,nf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,nf);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new sI(t,f,i.injector);if(r&&function rf(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(d);this.activated=i.createComponent(b,i.length,_)}else this.activated=i.createComponent(d,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tf),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class sI{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ya?this.route:e===tf?this.childContexts:this.parent.get(e,t)}}let E_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[Ab],encapsulation:2}),n})();function Hu(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ig(n){const e=n.children&&n.children.map(ig),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=E_),t}function ji(n){return n.outlet||Lt}function Ob(n,e){const t=n.filter(r=>ji(r)===e);return t.push(...n.filter(r=>ji(r)!==e)),t}function sf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class _N{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ef(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=$u(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),Gn(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=$u(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=$u(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=$u(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new eI(l.value.snapshot))}),e.children.length&&this.forwardEvent(new bb(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(ef(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),ef(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=sf(i.snapshot),_=f?.get(u._Vd)??null;d.attachRef=null,d.route=i,d.resolver=_,d.injector=f,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class uI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class dd{constructor(e,t){this.component=e,this.route=t}}function yN(n,e,t){const r=n._root;return sg(r,e?e._root:null,t,[r.value])}function af(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function sg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=$u(e);return n.children.forEach(d=>{(function bN(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const _=function cI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!so(n.url,e.url);case"pathParamsOrQueryParamsChange":return!so(n.url,e.url)||!mr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!T_(n,e)||!mr(n.queryParams,e.queryParams);default:return!T_(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new uI(r)):(l.data=d.data,l._resolvedData=d._resolvedData),sg(n,e,l.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new dd(f.outlet.component,d))}else d&&hd(e,f,i),i.canActivateChecks.push(new uI(r)),sg(n,null,l.component?f?f.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),Gn(l,(d,f)=>hd(d,t.getContext(f),i)),i}function hd(n,e,t){const r=$u(n),i=n.value;Gn(r,(l,d)=>{hd(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new dd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gu(n){return"function"==typeof n}function O_(n){return n instanceof Ys||"EmptyError"===n?.name}const ag=Symbol("INITIAL_VALUE");function Wu(){return Hn(n=>ta(n.map(e=>e.pipe(Qt(1),Bi(ag)))).pipe((0,st.U)(e=>{for(const t of e)if(!0!==t){if(t===ag)return ag;if(!1===t||t instanceof qa)return t}return!0}),Kn(e=>e!==ag),Qt(1)))}function kb(n){return(0,Ul.z)((0,De.b)(e=>{if(dt(e))throw Ib(0,e)}),(0,st.U)(e=>!0===e))}const ri={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lg(n,e,t,r,i){const l=ug(n,e,t);return l.matched?function bI(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ct(i.map(d=>{const f=af(d,n);return ro(function N_(n){return n&&Gu(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Wu(),kb()):ct(!0)}(r=Hu(e,r),e,t).pipe((0,st.U)(d=>!0===d?l:{...ri})):ct(l)}function ug(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ri}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Bl)(t,n,e);if(!i)return{...ri};const l={};Gn(i.posParams,(f,_)=>{l[_]=f.path});const d=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function fd(n,e,t,r,i="corrected"){if(t.length>0&&function M_(n,e,t){return t.some(r=>cg(n,e,r)&&ji(r)!==Lt)}(n,t,r)){const d=new Xt(e,function lf(n,e,t,r){const i={};i[Lt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&ji(l)!==Lt){const d=new Xt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[ji(l)]=d}return i}(n,e,r,new Xt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function wI(n,e,t){return t.some(r=>cg(n,e,r))}(n,t,r)){const d=new Xt(n.segments,function vi(n,e,t,r,i,l){const d={};for(const f of r)if(cg(n,t,f)&&!i[ji(f)]){const _=new Xt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[ji(f)]=_}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new Xt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function cg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function x_(n,e,t,r){return!!(ji(n)===r||r!==Lt&&cg(e,t,n))&&("**"===n.path||ug(e,n,t).matched)}function Fb(n,e,t){return 0===e.length&&!n.children[t]}const uf=!1;class dg{constructor(e){this.segmentGroup=e||null}}class P_{constructor(e){this.urlTree=e}}function cf(n){return Qs(new dg(n))}function Lb(n){return Qs(new P_(n))}class pd{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=fd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Lt).pipe((0,st.U)(l=>this.createUrlTree(Ae(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(We(l=>{if(l instanceof P_)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof dg?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Lt).pipe((0,st.U)(i=>this.createUrlTree(Ae(i),e.queryParams,e.fragment))).pipe(We(i=>{throw i instanceof dg?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,uf)}createUrlTree(e,t,r){const i=ne(e);return new qa(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,st.U)(l=>new Xt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,cn.D)(i).pipe(le(l=>{const d=r.children[l],f=Ob(t,l);return this.expandSegmentGroup(e,f,d,l).pipe((0,st.U)(_=>({segment:_,outlet:l})))}),Nt((l,d)=>(l[d.outlet]=d.segment,l),{}),vt())}expandSegment(e,t,r,i,l,d){return(0,cn.D)(r).pipe(le(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,d).pipe(We(b=>{if(b instanceof dg)return ct(null);throw b}))),J(f=>!!f),We((f,_)=>{if(O_(f))return Fb(t,i,l)?ct(new Xt([],{})):cf(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,d,f){return x_(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):cf(t):cf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Lb(l):this.lineralizeSegments(r,l).pipe((0,I.z)(d=>{const f=new Xt(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:E}=ug(t,i,l);if(!f)return cf(t);const A=this.applyRedirectCommands(_,i.redirectTo,E);return i.redirectTo.startsWith("/")?Lb(A):this.lineralizeSegments(i,A).pipe((0,I.z)(k=>this.expandSegment(e,t,r,k.concat(b),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=Hu(r,e),r.loadChildren?(r._loadedRoutes?ct({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,st.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Xt(i,{})))):ct(new Xt(i,{}))):lg(t,r,i,e).pipe(Hn(({matched:d,consumedSegments:f,remainingSegments:_})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,I.z)(E=>{const A=E.injector??e,k=E.routes,{segmentGroup:V,slicedSegments:Y}=fd(t,f,_,k),ae=new Xt(V.segments,V.children);if(0===Y.length&&ae.hasChildren())return this.expandChildren(A,k,ae).pipe((0,st.U)(ht=>new Xt(f,ht)));if(0===k.length&&0===Y.length)return ct(new Xt(f,{}));const ye=ji(r)===l;return this.expandSegment(A,ae,k,Y,ye?Lt:l,!0).pipe((0,st.U)(ze=>new Xt(f.concat(ze.segments),ze.children)))})):cf(t)))}getChildConfig(e,t,r){return t.children?ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function Pb(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ct(!0):ct(i.map(d=>{const f=af(d,n);return ro(function Mb(n){return n&&Gu(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Wu(),kb())}(e,t,r).pipe((0,I.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,De.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function TI(n){return Qs(Eb(uf,3))}())):ct({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ct(r);if(i.numberOfChildren>1||!i.children[Lt])return Qs(new u.vHH(4e3,uf));i=i.children[Lt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new qa(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gn(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return Gn(t.children,(f,_)=>{d[_]=this.createSegmentGroup(e,f,r,i)}),new Xt(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,uf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class EI{}class Vb{constructor(e,t,r,i,l,d,f,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=fd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Lt).pipe((0,st.U)(t=>{if(null===t)return null;const r=new ld([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new uo(r,t),l=new Xh(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=Qh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,cn.D)(Object.keys(r.children)).pipe(le(i=>{const l=r.children[i],d=Ob(t,i);return this.processSegmentGroup(e,d,l,i)}),Nt((i,l)=>i&&l?(i.push(...l),i):null),function Yn(n,e=!1){return(0,vn.e)((t,r)=>{let i=0;t.subscribe((0,Cn.x)(r,l=>{const d=n(l,i++);(d||e)&&r.next(l),!d&&r.complete()}))})}(i=>null!==i),C(null),vt(),(0,st.U)(i=>{if(null===i)return null;const l=fg(i);return function TN(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,cn.D)(t).pipe(le(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,l)),J(d=>!!d),We(d=>{if(O_(d))return Fb(r,i,l)?ct([]):ct(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!x_(t,r,i,l))return ct(null);let d;if("**"===t.path){const f=i.length>0?Lh(i).parameters:{},_=Ub(r)+i.length;d=ct({snapshot:new ld(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bb(t),ji(t),t.component??t._loadedComponent??null,t,F_(r),_,jb(t),_),consumedSegments:[],remainingSegments:[]})}else d=lg(r,t,i,e).pipe((0,st.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:E})=>{if(!f)return null;const A=Ub(r)+_.length;return{snapshot:new ld(_,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bb(t),ji(t),t.component??t._loadedComponent??null,t,F_(r),A,jb(t),A),consumedSegments:_,remainingSegments:b}}));return d.pipe(Hn(f=>{if(null===f)return ct(null);const{snapshot:_,consumedSegments:b,remainingSegments:E}=f;e=t._injector??e;const A=t._loadedInjector??e,k=function ia(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:Y}=fd(r,b,E,k.filter(ye=>void 0===ye.redirectTo),this.relativeLinkResolution);if(0===Y.length&&V.hasChildren())return this.processChildren(A,k,V).pipe((0,st.U)(ye=>null===ye?null:[new uo(_,ye)]));if(0===k.length&&0===Y.length)return ct([new uo(_,[])]);const ae=ji(t)===l;return this.processSegment(A,k,V,Y,ae?Lt:l).pipe((0,st.U)(ye=>null===ye?null:[new uo(_,ye)]))}))}}function k_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function fg(n){const e=[],t=new Set;for(const r of n){if(!k_(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=fg(r.children);e.push(new uo(r.value,i))}return e.filter(r=>!t.has(r))}function F_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ub(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Bb(n){return n.data||{}}function jb(n){return n.resolve||{}}function V_(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ct(t);let l=0;return(0,cn.D)(i).pipe(le(d=>function $b(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!B_(i)&&(l[Sr]=i.title),function IN(n,e,t,r){const i=function md(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ct({});const l={};return(0,cn.D)(i).pipe((0,I.z)(d=>function U_(n,e,t,r){const i=sf(e)??r,l=af(n,i);return ro(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(J(),(0,De.b)(f=>{l[d]=f}))),kt(1),function Cr(n){return(0,st.U)(()=>n)}(l),We(d=>O_(d)?gr.E:Qs(d)))}(l,n,e,r).pipe((0,st.U)(d=>(n._resolvedData=d,n.data=Qh(n,t).resolve,i&&B_(i)&&(n.data[Sr]=i.title),null)))}(d.route,r,n,e)),(0,De.b)(()=>l++),kt(1),(0,I.z)(d=>l===i.length?ct(t):gr.E))})}function B_(n){return"string"==typeof n.title||null===n.title}function j_(n){return Hn(e=>{const t=n(e);return t?(0,cn.D)(t).pipe((0,st.U)(()=>e)):ct(e)})}let pg=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===Lt);return r}getResolvedTitleForRoute(t){return t.data[Sr]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Hb)},providedIn:"root"}),n})(),Hb=(()=>{class n extends pg{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Li))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class SI{}class NI extends class AI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const df=new u.OlP("",{providedIn:"root",factory:()=>({})}),mg=new u.OlP("ROUTES");let hf=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ro(t.loadComponent()).pipe((0,De.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),to(()=>{this.componentLoaders.delete(t)})),i=new eo(r,()=>new Rn.x).pipe(Xs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ct({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,st.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b,E=!1;Array.isArray(f)?b=f:(_=f.create(t).injector,b=zp(_.get(mg,[],u.XFs.Self|u.XFs.Optional)));return{routes:b.map(ig),injector:_}}),to(()=>{this.childrenLoaders.delete(r)})),d=new eo(l,()=>new Rn.x).pipe(Xs());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return ro(t()).pipe((0,I.z)(r=>r instanceof u.YKP||Array.isArray(r)?ct(r):(0,cn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RI{}class MI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Gb(n){throw n}function zu(n,e,t){return e.parse("/")}const Wb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function PI(){const n=(0,u.f3M)(jh),e=(0,u.f3M)(tf),t=(0,u.f3M)(Fe),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),l=(0,u.f3M)(mg,{optional:!0})??[],d=(0,u.f3M)(df,{optional:!0})??{},f=(0,u.f3M)(Hb),_=(0,u.f3M)(pg,{optional:!0}),b=(0,u.f3M)(RI,{optional:!0}),E=(0,u.f3M)(SI,{optional:!0}),A=new Ar(null,n,e,t,r,i,zp(l));return b&&(A.urlHandlingStrategy=b),E&&(A.routeReuseStrategy=E),A.titleStrategy=_??f,function xI(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,A),A}let Ar=(()=>{class n{constructor(t,r,i,l,d,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Rn.x,this.errorHandler=Gb,this.malformedUriErrorHandler=zu,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ct(void 0),this.urlHandlingStrategy=new MI,this.routeReuseStrategy=new NI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(hf),this.configLoader.onLoadEndListener=k=>this.triggerEvent(new y_(k)),this.configLoader.onLoadStartListener=k=>this.triggerEvent(new Jh(k)),this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const A=d.get(u.R0b);this.isNgZoneEnabled=A instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function qp(){return new qa(new Xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Wl(this.currentUrlTree,this.rootComponentType),this.transitions=new rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Kn(i=>0!==i.id),(0,st.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Hn(i=>{let l=!1,d=!1;return ct(i).pipe((0,De.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hn(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return $_(f.source)&&(this.browserUrlTree=f.extractedUrl),ct(f).pipe(Hn(A=>{const k=this.transitions.getValue();return r.next(new Yh(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),k!==this.transitions.getValue()?gr.E:Promise.resolve(A)}),function Qa(n,e,t,r){return Hn(i=>function II(n,e,t,r,i){return new pd(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,st.U)(l=>({...i,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,De.b)(A=>{this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},i.urlAfterRedirects=A.urlAfterRedirects}),function L_(n,e,t,r,i,l){return(0,I.z)(d=>function DN(n,e,t,r,i,l,d="emptyOnly",f="legacy"){return new Vb(n,e,t,r,i,d,f,l).recognize().pipe(Hn(_=>null===_?function wN(n){return new Pn.y(e=>e.error(n))}(new EI):ct(_)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,l).pipe((0,st.U)(f=>({...d,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,De.b)(A=>{if(i.targetSnapshot=A.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(V,A)}this.browserUrlTree=A.urlAfterRedirects}const k=new J1(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(k)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:V,source:Y,restoredState:ae,extras:ye}=f,Be=new Yh(k,this.serializeUrl(V),Y,ae);r.next(Be);const ze=Wl(V,this.rootComponentType).snapshot;return ct(i={...f,targetSnapshot:ze,urlAfterRedirects:V,extras:{...ye,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),gr.E}),(0,De.b)(f=>{const _=new Q1(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,st.U)(f=>i={...f,guards:yN(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function fI(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?ct({...t,guardsResult:!0}):function pI(n,e,t,r){return(0,cn.D)(n).pipe((0,I.z)(i=>function vI(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?ct(l.map(f=>{const _=sf(e)??i,b=af(f,_);return ro(function dI(n){return n&&Gu(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(J())})).pipe(Wu()):ct(!0)}(i.component,i.route,t,e,r)),J(i=>!0!==i,!0))}(d,r,i,n).pipe((0,I.z)(f=>f&&function Rb(n){return"boolean"==typeof n}(f)?function gI(n,e,t,r){return(0,cn.D)(e).pipe(le(i=>Rs(function R_(n,e){return null!==n&&e&&e(new vb(n)),ct(!0)}(i.route.parent,r),function mI(n,e){return null!==n&&e&&e(new wb(n)),ct(!0)}(i.route,r),function yI(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function vN(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Ni(()=>ct(d.guards.map(_=>{const b=sf(d.node)??t,E=af(_,b);return ro(function A_(n){return n&&Gu(n.canActivateChild)}(E)?E.canActivateChild(r,n):b.runInContext(()=>E(r,n))).pipe(J())})).pipe(Wu())));return ct(l).pipe(Wu())}(n,i.path,t),function _I(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ct(!0);const i=r.map(l=>Ni(()=>{const d=sf(e)??t,f=af(l,d);return ro(function xb(n){return n&&Gu(n.canActivate)}(f)?f.canActivate(e,n):d.runInContext(()=>f(e,n))).pipe(J())}));return ct(i).pipe(Wu())}(n,i.route,t))),J(i=>!0!==i,!0))}(r,l,n,e):ct(f)),(0,st.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,De.b)(f=>{if(i.guardsResult=f.guardsResult,dt(f.guardsResult))throw Ib(0,f.guardsResult);const _=new X1(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Kn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),j_(f=>{if(f.guards.canActivateChecks.length)return ct(f).pipe((0,De.b)(_=>{const b=new pN(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),Hn(_=>{let b=!1;return ct(_).pipe(V_(this.paramsInheritanceStrategy,this.ngModule.injector),(0,De.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,De.b)(_=>{const b=new gN(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),j_(f=>{const _=b=>{const E=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,De.b)(A=>{b.component=A}),(0,st.U)(()=>{})));for(const A of b.children)E.push(..._(A));return E};return ta(_(f.targetSnapshot.root)).pipe(C(),Qt(1))}),j_(()=>this.afterPreactivation()),(0,st.U)(f=>{const _=function rI(n,e,t){const r=ud(n,e._root,t?t._root:void 0);return new w_(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:_}}),(0,De.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,st.U)(r=>(new _N(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,De.b)({next(){l=!0},complete(){l=!0}}),to(()=>{l||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),We(f=>{if(d=!0,Cb(f)){ng(f)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new eg(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(_),ng(f)){const b=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),E={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$_(i.source)};this.scheduleNavigation(b,"imperative",null,E,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new yb(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(f))}catch(b){i.reject(b)}}return gr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const f={...l};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(ig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,b=i||this.routerState.root,E=_?this.currentUrlTree.fragment:d;let A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...l};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}return null!==A&&(A=this.removeEmptyProps(A)),Wh(b,this.currentUrlTree,t,A,E??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=dt(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function kI(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Wb}:!1===r?{...zb}:r,dt(t))return m_(this.currentUrlTree,t,i);const l=this.parseUrl(t);return m_(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Gl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){if(this.disposed)return Promise.resolve(!1);let f,_,b;d?(f=d.resolve,_=d.reject,b=d.promise):b=new Promise((k,V)=>{f=k,_=V});const E=++this.navigationId;let A;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),A=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):A=0,this.setTransition({id:E,targetPageId:A,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(k=>Promise.reject(k))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new eg(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return PI()},providedIn:"root"}),n})();function $_(n){return"imperative"!==n}let pf=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Rn.x,this.subscription=t.events.subscribe(l=>{l instanceof Gl&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){return!!(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ar),u.Y36(Ya),u.Y36(Te))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class gf{}let W_=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Kn(t=>t instanceof Gl),le(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,u.MMx)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,f=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(f,l.children??l._loadedRoutes))}return(0,cn.D)(i).pipe((0,na.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ct(null);const l=i.pipe((0,I.z)(d=>null===d?ct(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,cn.D)([l,d]).pipe((0,na.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ar),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(gf),u.LFG(hf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yg=new u.OlP("");let vg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof v_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new v_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function _d(n,e){return{\u0275kind:n,\u0275providers:e}}function q_(n){return[{provide:mg,multi:!0,useValue:n}]}function bg(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(Ar),i=n.get(Z_);1===n.get(Zb)&&r.initialNavigation(),n.get(Jb,null,u.XFs.Optional)?.setUpPreloading(),n.get(yg,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const Z_=new u.OlP("",{factory:()=>new Rn.x}),Zb=new u.OlP("",{providedIn:"root",factory:()=>1});const Jb=new u.OlP("");function UI(n){return _d(0,[{provide:Jb,useExisting:W_},{provide:gf,useExisting:n}])}const Qb=new u.OlP("ROUTER_FORROOT_GUARD"),jI=[Fe,{provide:jh,useClass:jl},{provide:Ar,useFactory:PI},tf,{provide:Ya,useFactory:function z_(n){return n.routerState.root},deps:[Ar]},hf];function $I(){return new u.PXZ("Router",Ar)}let Xb=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[jI,[],q_(t),{provide:Qb,useFactory:WI,deps:[[Ar,new u.FiY,new u.tp0]]},{provide:df,useValue:r||{}},r?.useHash?{provide:Te,useClass:nt}:{provide:Te,useClass:tt},{provide:yg,useFactory:()=>{const n=(0,u.f3M)(Ar),e=(0,u.f3M)(kc),t=(0,u.f3M)(df);return t.scrollOffset&&e.setOffset(t.scrollOffset),new vg(n,e,t)}},r?.preloadingStrategy?UI(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:$I},r?.initialNavigation?$t(r):[],[{provide:K_,useFactory:bg},{provide:u.tb,multi:!0,useExisting:K_}]]}}static forChild(t){return{ngModule:n,providers:[q_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Qb,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[E_]}),n})();function WI(n){return"guarded"}function $t(n){return["disabled"===n.initialNavigation?_d(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Ar);return()=>{e.setUpLocationChangeListener()}}},{provide:Zb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?_d(2,[{provide:Zb,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(G,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const d=e.get(Ar),f=e.get(Z_);(function i(l){e.get(Ar).events.pipe(Kn(f=>f instanceof Gl||f instanceof eg||f instanceof yb),(0,st.U)(f=>f instanceof Gl||f instanceof eg&&(0===f.code||1===f.code)&&null),Kn(f=>null!==f),Qt(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),d.afterPreactivation=()=>(l(!0),r||f.closed?ct(void 0):f),d.initialNavigation()}))}}]).\u0275providers:[]]}const K_=new u.OlP("");class Y_{constructor(e,t,r,i,l,d,f,_){this.id=e,this.nombre=t,this.apellido=r,this.edad=i,this.sexo=l,this.pais=d,this.nombrePais=f,this.banderaPais=_}}let J_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),qu=(()=>{class n extends J_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const co=new u.OlP("NgValueAccessor"),SN={provide:co,useExisting:(0,u.Gpc)(()=>ho),multi:!0},iw=new u.OlP("CompositionEventMode");let ho=(()=>{class n extends J_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rw(){const n=M()?M().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(iw,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([SN]),u.qOj]}),n})();function oa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Dg(n){return null!=n&&"number"==typeof n.length}const bi=new u.OlP("NgValidators"),Zu=new u.OlP("NgAsyncValidators"),AN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $i{static min(e){return function sw(n){return e=>{if(oa(e.value)||oa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Q_(n){return e=>{if(oa(e.value)||oa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return YI(e)}static requiredTrue(e){return function ow(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Ku(n){return oa(n.value)||AN.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function aw(n){return e=>oa(e.value)||!Dg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function X_(n){return e=>Dg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function mf(n){if(!n)return Tg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(oa(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return ty(e)}static composeAsync(e){return ry(e)}}function YI(n){return oa(n.value)?{required:!0}:null}function Tg(n){return null}function ey(n){return null!=n}function lw(n){return(0,u.QGY)(n)?(0,cn.D)(n):n}function uw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function cw(n,e){return e.map(t=>t(n))}function dw(n){return n.map(e=>function JI(n){return!n.validate}(e)?e:t=>e.validate(t))}function ty(n){if(!n)return null;const e=n.filter(ey);return 0==e.length?null:function(t){return uw(cw(t,e))}}function ny(n){return null!=n?ty(dw(n)):null}function ry(n){if(!n)return null;const e=n.filter(ey);return 0==e.length?null:function(t){return function qI(...n){const e=(0,Ai.jO)(n),{args:t,keys:r}=Ns(n),i=new Pn.y(l=>{const{length:d}=t;if(!d)return void l.complete();const f=new Array(d);let _=d,b=d;for(let E=0;E<d;E++){let A=!1;(0,ni.Xf)(t[E]).subscribe((0,Cn.x)(l,k=>{A||(A=!0,b--),f[E]=k},()=>_--,void 0,()=>{(!_||!A)&&(b||l.next(r?Ga(r,f):f),l.complete())}))}});return e?i.pipe(Ha(e)):i}(cw(t,e).map(lw)).pipe((0,st.U)(uw))}}function Ig(n){return null!=n?ry(dw(n)):null}function Eg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function QI(n){return n._rawValidators}function Cg(n){return n._rawAsyncValidators}function iy(n){return n?Array.isArray(n)?n:[n]:[]}function sy(n,e){return Array.isArray(n)?n.includes(e):n===e}function Yu(n,e){const t=iy(e);return iy(n).forEach(i=>{sy(t,i)||t.push(i)}),t}function oy(n,e){return iy(e).filter(t=>!sy(n,t))}class ay{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ny(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ig(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Br extends ay{get formDirective(){return null}get path(){return null}}class jr extends ay{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ly{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let fo=(()=>{class n extends ly{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jr,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),_f=(()=>{class n extends ly{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Br,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const Ng="VALID",yf="INVALID",Ju="PENDING",vf="DISABLED";function bf(n){return(hy(n)?n.validators:n)||null}function tE(n){return Array.isArray(n)?ny(n):n||null}function yw(n,e){return(hy(e)?e.asyncValidators:n)||null}function nE(n){return Array.isArray(n)?Ig(n):n||null}function hy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function rE(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")}function iE(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})}class fy{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=tE(this._rawValidators),this._composedAsyncValidatorFn=nE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ng}get invalid(){return this.status===yf}get pending(){return this.status==Ju}get disabled(){return this.status===vf}get enabled(){return this.status!==vf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=tE(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=nE(e)}addValidators(e){this.setValidators(Yu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Yu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oy(e,this._rawAsyncValidators))}hasValidator(e){return sy(this._rawValidators,e)}hasAsyncValidator(e){return sy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ju,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ng,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ng||this.status===Ju)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vf:Ng}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ju,this._hasOwnPendingAsyncValidator=!0;const t=lw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?vf:this.errors?yf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ju)?Ju:this._anyControlsHaveStatus(yf)?yf:Ng}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Og extends fy{constructor(e,t,r){super(bf(t),yw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){iE(this,0,e),Object.keys(e).forEach(r=>{rE(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Xa extends Og{}function vd(n,e){gy(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function bw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ww(n,e)})}(n,e),function Dw(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function sE(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ww(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function py(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bd(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),po(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function wf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gy(n,e){const t=QI(n);null!==e.validator?n.setValidators(Eg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Cg(n);null!==e.asyncValidator?n.setAsyncValidators(Eg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();wf(e._rawValidators,i),wf(e._rawAsyncValidators,i)}function po(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=QI(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=Cg(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return wf(e._rawValidators,r),wf(e._rawAsyncValidators,r),t}function ww(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function aE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ef=class extends fy{constructor(e=null,t,r){super(bf(t),yw(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=aE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){aE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let by=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const gE={provide:co,useExisting:(0,u.Gpc)(()=>kg),multi:!0};let kg=(()=>{class n extends qu{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([gE]),u.qOj]}),n})(),wy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Ty=new u.OlP("NgModelWithFormControlWarning"),_E={provide:Br,useExisting:(0,u.Gpc)(()=>Cf)};let Cf=(()=>{class n extends Br{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(po(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return vd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){bd(t.control||null,t,!1),function Ew(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Iw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(bd(r||null,t),(n=>n instanceof Ef)(i)&&(vd(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Tw(n,e){gy(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function oE(n,e){return po(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gy(this.form,this),this._oldForm&&po(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(bi,10),u.Y36(Zu,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([_E]),u.qOj,u.TTD]}),n})();const Ey={provide:jr,useExisting:(0,u.Gpc)(()=>Vg)};let Vg=(()=>{class n extends jr{constructor(t,r,i,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function xg(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===ho?t=l:function Tf(n){return Object.getPrototypeOf(n.constructor)===qu}(l)?r=l:i=l}),i||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Dd(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Rg(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Br,13),u.Y36(bi,10),u.Y36(Zu,10),u.Y36(co,10),u.Y36(Ty,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Ey]),u.qOj,u.TTD]}),n})();const vE={provide:co,useExisting:(0,u.Gpc)(()=>Af),multi:!0};function Sf(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Af=(()=>{class n extends qu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Sf(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Cy(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([vE]),u.qOj]}),n})(),Nf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Sf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Af,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Mw={provide:co,useExisting:(0,u.Gpc)(()=>Pw),multi:!0};function bE(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Pw=(()=>{class n extends qu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(l=>this._getOptionId(l));r=(l,d)=>{l._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,l)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],l=r.selectedOptions;if(void 0!==l){const d=l;for(let f=0;f<d.length;f++){const b=this._getOptionValue(d[f].value);i.push(b)}}else{const d=r.options;for(let f=0;f<d.length;f++){const _=d[f];if(_.selected){const b=this._getOptionValue(_.value);i.push(b)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function LN(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Mw]),u.qOj]}),n})(),Ug=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(bE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(bE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Pw,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),ql=(()=>{class n{constructor(){this._validator=Tg}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Tg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const Rf={provide:bi,useExisting:(0,u.Gpc)(()=>Qu),multi:!0};let Qu=(()=>{class n extends ql{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=t=>YI}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([Rf]),u.qOj]}),n})(),Ry=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[wy]}),n})(),jg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ry]}),n})(),Uw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ty,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ry]}),n})();class $g extends fy{constructor(e,t,r){super(bf(t),yw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){iE(this,0,e),e.forEach((r,i)=>{rE(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Bw(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let jw=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let l={};return Bw(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new Og(i,l)}record(t,r=null){const i=this._reduceControls(t);return new Xa(i,r)}control(t,r,i){let l={};return this.useNonNullable?(Bw(r)?l=r:(l.validators=r,l.asyncValidators=i),new Ef(t,{...l,nonNullable:!0})):new Ef(t,r,i)}array(t,r,i){const l=t.map(d=>this._createControl(d));return new $g(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Ef||t instanceof fy?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:Uw}),n})();var el=P(4986),rr=P(4387);function Xu(){return(0,vn.e)((n,e)=>{let t,r=!1;n.subscribe((0,Cn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function TE(n,e){return n===e}var pt,fs=P(2011),ua=(P(3151),P(3942)),Ie=P(5861),Jn=P(9681),ca=P(4859),go=P(1877),Gt=P(2090),xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hi={},Zl=Zl||{},Rt=xy||self;function tl(){}function nl(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function da(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Kl="closure_uid_"+(1e9*Math.random()>>>0),$w=0;function Hw(n,e,t){return n.call.apply(n.bind,arguments)}function Gw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ii(n,e,t){return(ii=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hw:Gw).apply(null,arguments)}function xf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function $r(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function rl(){this.s=this.s,this.o=this.o}var zw={};rl.prototype.s=!1,rl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Id(n){return Object.prototype.hasOwnProperty.call(n,Kl)&&n[Kl]||(n[Kl]=++$w)}(this);delete zw[n]}},rl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Py(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ky(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(nl(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let d=0;d<l;d++)n[i+d]=r[d]}else n.push(r)}}function wi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}wi.prototype.h=function(){this.defaultPrevented=!0};var Zw=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",tl,e),Rt.removeEventListener("test",tl,e)}catch{}return n}();function Ed(n){return/^[\s\xa0]*$/.test(n)}var Gg=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fy(n,e){return n<e?-1:n>e?1:0}function ec(){var n=Rt.navigator;return n&&(n=n.userAgent)?n:""}function ps(n){return-1!=ec().indexOf(n)}function Pf(n){return Pf[" "](n),n}Pf[" "]=tl;var Cd,n,Ly=ps("Opera"),Yl=ps("Trident")||ps("MSIE"),Vy=ps("Edge"),Wg=Vy||Yl,zg=ps("Gecko")&&!(-1!=ec().toLowerCase().indexOf("webkit")&&!ps("Edge"))&&!(ps("Trident")||ps("MSIE"))&&!ps("Edge"),Kw=-1!=ec().toLowerCase().indexOf("webkit")&&!ps("Edge");function Uy(){var n=Rt.document;return n?n.documentMode:void 0}e:{var qg="",By=(n=ec(),zg?/rv:([^\);]+)(\)|;)/.exec(n):Vy?/Edge\/([\d\.]+)/.exec(n):Yl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Kw?/WebKit\/(\S+)/.exec(n):Ly?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(By&&(qg=By?By[1]:""),Yl){var Zg=Uy();if(null!=Zg&&Zg>parseFloat(qg)){Cd=String(Zg);break e}}Cd=qg}var Yw={};var Xw=Rt.document&&Yl&&(Uy()||parseInt(Cd,10))||void 0;function Sd(n,e){if(wi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zg){e:{try{Pf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jy[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sd.X.h.call(this)}}$r(Sd,wi);var jy={2:"touch",3:"pen",4:"mouse"};Sd.prototype.h=function(){Sd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jl="closure_listenable_"+(1e6*Math.random()|0),eD=0;function tD(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++eD,this.ba=this.ea=!1}function kf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Yg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function $y(n){const e={};for(const t in n)e[t]=n[t];return e}const Hy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gy(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<Hy.length;l++)t=Hy[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ff(n){this.src=n,this.g={},this.h=0}function nD(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=qw(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(kf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Wy(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}Ff.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Wy(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new tD(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var zy="closure_lm_"+(1e6*Math.random()|0),Jg={};function rD(n,e,t,r,i){if(r&&r.once)return sD(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)rD(n,e[l],t,r,i);return null}return t=qy(t),n&&n[Jl]?n.N(e,t,da(r)?!!r.capture:!!r,i):Nr(n,e,t,!1,r,i)}function Nr(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=da(i)?!!i.capture:!!i,f=Xg(n);if(f||(n[zy]=f=new Ff(n)),(t=f.add(e,t,r,d,l)).proxy)return t;if(r=function iD(){const e=lD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Zw||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(aD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sD(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)sD(n,e[l],t,r,i);return null}return t=qy(t),n&&n[Jl]?n.O(e,t,da(r)?!!r.capture:!!r,i):Nr(n,e,t,!0,r,i)}function oD(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)oD(n,e[l],t,r,i);else r=da(r)?!!r.capture:!!r,t=qy(t),n&&n[Jl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Wy(l=n.g[e],t,r,i))&&(kf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Xg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Wy(e,t,r,i)),(t=-1<n?e[n]:null)&&Qg(t))}function Qg(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Jl])nD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(aD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Xg(e))?(nD(t,n),0==t.h&&(t.src=null,e[zy]=null)):kf(n)}}}function aD(n){return n in Jg?Jg[n]:Jg[n]="on"+n}function lD(n,e){if(n.ba)n=!0;else{e=new Sd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Qg(n),n=t.call(r,e)}return n}function Xg(n){return(n=n[zy])instanceof Ff?n:null}var Ql="__closure_events_fn_"+(1e9*Math.random()>>>0);function qy(n){return"function"==typeof n?n:(n[Ql]||(n[Ql]=function(e){return n.handleEvent(e)}),n[Ql])}function Hr(){rl.call(this),this.i=new Ff(this),this.P=this,this.I=null}function Gr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new wi(e,n);else if(e instanceof wi)e.target=e.target||n;else{var i=e;Gy(e=new wi(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=em(d,r,!0,e)&&i}if(i=em(d=e.g=n,r,!0,e)&&i,i=em(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=em(d=e.g=t[l],r,!1,e)&&i}function em(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ba&&d.capture==t){var f=d.listener,_=d.ha||d.src;d.ea&&nD(n.i,d),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}$r(Hr,rl),Hr.prototype[Jl]=!0,Hr.prototype.removeEventListener=function(n,e,t,r){oD(this,n,e,t,r)},Hr.prototype.M=function(){if(Hr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)kf(t[r]);delete n.g[e],n.h--}}this.I=null},Hr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Hr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var tm=Rt.JSON.stringify;function ZN(){var n=Yy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Fs,nm=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ha,n=>n.reset());class ha{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function EE(n){Rt.setTimeout(()=>{throw n},0)}function Ky(n,e){Fs||function mo(){var n=Rt.Promise.resolve(void 0);Fs=function(){n.then(uD)}}(),gs||(Fs(),gs=!0),Yy.add(n,e)}var gs=!1,Yy=new class Zy{constructor(){this.h=this.g=null}add(e,t){const r=nm.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function uD(){for(var n;n=ZN();){try{n.h.call(n.g)}catch(t){EE(t)}var e=nm;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gs=!1}function rm(n,e){Hr.call(this),this.h=n||1,this.g=e||Rt,this.j=ii(this.kb,this),this.l=Date.now()}function Jy(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Qy(n,e,t){if("function"==typeof n)t&&(n=ii(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ii(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function cD(n){n.g=Qy(()=>{n.g=null,n.i&&(n.i=!1,cD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$r(rm,Hr),(pt=rm.prototype).ca=!1,pt.R=null,pt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Gr(this,"tick"),this.ca&&(Jy(this),this.start()))}},pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){rm.X.M.call(this),Jy(this),delete this.g};class Xy extends rl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cD(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function il(n){rl.call(this),this.h=n,this.g={}}$r(il,rl);var dD=[];function ev(n,e,t,r){Array.isArray(t)||(t&&(dD[0]=t.toString()),t=dD);for(var i=0;i<t.length;i++){var l=rD(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function hD(n){Yg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Qg(e)},n),n.g={}}function Lf(){this.g=!0}function Ad(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return tm(t)}catch{return e}}(n,t)+(r?" "+r:"")})}il.prototype.M=function(){il.X.M.call(this),hD(this)},il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lf.prototype.Aa=function(){this.g=!1},Lf.prototype.info=function(){};var sl={},Vf=null;function Nd(){return Vf=Vf||new Hr}function tv(n){wi.call(this,sl.Oa,n)}function Od(n){const e=Nd();Gr(e,new tv(e,n))}function nv(n,e){wi.call(this,sl.STAT_EVENT,n),this.stat=e}function Di(n){const e=Nd();Gr(e,new nv(e,n))}function rv(n,e){wi.call(this,sl.Pa,n),this.size=e}function Rd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}sl.Oa="serverreachability",$r(tv,wi),sl.STAT_EVENT="statevent",$r(nv,wi),sl.Pa="timingevent",$r(rv,wi);var Uf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},mD={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function iv(){}function yD(){}iv.prototype.h=null;var av,Bf={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function sv(){wi.call(this,"d")}function ov(){wi.call(this,"c")}function sm(){}function jf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new il(this),this.O=CE,this.T=new rm(n=Wg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new vD}function vD(){this.i=null,this.g="",this.h=!1}$r(sv,wi),$r(ov,wi),$r(sm,iv),sm.prototype.g=function(){return new XMLHttpRequest},sm.prototype.i=function(){return{}},av=new sm;var CE=45e3,lv={},om={};function uv(n,e,t){n.K=1,n.v=Hf(ol(e)),n.s=t,n.P=!0,bD(n,null)}function bD(n,e){n.F=Date.now(),Md(n),n.A=ol(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),fv(t.i,"t",r),n.C=0,t=n.l.H,n.h=new vD,n.g=$D(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Xy(ii(n.Ka,n,n.g),n.N)),ev(n.S,n.g,"readystatechange",n.hb),e=n.H?$y(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Od(1),function fD(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",f=l.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var E=b[0];b=b[1];var A=E.split("_");d=2<=A.length&&"type"==A[1]?d+(E+"=")+b+"&":d+(E+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function wD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function DD(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=TD(n,t),i==om){4==e&&(n.o=4,Di(14),r=!1),Ad(n.j,n.m,null,"[Incomplete Response]");break}if(i==lv){n.o=4,Di(15),Ad(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ad(n.j,n.m,i,null),am(n,i)}wD(n)&&i!=om&&i!=lv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Di(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Iv(e),e.K=!0,Di(11))):(Ad(n.j,n.m,t,"[Invalid Chunked Response]"),Xl(n),xd(n))}function TD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?om:(t=Number(e.substring(t,r)),isNaN(t)?lv:(r+=1)+t>e.length?om:(e=e.substr(r,t),n.C=r+t,e))}function Md(n){n.V=Date.now()+n.O,cv(n,n.O)}function cv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rd(ii(n.fb,n),e)}function $f(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function xd(n){0==n.l.G||n.I||Cv(n.l,n)}function Xl(n){$f(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Jy(n.T),hD(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function am(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||mv(t.h,n)))if(!n.J&&mv(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;gm(t),fm(t)}nu(t),Di(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Rd(ii(t.bb,t),6e3));if(1>=ND(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ru(t,11)}else if((n.J||t.g==n)&&gm(t),!Ed(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const E=b[3];null!=E&&(t.ma=E,t.j.info("VER="+t.ma));const A=b[4];null!=A&&(t.Ca=A,t.j.info("SVER="+t.Ca));const k=b[5];null!=k&&"number"==typeof k&&0<k&&(t.J=r=1.5*k,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const Y=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var l=r.h;l.g||-1==Y.indexOf("spdy")&&-1==Y.indexOf("quic")&&-1==Y.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(_v(l,l.h),l.h=null))}if(r.D){const ae=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(r.za=ae,ir(r.F,r.D,ae))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=mm(r,r.H?r.ka:null,r.V),d.J){Fd(r.h,d);var f=d,_=r.J;_&&f.setTimeout(_),f.B&&($f(f),Md(f)),r.g=d}else UD(r);0<t.i.length&&pm(t)}else"stop"!=b[0]&&"close"!=b[0]||ru(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?ru(t,7):sc(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}Od(4)}catch{}}function lm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(nl(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ED(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(nl(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ID(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(nl(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(pt=jf.prototype).setTimeout=function(n){this.O=n},pt.hb=function(n){n=n.target;const e=this.L;e&&3==tu(n)?e.l():this.Ka(n)},pt.Ka=function(n){try{if(n==this.g)e:{const E=tu(this.g);var e=this.g.Ea();const A=this.g.aa();if(!(3>E)&&(3!=E||Wg||this.g&&(this.h.h||this.g.fa()||wv(this.g)))){this.I||4!=E||7==e||Od(8==e||0>=A?3:2),$f(this);var t=this.g.aa();this.Y=t;t:if(wD(this)){var r=wv(this.g);n="";var i=r.length,l=4==tu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xl(this),xd(this);var d="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function im(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,E,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ed(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Di(12),Xl(this),xd(this);break e}Ad(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,am(this,t)}this.P?(DD(this,E,d),Wg&&this.i&&3==E&&(ev(this.S,this.T,"tick",this.gb),this.T.start())):(Ad(this.j,this.m,d,null),am(this,d)),4==E&&Xl(this),this.i&&!this.I&&(4==E?Cv(this.l,this):(this.i=!1,Md(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Di(12)):(this.o=0,Di(13)),Xl(this),xd(this)}}}catch{}},pt.gb=function(){if(this.g){var n=tu(this.g),e=this.g.fa();this.C<e.length&&($f(this),DD(this,n,e),this.i&&4!=n&&Md(this))}},pt.cancel=function(){this.I=!0,Xl(this)},pt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function pD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Od(3),Di(17)),Xl(this),this.o=2,xd(this)):cv(this,this.V-n)};var dv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof nc){this.h=void 0!==e?e:n.h,al(this,n.j),this.s=n.s,this.g=n.g,hv(this,n.m),this.l=n.l,e=n.i;var t=new eu;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),um(this,t),this.o=n.o}else n&&(t=String(n).match(dv))?(this.h=!!e,al(this,t[1]||"",!0),this.s=Pd(t[2]||""),this.g=Pd(t[3]||"",!0),hv(this,t[4]),this.l=Pd(t[5]||"",!0),um(this,t[6]||"",!0),this.o=Pd(t[7]||"")):(this.h=!!e,this.i=new eu(null,this.h))}function ol(n){return new nc(n)}function al(n,e,t){n.j=t?Pd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function hv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function um(n,e,t){e instanceof eu?(n.i=e,function RE(n,e){e&&!n.j&&(_o(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(sr(this,r),fv(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=cm(e,kd)),n.i=new eu(e,n.h))}function ir(n,e,t){n.i.set(e,t)}function Hf(n){return ir(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function cm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,St),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function St(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(cm(e,CD,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(cm(e,CD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(cm(t,"/"==t.charAt(0)?AE:SE,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",cm(t,NE)),n.join("")};var CD=/[#\/\?@]/g,SE=/[#\?:]/g,AE=/[#\?]/g,kd=/[#\?@]/g,NE=/#/g;function eu(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function _o(n){n.g||(n.g=new Map,n.h=0,n.i&&function tc(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sr(n,e){_o(n),e=rc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function OE(n,e){return _o(n),e=rc(n,e),n.g.has(e)}function fv(n,e,t){sr(n,e),0<t.length&&(n.i=null,n.g.set(rc(n,e),Py(t)),n.h+=t.length)}function rc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function pv(n){this.l=n||AD,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ga&&Rt.g.Ga()&&Rt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=eu.prototype).add=function(n,e){_o(this),this.i=null,n=rc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){_o(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},pt.oa=function(){_o(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},pt.W=function(n){_o(this);let e=[];if("string"==typeof n)OE(this,n)&&(e=e.concat(this.g.get(rc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return _o(this),this.i=null,OE(this,n=rc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=l;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var AD=10;function gv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ND(n){return n.h?1:n.g?n.g.size:0}function mv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function _v(n,e){n.g?n.g.add(e):n.h=e}function Fd(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function OD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Py(n.i)}function yv(){}function ME(){this.g=new yv}function dm(n,e,t){const r=t||"";try{lm(n,function(i,l){let d=i;da(i)&&(d=tm(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ld(n){this.l=n.$b||null,this.j=n.ib||!1}function hm(n,e){Hr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ic,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pv.prototype.cancel=function(){if(this.i=OD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},yv.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},yv.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},$r(Ld,iv),Ld.prototype.g=function(){return new hm(this.l,this.j)},Ld.prototype.i=function(n){return function(){return n}}({}),$r(hm,Hr);var ic=0;function Vd(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Wf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zf(n)}function zf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=hm.prototype).open=function(n,e){if(this.readyState!=ic)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zf(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wf(this)),this.readyState=ic},pt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zf(this)),this.g&&(this.readyState=3,zf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vd(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},pt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Wf(this):zf(this),3==this.readyState&&Vd(this)}},pt.Ua=function(n){this.g&&(this.response=this.responseText=n,Wf(this))},pt.Ta=function(n){this.g&&(this.response=n,Wf(this))},pt.ga=function(){this.g&&Wf(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xE=Rt.JSON.parse;function yr(n){Hr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vv,this.K=this.L=!1}$r(yr,Hr);var vv="",MD=/^https?$/i,PE=["POST","PUT"];function PD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,kD(n),bv(n)}function kD(n){n.D||(n.D=!0,Gr(n,"complete"),Gr(n,"error"))}function kE(n){if(n.h&&typeof Zl<"u"&&(!n.C[1]||4!=tu(n)||2!=n.aa()))if(n.v&&4==tu(n))Qy(n.Ha,0,n);else if(Gr(n,"readystatechange"),4==tu(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(dv)[1]||null;if(!i&&Rt.self&&Rt.self.location){var l=Rt.self.location.protocol;i=l.substr(0,l.length-1)}r=!MD.test(i?i.toLowerCase():"")}t=r}if(t)Gr(n,"complete"),Gr(n,"success");else{n.m=6;try{var d=2<tu(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",kD(n)}}finally{bv(n)}}}function bv(n,e){if(n.g){FE(n);const t=n.g,r=n.C[0]?tl:null;n.g=null,n.C=null,e||Gr(n,"ready");try{t.onreadystatechange=r}catch{}}}function FE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function tu(n){return n.g?n.g.readyState:0}function wv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case vv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function qf(n){let e="";return Yg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Dv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=qf(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ir(n,e,t))}function Zf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Tv(n){this.Ca=0,this.i=[],this.j=new Lf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Zf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Zf("baseRetryDelayMs",5e3,n),this.ab=Zf("retryDelaySeedMs",1e4,n),this.Za=Zf("forwardChannelMaxRetries",2,n),this.ta=Zf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new pv(n&&n.concurrentRequestLimit),this.Fa=new ME,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function sc(n){if(FD(n),3==n.G){var e=n.U++,t=ol(n.F);ir(t,"SID",n.I),ir(t,"RID",e),ir(t,"TYPE","terminate"),Ud(n,t),(e=new jf(n,n.j,e,void 0)).K=2,e.v=Hf(ol(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=$D(e.l,null),e.g.da(e.v)),e.F=Date.now(),Md(e)}jD(n)}function fm(n){n.g&&(Iv(n),n.g.cancel(),n.g=null)}function FD(n){fm(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),gm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function pm(n){gv(n.h)||n.m||(n.m=!0,Ky(n.Ja,n),n.C=0)}function LD(n,e){var t;t=e?e.m:n.U++;const r=ol(n.F);ir(r,"SID",n.I),ir(r,"RID",t),ir(r,"AID",n.T),Ud(n,r),n.o&&n.s&&Dv(r,n.o,n.s),t=new jf(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=VD(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),_v(n.h,t),uv(t,r,e)}function Ud(n,e){n.ia&&Yg(n.ia,function(t,r){ir(e,r,t)}),n.l&&lm({},function(t,r){ir(e,r,t)})}function VD(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ii(n.l.Qa,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let b=i[_].h;const E=i[_].g;if(b-=l,0>b)l=Math.max(0,i[_].h-100),f=!1;else try{dm(E,d,"req"+b+"_")}catch{r&&r(E)}}if(f){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function UD(n){n.g||n.u||(n.Z=1,Ky(n.Ia,n),n.A=0)}function nu(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Rd(ii(n.Ia,n),BD(n,n.A)),n.A++,0))}function Iv(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function Ev(n){n.g=new jf(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ol(n.sa);ir(e,"RID","rpc"),ir(e,"SID",n.I),ir(e,"CI",n.L?"0":"1"),ir(e,"AID",n.T),ir(e,"TYPE","xmlhttp"),Ud(n,e),n.o&&n.s&&Dv(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Hf(ol(e)),t.s=null,t.P=!0,bD(t,n)}function gm(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function Cv(n,e){var t=null;if(n.g==e){gm(n),Iv(n),n.g=null;var r=2}else{if(!mv(n.h,e))return;t=e.D,Fd(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Gr(r=Nd(),new rv(r,t,e,i)),pm(n)}else UD(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function LE(n,e){return!(ND(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Rd(ii(n.Ja,n,e),BD(n,n.C)),n.C++,0)))}(n,e)||2==r&&nu(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:ru(n,5);break;case 4:ru(n,10);break;case 3:ru(n,6);break;default:ru(n,2)}}function BD(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function ru(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ii(n.jb,n);t||(t=new nc("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||al(t,"https"),Hf(t)),function RD(n,e){const t=new Lf;if(Rt.Image){const r=new Image;r.onload=xf(Gf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=xf(Gf,t,r,"TestLoadImage: error",!1,e),r.onabort=xf(Gf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=xf(Gf,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Di(2);n.G=0,n.l&&n.l.va(e),jD(n),FD(n)}function jD(n){if(n.G=0,n.la=[],n.l){const e=OD(n.h);(0!=e.length||0!=n.i.length)&&(ky(n.la,e),ky(n.la,n.i),n.h.i.length=0,Py(n.i),n.i.length=0),n.l.ua()}}function mm(n,e,t){var r=t instanceof nc?ol(t):new nc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),hv(r,r.m);else{var i=Rt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new nc(null,void 0);r&&al(l,r),e&&(l.g=e),i&&hv(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&ir(r,t,e),ir(r,"VER",n.ma),Ud(n,r),r}function $D(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yr(t&&n.Da&&!n.ra?new Ld({ib:!0}):n.ra)).L=n.H,e}function Sv(){}function Kf(){if(Yl&&!(10<=Number(Xw)))throw Error("Environmental error: no available transport.")}function ms(n,e){Hr.call(this),this.g=new Tv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!Ed(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ed(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new iu(this)}function HD(n){sv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function GD(){ov.call(this),this.status=1}function iu(n){this.g=n}(pt=yr.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():av.g(),this.C=function _D(n){return n.h||(n.h=n.i())}(this.u?this.u:av),this.g.onreadystatechange=ii(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void PD(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=Rt.FormData&&n instanceof Rt.FormData,!(0<=qw(PE,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{FE(this),0<this.B&&((this.K=function xD(n){return Yl&&function Jw(){return function IE(n){var e=Yw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Gg(String(Cd)).split("."),t=Gg("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Fy(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Fy(0==i[2].length,0==l[2].length)||Fy(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ii(this.qa,this)):this.A=Qy(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){PD(this,l)}},pt.qa=function(){typeof Zl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gr(this,"complete"),Gr(this,"abort"),bv(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bv(this,!0)),yr.X.M.call(this)},pt.Ha=function(){this.s||(this.F||this.v||this.l?kE(this):this.eb())},pt.eb=function(){kE(this)},pt.aa=function(){try{return 2<tu(this)?this.g.status:-1}catch{return-1}},pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),xE(e)}},pt.Ea=function(){return this.m},pt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=Tv.prototype).ma=8,pt.G=1,pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new jf(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=$y(l),Gy(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=VD(this,i,e),ir(t=ol(this.F),"RID",n),ir(t,"CVER",22),this.D&&ir(t,"X-HTTP-Session-Id",this.D),Ud(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(qf(l)))+"&"+e:this.o&&Dv(t,this.o,l)),_v(this.h,i),this.Xa&&ir(t,"TYPE","init"),this.O?(ir(t,"$req",e),ir(t,"SID","null"),i.Z=!0,uv(i,t,null)):uv(i,t,e),this.G=2}}else 3==this.G&&(n?LD(this,n):0==this.i.length||gv(this.h)||LD(this))},pt.Ia=function(){if(this.u=null,Ev(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Rd(ii(this.cb,this),n)}},pt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Di(10),fm(this),Ev(this))},pt.bb=function(){null!=this.v&&(this.v=null,fm(this),nu(this),Di(19))},pt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Di(2)):(this.j.info("Failed to ping google.com"),Di(1))},(pt=Sv.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Qa=function(){},Kf.prototype.g=function(n,e){return new ms(n,e)},$r(ms,Hr),ms.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Di(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=mm(n,null,n.V),pm(n)},ms.prototype.close=function(){sc(this.g)},ms.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=tm(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&pm(e)},ms.prototype.M=function(){this.g.l=null,delete this.j,sc(this.g),delete this.g,ms.X.M.call(this)},$r(HD,sv),$r(GD,ov),$r(iu,Sv),iu.prototype.xa=function(){Gr(this.g,"a")},iu.prototype.wa=function(n){Gr(this.g,new HD(n))},iu.prototype.va=function(n){Gr(this.g,new GD(n))},iu.prototype.ua=function(){Gr(this.g,"b")},Kf.prototype.createWebChannel=Kf.prototype.g,ms.prototype.send=ms.prototype.u,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,Uf.NO_ERROR=0,Uf.TIMEOUT=8,Uf.HTTP_ERROR=6,mD.COMPLETE="complete",yD.EventType=Bf,Bf.OPEN="a",Bf.CLOSE="b",Bf.ERROR="c",Bf.MESSAGE="d",Hr.prototype.listen=Hr.prototype.N,yr.prototype.listenOnce=yr.prototype.O,yr.prototype.getLastError=yr.prototype.Na,yr.prototype.getLastErrorCode=yr.prototype.Ea,yr.prototype.getStatus=yr.prototype.aa,yr.prototype.getResponseJson=yr.prototype.Ra,yr.prototype.getResponseText=yr.prototype.fa,yr.prototype.send=yr.prototype.da;var VE=Hi.createWebChannelTransport=function(){return new Kf},WD=Hi.getStatEventTarget=function(){return Nd()},Av=Hi.ErrorCode=Uf,UE=Hi.EventType=mD,BE=Hi.Event=sl,zD=Hi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jE=Hi.FetchXmlHttpFactory=Ld,_m=Hi.WebChannel=yD,$E=Hi.XhrIo=yr;const qD="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let oc="9.10.0";const ll=new go.Yd("@firebase/firestore");function Nv(){return ll.logLevel}function je(n,...e){if(ll.logLevel<=go.in.DEBUG){const t=e.map(Yf);ll.debug(`Firestore (${oc}): ${n}`,...t)}}function vr(n,...e){if(ll.logLevel<=go.in.ERROR){const t=e.map(Yf);ll.error(`Firestore (${oc}): ${n}`,...t)}}function ac(n,...e){if(ll.logLevel<=go.in.WARN){const t=e.map(Yf);ll.warn(`Firestore (${oc}): ${n}`,...t)}}function Yf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: `+n;throw vr(e),new Error(e)}function xt(n,e){n||ft()}function rt(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Gt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kr.UNAUTHENTICATED))}shutdown(){}}class ZD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HE{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let d=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Wr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const b=d;e.enqueueRetryable((0,Ie.Z)(function*(){yield b.promise,yield l(r.currentUser)}))},_=b=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Wr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new Mv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new kr(e)}}class KN{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(xt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class KD{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new KN(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ym{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GE{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,je("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.A=t.token,new ym(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function WE(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class xv{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=WE(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Vt(n,e){return n<e?-1:n>e?1:0}function lc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Pv(n){return n+"\0"}class Wn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Wn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new Wn(0,0))}static max(){return new Ot(new Wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jf{constructor(e,t,r){void 0===t?t=0:t>e.length&&ft(),void 0===r?r=e.length-t:r>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Jf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends Jf{construct(e,t,r){return new un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new un(t)}static emptyPath(){return new un([])}}const zE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Jf{construct(e,t,r){return new ar(e,t,r)}static isValidIdentifier(e){return zE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Le(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Le(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Le(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(l(),i++)}if(l(),d)throw new Le(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(un.fromString(e))}static fromName(e){return new Xe(un.fromString(e).popFirst(5))}static empty(){return new Xe(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new un(e.slice()))}}class kv{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function vm(n){return n.fields.find(e=>2===e.kind)}function uc(n){return n.fields.filter(e=>2!==e.kind)}kv.UNKNOWN_ID=-1;class Fv{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qf(0,Gi.min())}}function JD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(1e9===r?new Wn(t+1,0):new Wn(t,r));return new Gi(i,Xe.empty(),e)}function QD(n){return new Gi(n.readTime,n.key,-1)}class Gi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Gi(Ot.min(),Xe.empty(),-1)}static max(){return new Gi(Ot.max(),Xe.empty(),-1)}}function bm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:Vt(n.largestBatchId,e.largestBatchId))}const Lv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function su(n){return Vv.apply(this,arguments)}function Vv(){return Vv=(0,Ie.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==Lv)throw n;je("LocalStore","Unexpectedly lost primary lease")}),Vv.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let i=0,l=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++l,d&&l===i&&t()},_=>r(_))}),d=!0,l===i&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(i=>i?de.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new de((r,i)=>{const l=e.length,d=new Array(l);let f=0;for(let _=0;_<l;_++){const b=_;t(e[b]).next(E=>{d[b]=E,++f,f===l&&r(d)},E=>i(E))}})}static doWhile(e,t){return new de((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class wm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Wr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new jd(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Bv(r.target.error);this.P.reject(new jd(e,i))}}static open(e,t,r,i){try{return new wm(t,e.transaction(i,r))}catch(l){throw new jd(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new eT(t)}}class yo{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===yo.D((0,Gt.z$)())&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),ou(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Gt.hl)())return!1;if(yo.N())return!0;const e=(0,Gt.z$)(),t=yo.D(e),r=0<t&&t<10,i=yo.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Ie.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new jd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Le(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Le(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new jd(e,f))},l.onupgradeneeded=d=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ie.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.F(e);const _=wm.open(l.db,e,d?"readonly":"readwrite",r),b=i(_).next(E=>(_.V(),E)).catch(E=>(_.abort(E),de.reject(E))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,E="FirebaseError"!==b.name&&f<3;if(je("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),l.close(),!E)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Xf{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return ou(this.U.delete())}}class jd extends Le{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ul(n){return"IndexedDbTransactionError"===n.name}class eT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ou(r)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),ou(this.store.add(e))}get(e){return ou(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),ou(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),ou(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(d,f)=>{l.push(f)}).next(()=>l)}{const i=this.store.getAll(r.range);return new de((l,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{l(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){je("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,d,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new de((r,i)=>{t.onerror=l=>{const d=Bv(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}H(e,t){const r=[];return new de((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const _=new Xf(f),b=t(f.primaryKey,f.value,_);if(b instanceof de){const E=b.catch(A=>(_.done(),de.reject(A)));r.push(E)}_.isDone?i():null===_.G?f.continue():f.continue(_.G)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ou(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Bv(r.target.error);t(i)}})}let Uv=!1;function Bv(n){const e=yo.D((0,Gt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Uv||(Uv=!0,setTimeout(()=>{throw r},0)),r}}return n}class ZE{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ie.Z)(function*(){t.task=null;try{je("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){ul(r)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield su(r)}yield t.nt(6e4)}))}}class JN{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ie.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return de.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return je("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(f=>{i-=f,r.add(d)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,l)).next(f=>(je("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const d=QD(l);bm(d,r)>0&&(r=d)}),new Gi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Wi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function tT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Wi.at=-1;class lr{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new au(this.root,e,this.comparator,!1)}getReverseIterator(){return new au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new au(this.root,e,this.comparator,!0)}}class au{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??si.RED,this.left=i??si.EMPTY,this.right=l??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new si(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,r,i){return this}insert(n,e,t){return new si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vo(this.data.getIterator())}getIteratorFrom(e){return new vo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class vo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $d(n){return n.hasNext()?n.getNext():void 0}class Oi{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new Oi([])}unionWith(e){let t=new bn(ar.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Oi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Fr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const KE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(n){if(xt(!!n),"string"==typeof n){let e=0;const t=KE.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zn(n.seconds),nanos:zn(n.nanos)}}function zn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function fa(n){return"string"==typeof n?Fr.fromBase64String(n):Fr.fromUint8Array(n)}function jv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rT(n){const e=n.mapValue.fields.__previous_value__;return jv(e)?rT(e):e}function Hd(n){const e=lu(n.mapValue.fields.__local_write_time__.timestampValue);return new Wn(e.seconds,e.nanos)}class iT{constructor(e,t,r,i,l,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class pa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pa&&e.projectId===this.projectId&&e.database===this.database}}function Gd(n){return null==n}function tp(n){return 0===n&&1/n==-1/0}function sT(n){return"number"==typeof n&&Number.isInteger(n)&&!tp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wd={nullValue:"NULL_VALUE"};function cl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jv(n)?4:aT(n)?9007199254740991:10:ft()}function bo(n,e){if(n===e)return!0;const t=cl(n);if(t!==cl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hd(n).isEqual(Hd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=lu(r.timestampValue),d=lu(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,fa(n.bytesValue).isEqual(fa(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return zn(r.geoPointValue.latitude)===zn(i.geoPointValue.latitude)&&zn(r.geoPointValue.longitude)===zn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return zn(r.integerValue)===zn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=zn(r.doubleValue),d=zn(i.doubleValue);return l===d?tp(l)===tp(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return lc(n.arrayValue.values||[],e.arrayValue.values||[],bo);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(tT(l)!==tT(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===d[f]||!bo(l[f],d[f])))return!1;return!0}(n,e);default:return ft()}var i}function hc(n,e){return void 0!==(n.values||[]).find(t=>bo(t,e))}function ga(n,e){if(n===e)return 0;const t=cl(n),r=cl(e);if(t!==r)return Vt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=zn(i.integerValue||i.doubleValue),f=zn(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return oT(n.timestampValue,e.timestampValue);case 4:return oT(Hd(n),Hd(e));case 5:return Vt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=fa(i),f=fa(l);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),f=l.split("/");for(let _=0;_<d.length&&_<f.length;_++){const b=Vt(d[_],f[_]);if(0!==b)return b}return Vt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=Vt(zn(i.latitude),zn(l.latitude));return 0!==d?d:Vt(zn(i.longitude),zn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],f=l.values||[];for(let _=0;_<d.length&&_<f.length;++_){const b=ga(d[_],f[_]);if(b)return b}return Vt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===dc.mapValue&&l===dc.mapValue)return 0;if(i===dc.mapValue)return 1;if(l===dc.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),_=l.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let E=0;E<f.length&&E<b.length;++E){const A=Vt(f[E],b[E]);if(0!==A)return A;const k=ga(d[f[E]],_[b[E]]);if(0!==k)return k}return Vt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw ft()}}function oT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vt(n,e);const t=lu(n),r=lu(e),i=Vt(t.seconds,r.seconds);return 0!==i?i:Vt(t.nanos,r.nanos)}function zd(n){return $v(n)}function $v(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=lu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?fa(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=$v(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const f of i)d?d=!1:l+=",",l+=`${f}:${$v(r.fields[f])}`;return l+"}"}(n.mapValue):ft();var e}function fc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Dm(n){return!!n&&"integerValue"in n}function pc(n){return!!n&&"arrayValue"in n}function Hv(n){return!!n&&"nullValue"in n}function Gv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function np(n){return!!n&&"mapValue"in n}function qd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function lT(n){return"nullValue"in n?Wd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fc(pa.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function uT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fc(pa.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?dc:ft()}function cT(n,e){const t=ga(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Wv(n,e){const t=ga(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!np(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qd(t)}setAll(e){let t=ar.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=qd(d):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());np(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];np(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cc(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new zr(qd(this.value))}}function Ti(n){const e=[];return cc(n.fields,(t,r)=>{const i=new ar([t]);if(np(r)){const l=Ti(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new Oi(e)}class _n{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new _n(e,0,Ot.min(),Ot.min(),zr.empty(),0)}static newFoundDocument(e,t,r){return new _n(e,1,t,Ot.min(),r,0)}static newNoDocument(e,t){return new _n(e,2,t,Ot.min(),zr.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Ot.min(),zr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class YE{constructor(e,t=null,r=[],i=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=f,this.ht=null}}function dT(n,e=null,t=[],r=[],i=null,l=null,d=null){return new YE(n,e,t,r,i,l,d)}function Zd(n){const e=rt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+zd(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zd(r)).join(",")),e.ht=t}return e.ht}function Kd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!_T(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!bo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qv(n.startAt,e.startAt)&&qv(n.endAt,e.endAt)}function rp(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function uu(n,e){return n.filters.filter(t=>t instanceof oi&&t.field.isEqual(e))}function hT(n,e,t){let r=Wd,i=!0;for(const l of uu(n,e)){let d=Wd,f=!0;switch(l.op){case"<":case"<=":d=lT(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,f=!1;break;case"!=":case"not-in":d=Wd}cT({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];cT({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function Tm(n,e,t){let r=dc,i=!0;for(const l of uu(n,e)){let d=dc,f=!0;switch(l.op){case">=":case">":d=uT(l.value),f=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,f=!1;break;case"!=":case"not-in":d=dc}Wv({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];Wv({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class oi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new fT(e,t,r):"array-contains"===t?new zv(e,r):"in"===t?new gT(e,r):"not-in"===t?new mT(e,r):"array-contains-any"===t?new Im(e,r):new oi(e,t,r)}static lt(e,t,r){return"in"===t?new JE(e,r):new QE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ga(t,this.value)):null!==t&&cl(this.value)===cl(t)&&this.ft(ga(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fT extends oi{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.ft(t)}}class JE extends oi{constructor(e,t){super(e,"in",t),this.keys=pT(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QE extends oi{constructor(e,t){super(e,"not-in",t),this.keys=pT(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pT(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class zv extends oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pc(t)&&hc(t.arrayValue,this.value)}}class gT extends oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hc(this.value.arrayValue,t)}}class mT extends oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hc(this.value.arrayValue,t)}}class Im extends oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}}class ma{constructor(e,t){this.position=e,this.inclusive=t}}class ip{constructor(e,t="asc"){this.field=e,this.dir=t}}function _T(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function yT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?Xe.comparator(Xe.fromName(d.referenceValue),t.key):ga(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function qv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bo(n.position[t],e.position[t]))return!1;return!0}class zi{constructor(e,t=null,r=[],i=[],l=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=_,this._t=null,this.wt=null}}function vT(n,e,t,r,i,l,d,f){return new zi(n,e,t,r,i,l,d,f)}function gc(n){return new zi(n)}function Em(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function bT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Zv(n){for(const e of n.filters)if(e.dt())return e.field;return null}function wT(n){return null!==n.collectionGroup}function Yd(n){const e=rt(n);if(null===e._t){e._t=[];const t=Zv(e),r=bT(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new ip(t)),e._t.push(new ip(ar.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ip(ar.keyField(),l))}}}return e._t}function qi(n){const e=rt(n);if(!e.wt)if("F"===e.limitType)e.wt=dT(e.path,e.collectionGroup,Yd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Yd(e))t.push(new ip(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new ma(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ma(e.startAt.position,e.startAt.inclusive):null;e.wt=dT(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function Cm(n,e,t){return new zi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jd(n,e){return Kd(qi(n),qi(e))&&n.limitType===e.limitType}function Kv(n){return`${Zd(qi(n))}|lt:${n.limitType}`}function Yv(n){return`Query(target=${function QN(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${zd(r.value)}`;var r}).join(", ")}]`),Gd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>zd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>zd(t)).join(",")),`Target(${e})`}(qi(n))}; limitType=${n.limitType})`}function Sm(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Xe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const f=yT(i,l,d);return i.inclusive?f<=0:f<0}(t.startAt,Yd(t),r)||t.endAt&&!function(i,l,d){const f=yT(i,l,d);return i.inclusive?f>=0:f>0}(t.endAt,Yd(t),r)));var t,r}function Jv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DT(n){return(e,t)=>{let r=!1;for(const i of Yd(n)){const l=XE(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function XE(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(i,l,d){const f=l.data.field(i),_=d.data.field(i);return null!==f&&null!==_?ga(f,_):ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}function Qv(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tp(e)?"-0":e}}function TT(n){return{integerValue:""+n}}function Xv(n,e){return sT(e)?TT(e):Qv(n,e)}class sp{constructor(){this._=void 0}}function IT(n,e,t){return n instanceof Qd?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Xd?e0(n,e):n instanceof eh?eC(n,e):function(r,i){const l=CT(r,i),d=tC(l)+tC(r.yt);return Dm(l)&&Dm(r.yt)?TT(d):Qv(r.It,d)}(n,e)}function ET(n,e,t){return n instanceof Xd?e0(n,e):n instanceof eh?eC(n,e):t}function CT(n,e){return n instanceof op?Dm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Qd extends sp{}class Xd extends sp{constructor(e){super(),this.elements=e}}function e0(n,e){const t=nC(e);for(const r of n.elements)t.some(i=>bo(i,r))||t.push(r);return{arrayValue:{values:t}}}class eh extends sp{constructor(e){super(),this.elements=e}}function eC(n,e){let t=nC(e);for(const r of n.elements)t=t.filter(i=>!bo(i,r));return{arrayValue:{values:t}}}class op extends sp{constructor(e,t){super(),this.It=e,this.yt=t}}function tC(n){return zn(n.integerValue||n.doubleValue)}function nC(n){return pc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Am{constructor(e,t){this.field=e,this.transform=t}}class eO{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function t0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ap{}function lp(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new nh(n.key,Mn.none()):new mc(n.key,n.data,Mn.none());{const t=n.data,r=zr.empty();let i=new bn(ar.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),i=i.add(l)}return new dl(n.key,r,new Oi(i.toArray()),Mn.none())}}function ST(n,e,t){n instanceof mc?function(r,i,l){const d=r.value.clone(),f=rC(r.fieldTransforms,i,l.transformResults);d.setAll(f),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof dl?function(r,i,l){if(!t0(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=rC(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(n0(r)),f.setAll(d),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function th(n,e,t,r){return n instanceof mc?function(i,l,d,f){if(!t0(i.precondition,l))return d;const _=i.value.clone(),b=iC(i.fieldTransforms,f,l);return _.setAll(b),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof dl?function(i,l,d,f){if(!t0(i.precondition,l))return d;const _=iC(i.fieldTransforms,f,l),b=l.data;return b.setAll(n0(i)),b.setAll(_),l.convertToFoundDocument(l.version,b).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(E=>E.field))}(n,e,t,r):(d=t,t0(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function tO(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=CT(r.transform,i||null);null!=l&&(null===t&&(t=zr.empty()),t.set(r.field,l))}return t||null}function Nm(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&lc(t,r,(i,l)=>function XN(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Xd&&r instanceof Xd||t instanceof eh&&r instanceof eh?lc(t.elements,r.elements,bo):t instanceof op&&r instanceof op?bo(t.yt,r.yt):t instanceof Qd&&r instanceof Qd);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class mc extends ap{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dl extends ap{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function n0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function rC(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,f=e.data.field(l.field);r.set(l.field,ET(d,f,t[i]))}return r}function iC(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,IT(l,d,e))}return r}class nh extends ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r0 extends ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Om{constructor(e){this.count=e}}var Or,dn;function sC(n){switch(n){default:return ft();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function oC(n){if(void 0===n)return vr("GRPC error has no .code"),me.UNKNOWN;switch(n){case Or.OK:return me.OK;case Or.CANCELLED:return me.CANCELLED;case Or.UNKNOWN:return me.UNKNOWN;case Or.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Or.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Or.INTERNAL:return me.INTERNAL;case Or.UNAVAILABLE:return me.UNAVAILABLE;case Or.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Or.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Or.NOT_FOUND:return me.NOT_FOUND;case Or.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Or.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Or.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Or.ABORTED:return me.ABORTED;case Or.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Or.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Or.DATA_LOSS:return me.DATA_LOSS;default:return ft()}}(dn=Or||(Or={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class cu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cc(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return nT(this.inner)}size(){return this.innerSize}}const aC=new lr(Xe.comparator);function Zi(){return aC}const lC=new lr(Xe.comparator);function up(...n){let e=lC;for(const t of n)e=e.insert(t.key,t);return e}function s0(n){let e=lC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wo(){return Ri()}function uC(){return Ri()}function Ri(){return new cu(n=>n.toString(),(n,e)=>n.isEqual(e))}const cC=new lr(Xe.comparator),o0=new bn(Xe.comparator);function zt(...n){let e=o0;for(const t of n)e=e.add(t);return e}const Ls=new bn(Vt);function Rm(){return Ls}class _c{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,cp.createSynthesizedTargetChangeForCurrentChange(e,t)),new _c(Ot.min(),r,Rm(),Zi(),zt())}}class cp{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new cp(Fr.EMPTY_BYTE_STRING,t,zt(),zt(),zt())}}class Mm{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class xm{constructor(e,t){this.targetId=e,this.At=t}}class a0{constructor(e,t,r=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class l0{constructor(){this.Rt=0,this.bt=c0(),this.Pt=Fr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=zt(),t=zt(),r=zt();return this.bt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new cp(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=c0()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class dC{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Zi(),this.qt=u0(),this.Kt=new bn(Vt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const l=i.target;if(rp(l))if(0===r){const d=new Xe(l.path);this.jt(t,d,_n.newNoDocument(d,Ot.min()))}else xt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,d)=>{const f=this.Xt(d);if(f){if(l.current&&rp(f.target)){const _=new Xe(f.target.path);null!==this.Ut.get(_)||this.ee(d,_)||this.jt(d,_,_n.newNoDocument(_,e))}l.Dt&&(t.set(d,l.xt()),l.Nt())}});let r=zt();this.qt.forEach((l,d)=>{let f=!0;d.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.Ut.forEach((l,d)=>d.setReadTime(e));const i=new _c(e,t,this.Kt,this.Ut,r);return this.Ut=Zi(),this.qt=u0(),this.Kt=new bn(Vt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new l0,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new bn(Vt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new l0),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function u0(){return new lr(Xe.comparator)}function c0(){return new lr(Xe.comparator)}const hC={asc:"ASCENDING",desc:"DESCENDING"},AT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class fC{constructor(e,t){this.databaseId=e,this.gt=t}}function yc(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hl(n,e){return n.gt?e.toBase64():e.toUint8Array()}function NT(n,e){return yc(n,e.toTimestamp())}function Rr(n){return xt(!!n),Ot.fromTimestamp(function(e){const t=lu(e);return new Wn(t.seconds,t.nanos)}(n))}function Do(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function OT(n){const e=un.fromString(n);return xt(yC(e)),e}function Pm(n,e){return Do(n.databaseId,e.path)}function _a(n,e){const t=OT(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(h0(t))}function d0(n,e){return Do(n.databaseId,e)}function RT(n){const e=OT(n);return 4===e.length?un.emptyPath():h0(e)}function dp(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h0(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pC(n,e,t){return{name:Pm(n,e),fields:t.value.mapValue.fields}}function f0(n,e,t){const r=_a(n,e.name),i=Rr(e.updateTime),l=new zr({mapValue:{fields:e.fields}}),d=_n.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function km(n,e){let t;if(e instanceof mc)t={update:pC(n,e.key,e.value)};else if(e instanceof nh)t={delete:Pm(n,e.key)};else if(e instanceof dl)t={update:pC(n,e.key,e.data),updateMask:_C(e.fieldMask)};else{if(!(e instanceof r0))return ft();t={verify:Pm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof Qd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof eh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof op)return{fieldPath:l.field.canonicalString(),increment:d.yt};throw ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:NT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ft()),t;var i}function hp(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Mn.updateTime(Rr(i.updateTime)):void 0!==i.exists?Mn.exists(i.exists):Mn.none():Mn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let f=null;"setToServerValue"in d?(xt("REQUEST_TIME"===d.setToServerValue),f=new Qd):"appendMissingElements"in d?f=new Xd(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new eh(d.removeAllFromArray.values||[]):"increment"in d?f=new op(l,d.increment):ft();const _=ar.fromServerFormat(d.fieldPath);return new Am(_,f)}(n,i)):[];var i;if(e.update){const i=_a(n,e.update.name),l=new zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Oi((e.updateMask.fieldPaths||[]).map(b=>ar.fromServerFormat(b)));return new dl(i,l,d,t,r)}return new mc(i,l,t,r)}if(e.delete){const i=_a(n,e.delete);return new nh(i,t)}if(e.verify){const i=_a(n,e.verify);return new r0(i,t)}return ft()}function p0(n,e){return{documents:[d0(n,e.path)]}}function g0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=d0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=d0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const b=_.map(E=>function(A){if("=="===A.op){if(Gv(A.value))return{unaryFilter:{field:rh(A.field),op:"IS_NAN"}};if(Hv(A.value))return{unaryFilter:{field:rh(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(Gv(A.value))return{unaryFilter:{field:rh(A.field),op:"IS_NOT_NAN"}};if(Hv(A.value))return{unaryFilter:{field:rh(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rh(A.field),op:kT(A.op),value:A.value}}}(E));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(b=>{return{field:rh((E=b).field),direction:Fm(E.dir)};var E})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(b=e.limit,n.gt||Gd(b)?b:{value:b});var b,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function m0(n){let e=RT(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const E=t.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=fp(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(E=>{return new ip(vc((A=E).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(E){let A;return A="object"==typeof E?E.value:E,Gd(A)?null:A}(t.limit));let _=null;var E;t.startAt&&(_=new ma((E=t.startAt).values||[],!!E.before));let b=null;return t.endAt&&(b=function(E){return new ma(E.values||[],!E.before)}(t.endAt)),vT(e,i,d,l,f,"F",_,b)}function fp(n){return n?void 0!==n.unaryFilter?[mC(n)]:void 0!==n.fieldFilter?[FT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>fp(e)).reduce((e,t)=>e.concat(t)):ft():[]}function Fm(n){return hC[n]}function kT(n){return AT[n]}function rh(n){return{fieldPath:n.canonicalString()}}function vc(n){return ar.fromServerFormat(n.fieldPath)}function FT(n){return oi.create(vc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function mC(n){switch(n.unaryFilter.op){case"IS_NAN":const e=vc(n.unaryFilter.field);return oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=vc(n.unaryFilter.field);return oi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vc(n.unaryFilter.field);return oi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vc(n.unaryFilter.field);return oi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function _C(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yC(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VT(e)),e=LT(n.get(t),e);return VT(e)}function LT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function VT(n){return n+"\x01\x01"}function ya(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&ft(),n.charAt(d+1)){case"\x01":const f=n.substring(l,d);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:ft()}l=d+2}return new un(r)}const UT=["userId","batchId"];function _0(n,e){return[n,Ki(e)]}function vC(n,e,t){return[n,Ki(e),t]}const nO={},rO=["prefixPath","collectionGroup","readTime","documentId"],iO=["prefixPath","collectionGroup","documentId"],bC=["collectionGroup","readTime","prefixPath","documentId"],Lm=["canonicalId","targetId"],wC=["targetId","path"],DC=["path","targetId"],BT=["collectionId","parent"],bc=["indexId","uid"],jT=["uid","sequenceNumber"],y0=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],v0=["indexId","uid","orderedDocumentKey"],TC=["userId","collectionPath","documentId"],b0=["userId","collectionPath","largestBatchId"],w0=["userId","collectionGroup","largestBatchId"],pp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sO=[...pp,"documentOverlays"],IC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],EC=IC,oO=[...EC,"indexConfiguration","indexState","indexEntries"];class Vm extends XD{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function qr(n,e){const t=rt(n);return yo.O(t.ie,e)}class D0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&ST(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=th(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=th(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uC();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let f=this.applyToLocalView(d,l.mutatedFields);f=t.has(i.key)?null:f;const _=lp(d,f);null!==_&&r.set(i.key,_),d.isValidDocument()||d.convertToNoDocument(Ot.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zt())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(t,r)=>Nm(t,r))&&lc(this.baseMutations,e.baseMutations,(t,r)=>Nm(t,r))}}class T0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=cC;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new T0(e,t,r,i)}}class I0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fl{constructor(e,t,r,i,l=Ot.min(),d=Ot.min(),f=Fr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class E0{constructor(e){this.re=e}}function HT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Um(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Pm(i=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:yc(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:du(e.version)};else{if(!e.isUnknownDocument())return ft();r.unknownDocument={path:t.path.toArray(),version:du(e.version)}}var i,l;return r}function Um(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function du(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pl(n){const e=new Wn(n.seconds,n.nanoseconds);return Ot.fromTimestamp(e)}function ih(n,e){const t=(e.baseMutations||[]).map(l=>hp(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>hp(n.re,l)),i=Wn.fromMillis(e.localWriteTimeMs);return new D0(e.batchId,i,t,r)}function sh(n){const e=pl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pl(n.lastLimboFreeSnapshotVersion):Ot.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=qi(gc(RT(i.documents[0])))):r=qi(m0(n.query)),new fl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Fr.fromBase64String(n.resumeToken))}function Bm(n,e){const t=du(e.snapshotVersion),r=du(e.lastLimboFreeSnapshotVersion);let i;i=rp(e.target)?p0(n.re,e.target):g0(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zd(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function C0(n){const e=m0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Cm(e,e.limit,"L"):e}function S0(n,e){return new I0(e.largestBatchId,hp(n.re,e.overlayMutation))}function CC(n,e){const t=e.path.lastSegment();return[n,Ki(e.path.popLast()),t]}function SC(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:du(r.readTime),documentKey:Ki(r.documentKey.path),largestBatchId:r.largestBatchId}}class AC{getBundleMetadata(e,t){return GT(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:pl(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return GT(e).put({bundleId:(r=t).id,createTime:du(Rr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return WT(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:C0(i.bundledQuery),readTime:pl(i.readTime)};var i})}saveNamedQuery(e,t){return WT(e).put({name:(r=t).name,readTime:du(Rr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function GT(n){return qr(n,"bundles")}function WT(n){return qr(n,"namedQueries")}class A0{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new A0(e,t.uid||"")}getOverlay(e,t){return jm(e).get(CC(this.userId,t)).next(r=>r?S0(this.It,r):null)}getOverlays(e,t){const r=wo();return de.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const f=new I0(t,d);i.push(this.ue(e,f))}),de.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Ki(d.getCollectionPath())));const l=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(jm(e).Y("collectionPathOverlayIndex",f))}),de.waitFor(l)}getOverlaysForCollection(e,t,r){const i=wo(),l=Ki(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return jm(e).W("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const b=S0(this.It,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=wo();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jm(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,b,E)=>{const A=S0(this.It,b);l.size()<i||A.largestBatchId===d?(l.set(A.getKey(),A),d=A.largestBatchId):E.done()}).next(()=>l)}ue(e,t){return jm(e).put(function(r,i,l){const[d,f,_]=CC(i,l.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:km(r.re,l.mutation)}}(this.It,this.userId,t))}}function jm(n){return qr(n,"documentOverlays")}class oh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(zn(e.integerValue));else if("doubleValue"in e){const r=zn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),tp(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(fa(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?aT(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ft()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Xe.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function aO(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function NC(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=aO(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}oh.Te=new oh;class OC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=NC(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=NC(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class lO{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class uO{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class $m{constructor(){this.Be=new OC,this.Le=new lO(this.Be),this.Ue=new uO(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class ah{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ah(this.indexId,this.documentKey,this.arrayValue,r)}}function wc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=RC(n.arrayValue,e.arrayValue),0!==t?t:(t=RC(n.directionalValue,e.directionalValue),0!==t?t:Xe.comparator(n.documentKey,e.documentKey)))}function RC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class s{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=vm(e);if(void 0!==t&&!this.ze(t))return!1;const r=uc(e);let i=0,l=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Ge.length||!this.Je(this.Ge[l++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class o{constructor(){this.Ye=new a}addToCollectionParentIndex(e,t){return this.Ye.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(Gi.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class a{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bn(un.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(un.comparator)).toArray()}}const c=new Uint8Array(0);class h{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new a,this.Ze=new cu(r=>Zd(r),(r,i)=>Kd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:Ki(i)};return p(e).put(l)}return de.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Pv(t),""],!1,!0);return p(e).W(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(ya(d.parent))}return r})}addFieldIndex(e,t){const r=w(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete i.indexId;const l=r.add(i);if(t.indexState){const d=T(e);return l.next(f=>{d.put(SC(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=w(e),i=T(e),l=y(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=y(e);let i=!0;const l=new Map;return de.forEach(this.tn(t),d=>this.en(e,d).next(f=>{i&&(i=!!f),l.set(d,f)})).next(()=>{if(i){let d=zt();const f=[];return de.forEach(l,(_,b)=>{var E;je("IndexedDbIndexManager",`Using index ${E=_,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(ht=>`${ht.fieldPath}:${ht.kind}`).join(",")}`} to execute ${Zd(t)}`);const A=function(ht,Qe){const et=vm(Qe);if(void 0===et)return null;for(const ut of uu(ht,et.fieldPath))switch(ut.op){case"array-contains-any":return ut.value.arrayValue.values||[];case"array-contains":return[ut.value]}return null}(b,_),k=function(ht,Qe){const et=new Map;for(const ut of uc(Qe))for(const Ht of uu(ht,ut.fieldPath))switch(Ht.op){case"==":case"in":et.set(ut.fieldPath.canonicalString(),Ht.value);break;case"not-in":case"!=":return et.set(ut.fieldPath.canonicalString(),Ht.value),Array.from(et.values())}return null}(b,_),V=function(ht,Qe){const et=[];let ut=!0;for(const Ht of uc(Qe)){const gn=0===Ht.kind?hT(ht,Ht.fieldPath,ht.startAt):Tm(ht,Ht.fieldPath,ht.startAt);et.push(gn.value),ut&&(ut=gn.inclusive)}return new ma(et,ut)}(b,_),Y=function(ht,Qe){const et=[];let ut=!0;for(const Ht of uc(Qe)){const gn=0===Ht.kind?Tm(ht,Ht.fieldPath,ht.endAt):hT(ht,Ht.fieldPath,ht.endAt);et.push(gn.value),ut&&(ut=gn.inclusive)}return new ma(et,ut)}(b,_),ae=this.nn(_,b,V),ye=this.nn(_,b,Y),Be=this.sn(_,b,k),ze=this.rn(_.indexId,A,ae,V.inclusive,ye,Y.inclusive,Be);return de.forEach(ze,ht=>r.J(ht,t.limit).next(Qe=>{Qe.forEach(et=>{const ut=Xe.fromSegments(et.documentKey);d.has(ut)||(d=d.add(ut),f.push(ut))})}))}).next(()=>f)}return de.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,l,d,f){const _=(null!=t?t.length:1)*Math.max(r.length,l.length),b=_/(null!=t?t.length:1),E=[];for(let A=0;A<_;++A){const k=t?this.on(t[A/b]):c,V=this.un(e,k,r[A%b],i),Y=this.cn(e,k,l[A%b],d),ae=f.map(ye=>this.un(e,k,ye,!0));E.push(...this.createRange(V,Y,ae))}return E}un(e,t,r,i){const l=new ah(e,Xe.empty(),t,r);return i?l:l.Ke()}cn(e,t,r,i){const l=new ah(e,Xe.empty(),t,r);return i?l.Ke():l}en(e,t){const r=new s(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let d=null;for(const f of l)r.We(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return de.forEach(this.tn(t),i=>this.en(e,i).next(l=>{l?0!==r&&l.fields.length<function(d){let f=new bn(ar.comparator),_=!1;for(const b of d.filters){const E=b;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?_=!0:f=f.add(E.field))}for(const b of d.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new $m;for(const i of uc(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.qe(i.kind);oh.Te.ce(l,d)}return r.$e()}on(e){const t=new $m;return oh.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new $m;return oh.Te.ce(fc(this.databaseId,t),r.qe(function(i){const l=uc(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new $m);let l=0;for(const d of uc(e)){const f=r[l++];for(const _ of i)if(this.ln(t,d.fieldPath)&&pc(f))i=this.fn(i,d,f);else{const b=_.qe(d.kind);oh.Te.ce(f,b)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const f of i){const _=new $m;_.seed(f.$e()),oh.Te.ce(d,_.qe(t.kind)),l.push(_)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof oi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=w(e),i=T(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const d=[];return de.forEach(l,f=>i.get([f.indexId,this.uid]).next(_=>{d.push(function(b,E){const A=E?new Qf(E.sequenceNumber,new Gi(pl(E.readTime),new Xe(ya(E.documentKey)),E.largestBatchId)):Qf.empty(),k=b.fields.map(([V,Y])=>new Fv(ar.fromServerFormat(V),Y));return new kv(b.indexId,b.collectionGroup,k,A)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Vt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=w(e),l=T(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>de.forEach(f,_=>l.put(SC(_.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),de.forEach(f,_=>this.wn(e,i,_).next(b=>{const E=this.mn(l,_);return b.isEqual(E)?de.resolve():this.gn(e,l,_,b,E)}))))})}yn(e,t,r,i){return y(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return y(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=y(e);let l=new bn(wc);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,f)=>{l=l.add(new ah(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}mn(e,t){let r=new bn(wc);const i=this.an(t,e);if(null==i)return r;const l=vm(t);if(null!=l){const d=e.data.field(l.fieldPath);if(pc(d))for(const f of d.arrayValue.values||[])r=r.add(new ah(t.indexId,e.key,this.on(f),i))}else r=r.add(new ah(t.indexId,e.key,c,i));return r}gn(e,t,r,i,l){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,_,b,E,A){const k=f.getIterator(),V=_.getIterator();let Y=$d(k),ae=$d(V);for(;Y||ae;){let ye=!1,Be=!1;if(Y&&ae){const ze=b(Y,ae);ze<0?Be=!0:ze>0&&(ye=!0)}else null!=Y?Be=!0:ye=!0;ye?(E(ae),ae=$d(V)):Be?(A(Y),Y=$d(k)):(Y=$d(k),ae=$d(V))}}(i,l,wc,f=>{d.push(this.yn(e,t,r,f))},f=>{d.push(this.pn(e,t,r,f))}),de.waitFor(d)}_n(e){let t=1;return T(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>wc(d,f)).filter((d,f,_)=>!f||0!==wc(d,_[f-1]));const i=[];i.push(e);for(const d of r){const f=wc(d,e),_=wc(d,t);if(0===f)i[0]=e.Ke();else if(f>0&&_<0)i.push(d),i.push(d.Ke());else if(_>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,c,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,c,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(S)}getMinOffset(e,t){return de.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||ft())).next(S)}}function p(n){return qr(n,"collectionParents")}function y(n){return qr(n,"indexEntries")}function w(n){return qr(n,"indexConfiguration")}function T(n){return qr(n,"indexState")}function S(n){xt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;bm(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Gi(e.readTime,e.documentKey,t)}const R={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class F{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new F(e,F.DEFAULT_COLLECTION_PERCENTILE,F.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Z(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=r.Z({range:d},(E,A,k)=>(f++,k.delete()));l.push(_.next(()=>{xt(1===f)}));const b=[];for(const E of t.mutations){const A=vC(e,E.key.path,t.batchId);l.push(i.delete(A)),b.push(E.key)}return de.waitFor(l).next(()=>b)}function re(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}F.DEFAULT_COLLECTION_PERCENTILE=10,F.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,F.DEFAULT=new F(41943040,F.DEFAULT_COLLECTION_PERCENTILE,F.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),F.DISABLED=new F(-1,0,0);class Se{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){xt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Se(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ye(e).Z({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=lt(e),d=Ye(e);return d.add({}).next(f=>{xt("number"==typeof f);const _=new D0(f,t,r,i),b=function(k,V,Y){const ae=Y.baseMutations.map(Be=>km(k.re,Be)),ye=Y.mutations.map(Be=>km(k.re,Be));return{userId:V,batchId:Y.batchId,localWriteTimeMs:Y.localWriteTime.toMillis(),baseMutations:ae,mutations:ye}}(this.It,this.userId,_),E=[];let A=new bn((k,V)=>Vt(k.canonicalString(),V.canonicalString()));for(const k of i){const V=vC(this.userId,k.key.path,f);A=A.add(k.key.path.popLast()),E.push(d.put(b)),E.push(l.put(V,nO))}return A.forEach(k=>{E.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),de.waitFor(E).next(()=>_)})}lookupMutationBatch(e,t){return Ye(e).get(t).next(r=>r?(xt(r.userId===this.userId),ih(this.It,r)):null)}Tn(e,t){return this.In[t]?de.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ye(e).Z({index:"userMutationsIndex",range:i},(d,f,_)=>{f.userId===this.userId&&(xt(f.batchId>=r),l=ih(this.It,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ye(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ye(e).W("userMutationsIndex",t).next(r=>r.map(i=>ih(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=_0(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return lt(e).Z({range:i},(d,f,_)=>{const[b,E,A]=d,k=ya(E);if(b===this.userId&&t.path.isEqual(k))return Ye(e).get(A).next(V=>{if(!V)throw ft();xt(V.userId===this.userId),l.push(ih(this.It,V))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(Vt);const i=[];return t.forEach(l=>{const d=_0(this.userId,l.path),f=IDBKeyRange.lowerBound(d),_=lt(e).Z({range:f},(b,E,A)=>{const[k,V,Y]=b,ae=ya(V);k===this.userId&&l.path.isEqual(ae)?r=r.add(Y):A.done()});i.push(_)}),de.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=_0(this.userId,r),d=IDBKeyRange.lowerBound(l);let f=new bn(Vt);return lt(e).Z({range:d},(_,b,E)=>{const[A,k,V]=_,Y=ya(k);A===this.userId&&r.isPrefixOf(Y)?Y.length===i&&(f=f.add(V)):E.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Ye(e).get(l).next(d=>{if(null===d)throw ft();xt(d.userId===this.userId),r.push(ih(this.It,d))}))}),de.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Z(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),de.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return lt(e).Z({range:r},(l,d,f)=>{if(l[0]===this.userId){const _=ya(l[1]);i.push(_)}else f.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return $e(e,this.userId,t)}Rn(e){return At(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $e(n,e,t){const r=_0(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return lt(n).Z({range:l,X:!0},(f,_,b)=>{const[E,A,k]=f;E===e&&A===i&&(d=!0),b.done()}).next(()=>d)}function Ye(n){return qr(n,"mutations")}function lt(n){return qr(n,"documentMutations")}function At(n){return qr(n,"mutationQueues")}class xe{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new xe(0)}static vn(){return new xe(-1)}}class Et{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new xe(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ot.fromTimestamp(new Wn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Yt(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Yt(e).Z((d,f)=>{const _=sh(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>de.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Yt(e).Z((r,i)=>{const l=sh(i);t(l)})}Vn(e){return Fn(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}Sn(e,t){return Fn(e).put("targetGlobalKey",t)}Dn(e,t){return Yt(e).put(Bm(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Zd(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Yt(e).Z({range:i,index:"queryTargetsIndex"},(d,f,_)=>{const b=sh(f);Kd(t,b.target)&&(l=b,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Yi(e);return t.forEach(d=>{const f=Ki(d.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),de.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yi(e);return de.forEach(t,l=>{const d=Ki(l.path);return de.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Yi(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yi(e);let l=zt();return i.Z({range:r,X:!0},(d,f,_)=>{const b=ya(d[1]),E=new Xe(b);l=l.add(E)}).next(()=>l)}containsKey(e,t){const r=Ki(t.path),i=IDBKeyRange.bound([r],[Pv(r)],!1,!0);let l=0;return Yi(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,f],_,b)=>{0!==d&&(l++,b.done())}).next(()=>l>0)}se(e,t){return Yt(e).get(t).next(r=>r?sh(r):null)}}function Yt(n){return qr(n,"targets")}function Fn(n){return qr(n,"targetGlobal")}function Yi(n){return qr(n,"targetDocuments")}function Hm([n,e],[t,r]){const i=Vt(n,t);return 0===i?Vt(e,r):i}class N0{constructor(e){this.xn=e,this.buffer=new bn(Hm),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Hm(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class O0{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ie.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ul(r)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield su(r)}yield t.Fn(3e5)}))}}class R0{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(Wi.at);const r=new N0(t);return this.$n.forEachTarget(e,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(R)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,l,d,f,_,b;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,d=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(l=A,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(b=Date.now(),Nv()<=go.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-E}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(b-_)+`ms\nTotal Duration: ${b-E}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:A})))}}class M0{constructor(e,t){this.db=e,this.garbageCollector=new R0(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return lh(e,r)}removeReference(e,t,r){return lh(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return lh(e,t)}Gn(e,t){return function(r,i){let l=!1;return At(r).tt(d=>$e(r,d,i).next(f=>(f&&(l=!0),de.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(d,f)=>{if(f<=t){const _=this.Gn(e,d).next(b=>{if(!b)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Ot.min()),Yi(e).delete([0,Ki(d.path)])))});i.push(_)}}).next(()=>de.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return lh(e,t)}Kn(e,t){const r=Yi(e);let i,l=Wi.at;return r.Z({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:b})=>{0===d?(l!==Wi.at&&t(new Xe(ya(i)),l),l=b,i=_):l=Wi.at}).next(()=>{l!==Wi.at&&t(new Xe(ya(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lh(n,e){return Yi(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ki(e.path),sequenceNumber:r}));var r}class Gm{constructor(){this.changes=new cu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class x0{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return gp(e).put(r)}removeEntry(e,t,r){return gp(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Um(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=_n.newInvalidDocument(t);return gp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(P0(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:_n.newInvalidDocument(t)};return gp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(P0(t))},(i,l)=>{r={document:this.jn(t,l),size:re(l)}}).next(()=>r)}getEntries(e,t){let r=Zi();return this.zn(e,t,(i,l)=>{const d=this.jn(i,l);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Zi(),i=new lr(Xe.comparator);return this.zn(e,t,(l,d)=>{const f=this.jn(l,d);r=r.insert(l,f),i=i.insert(l,re(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return de.resolve();let i=new bn(hO);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(P0(i.first()),P0(i.last())),d=i.getIterator();let f=d.getNext();return gp(e).Z({index:"documentKeyIndex",range:l},(_,b,E)=>{const A=Xe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&hO(f,A)<0;)r(f,null),f=d.getNext();f&&f.isEqual(A)&&(r(f,b),f=d.hasNext()?d.getNext():null),f?E.j(P0(f)):E.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Um(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gp(e).W(IDBKeyRange.bound(i,l,!0)).next(d=>{let f=Zi();for(const _ of d){const b=this.jn(Xe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,r,i){let l=Zi();const d=dO(t,r),f=dO(t,Gi.max());return gp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,b,E)=>{const A=this.jn(Xe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);l=l.insert(A.key,A),l.size===i&&E.done()}).next(()=>l)}newChangeBuffer(e){return new TP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return cO(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Qn(e,t){return cO(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function $T(n,e){let t;if(e.document)t=f0(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Xe.fromSegments(e.noDocument.path),i=pl(e.noDocument.readTime);t=_n.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const r=Xe.fromSegments(e.unknownDocument.path),i=pl(e.unknownDocument.version);t=_n.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Wn(r[0],r[1]);return Ot.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Ot.min()))return r}return _n.newInvalidDocument(e)}}function Wm(n){return new x0(n)}class TP extends Gm{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new cu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new bn((l,d)=>Vt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const f=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,f.readTime)),d.isValidDocument()){const _=HT(this.Yn.It,d);i=i.add(l.path.popLast()),r+=re(_)-f.size,t.push(this.Yn.addEntry(e,l,_))}else if(r-=f.size,this.trackRemovals){const _=HT(this.Yn.It,d.convertToNoDocument(Ot.min()));t.push(this.Yn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function cO(n){return qr(n,"remoteDocumentGlobal")}function gp(n){return qr(n,"remoteDocumentsV14")}function P0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dO(n,e){const t=e.documentKey.path.toArray();return[n,Um(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hO(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Vt(t[l],r[l]),i)return i;return i=Vt(t.length,r.length),i||(i=Vt(t[t.length-2],r[r.length-2]),i||Vt(t[t.length-1],r[r.length-1]))}class IP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&th(r.mutation,i,Oi.empty(),Wn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=zt()){const i=wo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let d=up();return l.forEach((f,_)=>{d=d.insert(f,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,r,i){let l=Zi();const d=Ri(),f=Ri();return t.forEach((_,b)=>{const E=r.get(b.key);i.has(b.key)&&(void 0===E||E.mutation instanceof dl)?l=l.insert(b.key,b):void 0!==E&&(d.set(b.key,E.mutation.getFieldMask()),th(E.mutation,b,E.mutation.getFieldMask(),Wn.now()))}),this.recalculateAndSaveOverlays(e,l).next(_=>(_.forEach((b,E)=>d.set(b,E)),t.forEach((b,E)=>{var A;return f.set(b,new IP(E,null!==(A=d.get(b))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Ri();let i=new lr((d,f)=>d-f),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let E=r.get(_)||Oi.empty();E=f.applyToLocalView(b,E),r.set(_,E);const A=(i.get(f.batchId)||zt()).add(_);i=i.insert(f.batchId,A)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,E=_.value,A=uC();E.forEach(k=>{if(!l.has(k)){const V=lp(t.get(k),r.get(k));null!==V&&A.set(k,V),l=l.add(k)}}),d.push(this.documentOverlayCache.saveOverlays(e,b,A))}return de.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Xe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):de.resolve(wo());let f=-1,_=l;return d.next(b=>de.forEach(b,(E,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),l.get(E)?de.resolve():this.getBaseDocument(e,E,A).next(k=>{_=_.insert(E,k)}))).next(()=>this.populateOverlays(e,b,l)).next(()=>this.computeViews(e,_,b,zt())).next(E=>({batchId:f,changes:s0(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xe(t)).next(r=>{let i=up();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=up();return this.indexManager.getCollectionParents(e,i).next(d=>de.forEach(d,f=>{const _=(b=t,E=f.child(i),new zi(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,E;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((E,A)=>{l=l.insert(E,A)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((f,_)=>{const b=_.getKey();null===i.get(b)&&(i=i.insert(b,_n.newInvalidDocument(b)))});let d=up();return i.forEach((f,_)=>{const b=l.get(f);void 0!==b&&th(b.mutation,_,Oi.empty(),Wn.now()),Sm(t,_)&&(d=d.insert(f,_))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):de.resolve(_n.newInvalidDocument(t))}}class EP{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return de.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Rr(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:C0(r.bundledQuery),readTime:Rr(r.readTime)}),de.resolve();var r}}class CP{constructor(){this.overlays=new lr(Xe.comparator),this.es=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wo();return de.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ue(e,t,l)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const i=wo(),l=t.length+1,d=new Xe(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new lr((b,E)=>b-E);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let E=l.get(b.largestBatchId);null===E&&(E=wo(),l=l.insert(b.largestBatchId,E)),E.set(b.getKey(),b)}}const f=wo(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,E)=>f.set(b,E)),!(f.size()>=i)););return de.resolve(f)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new I0(t,r));let l=this.es.get(t);void 0===l&&(l=zt(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class MC{constructor(){this.ns=new bn(Ii.ss),this.rs=new bn(Ii.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ii(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ii(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Xe(new un([])),r=new Ii(t,e),i=new Ii(t,e+1),l=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Xe(new un([])),r=new Ii(t,e),i=new Ii(t,e+1);let l=zt();return this.rs.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ii(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ii{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Xe.comparator(e.key,t.key)||Vt(e._s,t._s)}static os(e,t){return Vt(e._s,t._s)||Xe.comparator(e.key,t.key)}}class SP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new bn(Ii.ss)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const d=new D0(l,t,r,i);this.mutationQueue.push(d);for(const f of i)this.gs=this.gs.add(new Ii(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(d)}lookupMutationBatch(e,t){return de.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ii(t,0),i=new Ii(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],d=>{const f=this.ys(d._s);l.push(f)}),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(Vt);return t.forEach(i=>{const l=new Ii(i,0),d=new Ii(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],f=>{r=r.add(f._s)})}),de.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;Xe.isDocumentKey(l)||(l=l.child(""));const d=new Ii(new Xe(l),0);let f=new bn(Vt);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(_._s)),!0)},d),de.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return de.forEach(t.mutations,i=>{const l=new Ii(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ii(t,0),i=this.gs.firstAfterOrEqual(r);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return de.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class AP{constructor(e){this.Es=e,this.docs=new lr(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let r=Zi();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():_n.newInvalidDocument(i))}),de.resolve(r)}getAllFromCollection(e,t,r){let i=Zi();const l=new Xe(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||bm(QD(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return de.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ft()}As(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new NP(this)}getSize(e){return de.resolve(this.size)}}class NP extends Gm{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class OP{constructor(e){this.persistence=e,this.Rs=new cu(t=>Zd(t),Kd),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.bs=0,this.Ps=new MC,this.targetCount=0,this.vs=xe.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),de.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new xe(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Dn(t),de.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),de.waitFor(l).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),de.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.Ps.containsKey(t))}}class pO{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Wi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new OP(this),this.indexManager=new o,this.remoteDocumentCache=new AP(r=>this.referenceDelegate.xs(r)),this.It=new E0(t),this.Ns=new EP(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new SP(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){je("MemoryPersistence","Starting transaction:",e);const i=new RP(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Ms(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Os(e,t){return de.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class RP extends XD{constructor(e){super(),this.currentSequenceNumber=e}}class zT{constructor(e){this.persistence=e,this.Fs=new MC,this.$s=null}static Bs(e){return new zT(e)}get Ls(){if(this.$s)return this.$s;throw ft()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),de.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ls,r=>{const i=Xe.fromPath(r);return this.Us(e,i).next(l=>{l||t.removeEntry(i,Ot.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return de.or([()=>de.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class MP{constructor(e){this.It=e}$(e,t,r,i){const l=new wm("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UT,{unique:!0}),f.createObjectStore("documentMutations"),gO(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=de.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),gO(e)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ot.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,_){return _.store("mutations").W().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UT,{unique:!0});const E=_.store("mutations"),A=b.map(k=>E.put(k));return de.waitFor(A)})}(e,l))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(l))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(l))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(l))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:TC});_.createIndex("collectionPathOverlayIndex",b0,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",w0,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:rO});_.createIndex("documentKeyIndex",iO),_.createIndex("collectionGroupIndex",bC)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,l))),r<15&&i>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:bc}).createIndex("sequenceNumberIndex",jT,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:y0}).createIndex("documentKeyIndex",v0,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=re(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>de.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(f=>de.forEach(f,_=>{xt(_.userId===l.userId);const b=ih(this.It,_);return Z(e,l.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((d,f)=>{const _=new un(d),b=[0,Ki(_)];l.push(t.get(b).next(E=>E?de.resolve():t.put({targetId:0,path:Ki(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:BT});const r=t.store("collectionParents"),i=new a,l=d=>{if(i.add(d)){const f=d.lastSegment(),_=d.popLast();return r.put({collectionId:f,parent:Ki(_)})}};return t.store("remoteDocuments").Z({X:!0},(d,f)=>{const _=new un(d);return l(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,f,_],b)=>{const E=ya(f);return l(E.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=sh(i),d=Bm(this.It,l);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,d)=>{const f=t.store("remoteDocumentsV14"),_=(b=d,b.document?new Xe(un.fromString(b.document.name).popFirst(5)):b.noDocument?Xe.fromSegments(b.noDocument.path):b.unknownDocument?Xe.fromSegments(b.unknownDocument.path):ft()).path.toArray();var b;const E={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(E))}).next(()=>de.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=Wm(this.It),l=new pO(zT.Bs,this.It.re);return r.W().next(d=>{const f=new Map;return d.forEach(_=>{var b;let E=null!==(b=f.get(_.userId))&&void 0!==b?b:zt();ih(this.It,_).keys().forEach(A=>E=E.add(A)),f.set(_.userId,E)}),de.forEach(f,(_,b)=>{const E=new kr(b),A=A0.oe(this.It,E),k=l.getIndexManager(E),V=Se.oe(E,this.It,k,l.referenceDelegate);return new fO(i,V,A,k).recalculateAndSaveOverlaysForDocumentKeys(new Vm(t,Wi.at),_).next()})})}}function gO(n){n.createObjectStore("targetDocuments",{keyPath:wC}).createIndex("documentTargetsIndex",DC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lm,{unique:!0}),n.createObjectStore("targetGlobal")}const xC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class PC{constructor(e,t,r,i,l,d,f,_,b,E,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=d,this.document=f,this.Js=b,this.Ys=E,this.Xs=A,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=k=>Promise.resolve(),!PC.C())throw new Le(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new M0(this,i),this.ii=t+"main",this.It=new E0(_),this.ri=new yo(this.ii,this.Xs,new MP(this.It)),this.Cs=new Et(this.referenceDelegate,this.It),this.remoteDocumentCache=Wm(this.It),this.Ns=new AC,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(me.FAILED_PRECONDITION,xC);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Wi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Ie.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ie.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ie.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ul(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return k0(e).get("owner").next(t=>de.resolve(this.mi(t)))}gi(e){return qT(e).delete(this.clientId)}yi(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=qr(r,"clientMetadata");return i.W().next(l=>{const d=e.Ii(l,18e5),f=l.filter(_=>-1===d.indexOf(_));return de.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?de.resolve(!0):k0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Le(me.FAILED_PRECONDITION,xC);return!1}}return!(!this.networkEnabled||!this.inForeground)||qT(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Vm(t,Wi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>qT(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Se.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new h(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return A0.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){je("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(d=this.Xs)?oO:14===d?EC:13===d?IC:12===d?sO:11===d?pp:void ft();var d;let f;return this.ri.runTransaction(e,i,l,_=>(f=new Vm(_,this.Ss?this.Ss.next():Wi.at),"readwrite-primary"===t?this.fi(f).next(b=>!!b||this.di(f)).next(b=>{if(!b)throw vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Le(me.FAILED_PRECONDITION,Lv);return r(f)}).next(b=>this.wi(f).next(()=>b)):this.Vi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return k0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(me.FAILED_PRECONDITION,xC)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return k0(e).put("owner",t)}static C(){return yo.C()}_i(e){const t=k0(e);return t.get("owner").next(r=>this.mi(r)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(vr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Gt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return je("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return vr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){vr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function k0(n){return qr(n,"owner")}function qT(n){return qr(n,"clientMetadata")}function kC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class FC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=zt(),i=zt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new FC(e,t.fromCache,r,i)}}class mO{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Mi(e,t,i,r)).next(l=>l||this.Oi(e,t))}ki(e,t){if(Em(t))return de.resolve(null);let r=qi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Cm(t,null,"F"),r=qi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=zt(...l);return this.Ni.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.Fi(t,f);return this.$i(t,b,d,_.readTime)?this.ki(e,Cm(t,null,"F")):this.Bi(e,b,t,_)}))})))}Mi(e,t,r,i){return Em(t)||i.isEqual(Ot.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(l=>{const d=this.Fi(t,l);return this.$i(t,d,r,i)?this.Oi(e,t):(Nv()<=go.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yv(t)),this.Bi(e,d,t,JD(i,-1)))})}Fi(e,t){let r=new bn(DT(e));return t.forEach((i,l)=>{Sm(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Oi(e,t){return Nv()<=go.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Yv(t)),this.Ni.getDocumentsMatchingQuery(e,t,Gi.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class xP{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new lr(Vt),this.qi=new cu(l=>Zd(l),Kd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fO(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function _O(n,e,t,r){return new xP(n,e,t,r)}function yO(n,e){return LC.apply(this,arguments)}function LC(){return LC=(0,Ie.Z)(function*(n,e){const t=rt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],f=[];let _=zt();for(const b of i){d.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}for(const b of l){f.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}return t.localDocuments.getDocuments(r,_).next(b=>({ji:b,removedBatchIds:d,addedBatchIds:f}))})})}),LC.apply(this,arguments)}function PP(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,f,_,b){const E=_.batch,A=E.keys();let k=de.resolve();return A.forEach(V=>{k=k.next(()=>b.getEntry(f,V)).next(Y=>{const ae=_.docVersions.get(V);xt(null!==ae),Y.version.compareTo(ae)<0&&(E.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),b.addEntry(Y)))})}),k.next(()=>d.mutationQueue.removeMutationBatch(f,E))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=zt();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(f=f.add(d.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function vO(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function kP(n,e){const t=rt(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const f=[];e.targetChanges.forEach((E,A)=>{const k=i.get(A);if(!k)return;f.push(t.Cs.removeMatchingKeys(l,E.removedDocuments,A).next(()=>t.Cs.addMatchingKeys(l,E.addedDocuments,A)));let V=k.withSequenceNumber(l.currentSequenceNumber);var Y,ae,ye;e.targetMismatches.has(A)?V=V.withResumeToken(Fr.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,r)),i=i.insert(A,V),ae=V,ye=E,(0===(Y=k).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(l,V))});let _=Zi(),b=zt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),f.push(bO(l,d,e.documentUpdates).next(E=>{_=E.Wi,b=E.zi})),!r.isEqual(Ot.min())){const E=t.Cs.getLastRemoteSnapshotVersion(l).next(A=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(E)}return de.waitFor(f).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,_,b)).next(()=>_)}).then(l=>(t.Ui=i,l))}function bO(n,e,t){let r=zt(),i=zt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=Zi();return t.forEach((f,_)=>{const b=l.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(Ot.min())?(e.removeEntry(f,_.readTime),d=d.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),d=d.insert(f,_)):je("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{Wi:d,zi:i}})}function FP(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zm(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,de.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new fl(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function qm(n,e,t){return VC.apply(this,arguments)}function VC(){return VC=(0,Ie.Z)(function*(n,e,t){const r=rt(n),i=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!ul(d))throw d;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),VC.apply(this,arguments)}function ZT(n,e,t){const r=rt(n);let i=Ot.min(),l=zt();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,_,b){const E=rt(f),A=E.qi.get(b);return void 0!==A?de.resolve(E.Ui.get(A)):E.Cs.getTargetData(_,b)}(r,d,qi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,f.targetId).next(_=>{l=_})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:Ot.min(),t?l:zt())).next(f=>(TO(r,Jv(e),f),{documents:f,Hi:l})))}function wO(n,e){const t=rt(n),r=rt(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(d=>d?d.target:null))}function DO(n,e){const t=rt(n),r=t.Ki.get(e)||Ot.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,JD(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(TO(t,e,i),i))}function TO(n,e,t){let r=Ot.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function UC(){return UC=(0,Ie.Z)(function*(n,e,t,r){const i=rt(n);let l=zt(),d=Zi();for(const b of t){const E=e.Ji(b.metadata.name);b.document&&(l=l.add(E));const A=e.Yi(b);A.setReadTime(e.Xi(b.metadata.readTime)),d=d.insert(E,A)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield zm(i,(b=r,qi(gc(un.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>bO(b,f,d).next(E=>(f.apply(b),E)).next(E=>i.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.Cs.addMatchingKeys(b,l,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,E.Wi,E.zi)).next(()=>E.Wi)))}),UC.apply(this,arguments)}function VP(n,e){return BC.apply(this,arguments)}function BC(){return BC=(0,Ie.Z)(function*(n,e,t=zt()){const r=yield zm(n,qi(C0(e.bundledQuery))),i=rt(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Rr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(l,e);const f=r.withResumeToken(Fr.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(l,f).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),BC.apply(this,arguments)}function IO(n,e){return`firestore_clients_${n}_${e}`}function EO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jC(n,e){return`firestore_targets_${n}_${e}`}class KT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Le(i.error.code,i.error.message))),d?new KT(e,t,i.state,l):(vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class F0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Le(r.error.code,r.error.message))),l?new F0(e,r.state,i):(vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class YT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Rm();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=sT(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new YT(e,l):(vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $C{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $C(t.clientId,t.onlineState):(vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class HC{constructor(){this.activeTargetIds=Rm()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GC{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new lr(Vt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=IO(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new HC),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(IO(e.persistenceKey,i));if(l){const d=YT.Zi(i,l);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(jC(this.persistenceKey,e));if(r){const i=F0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jC(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(je("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ie.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let d=Wi.at;if(null!=l)try{const f=JSON.parse(l);xt("number"==typeof f),d=f}catch(f){vr("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==Wi.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Mr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Or(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new KT(this.currentUser,e,t,r),l=EO(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=EO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=jC(this.persistenceKey,e),l=new F0(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return YT.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return KT.Zi(new kr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return F0.Zi(i,t)}yr(e){return $C.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),d=[],f=[];return l.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Br(d,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Rm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class CO{constructor(){this.Lr=new HC,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new HC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UP{qr(e){}shutdown(){}}class SO{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const BP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class jP{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class $P extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,l){const d=this.ao(e,t);je("RestConnection","Sending: ",d,r);const f={};return this.ho(f,i,l),this.lo(e,d,f,r).then(_=>(je("RestConnection","Received: ",_),_),_=>{throw ac("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}fo(e,t,r,i,l,d){return this.co(e,t,r,i,l)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ao(e,t){return`${this.oo}/v1/${t}:${BP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((l,d)=>{const f=new $E;f.listenOnce(UE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Av.NO_ERROR:const b=f.getResponseJson();je("Connection","XHR received:",JSON.stringify(b)),l(b);break;case Av.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),d(new Le(me.DEADLINE_EXCEEDED,"Request time out"));break;case Av.HTTP_ERROR:const E=f.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',E,"response text:",f.getResponseText()),E>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const k=function(V){const Y=V.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(Y)>=0?Y:me.UNKNOWN}(A.status);d(new Le(k,A.message))}else d(new Le(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Le(me.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=VE(),d=WD(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new jE({})),this.ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=i.join("");je("Connection","Creating WebChannel: "+_,f);const b=l.createWebChannel(_,f);let E=!1,A=!1;const k=new jP({Hr:Y=>{A?je("Connection","Not sending because WebChannel is closed:",Y):(E||(je("Connection","Opening WebChannel transport."),b.open(),E=!0),je("Connection","WebChannel sending:",Y),b.send(Y))},Jr:()=>b.close()}),V=(Y,ae,ye)=>{Y.listen(ae,Be=>{try{ye(Be)}catch(ze){setTimeout(()=>{throw ze},0)}})};return V(b,_m.EventType.OPEN,()=>{A||je("Connection","WebChannel transport opened.")}),V(b,_m.EventType.CLOSE,()=>{A||(A=!0,je("Connection","WebChannel transport closed"),k.io())}),V(b,_m.EventType.ERROR,Y=>{A||(A=!0,ac("Connection","WebChannel transport errored:",Y),k.io(new Le(me.UNAVAILABLE,"The operation could not be completed")))}),V(b,_m.EventType.MESSAGE,Y=>{var ae;if(!A){const ye=Y.data[0];xt(!!ye);const Be=ye,ze=Be.error||(null===(ae=Be[0])||void 0===ae?void 0:ae.error);if(ze){je("Connection","WebChannel received error:",ze);const ht=ze.status;let Qe=function(ut){const Ht=Or[ut];if(void 0!==Ht)return oC(Ht)}(ht),et=ze.message;void 0===Qe&&(Qe=me.INTERNAL,et="Unknown error status: "+ht+" with message "+ze.message),A=!0,k.io(new Le(Qe,et)),b.close()}else je("Connection","WebChannel received:",ye),k.ro(ye)}}),V(d,BE.STAT_EVENT,Y=>{Y.stat===zD.PROXY?je("Connection","Detected buffering proxy"):Y.stat===zD.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.so()},0),k}}function AO(){return typeof window<"u"?window:null}function JT(){return typeof document<"u"?document:null}function L0(n){return new fC(n,!0)}class WC{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=l,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class NO{constructor(e,t,r,i,l,d,f,_){this.Hs=e,this.Po=r,this.vo=i,this.Vo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new WC(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Ie.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ie.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Ie.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Le(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Ie.Z)(function*(){e.state=0,e.start()}))}Qo(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HP extends NO{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=l}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function MT(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ft(),i=e.targetChange.targetIds||[],l=function(_,b){return _.gt?(xt(void 0===b||"string"==typeof b),Fr.fromBase64String(b||"")):(xt(void 0===b||b instanceof Uint8Array),Fr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const b=void 0===_.code?me.UNKNOWN:oC(_.code);return new Le(b,_.message||"")}(d);t=new a0(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=_a(n,r.document.name),l=Rr(r.document.updateTime),d=new zr({mapValue:{fields:r.document.fields}}),f=_n.newFoundDocument(i,l,d);t=new Mm(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=_a(n,r.document),l=r.readTime?Rr(r.readTime):Ot.min(),d=_n.newNoDocument(i,l);t=new Mm([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=_a(n,r.document);t=new Mm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ft();{const r=e.filter,l=new Om(r.count||0);t=new xm(r.targetId,l)}}var _;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Ot.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Ot.min():l.readTime?Rr(l.readTime):Ot.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=dp(this.It),t.addTarget=function(i,l){let d;const f=l.target;return d=rp(f)?{documents:p0(i,f)}:{query:g0(i,f)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=hl(i,l.resumeToken):l.snapshotVersion.compareTo(Ot.min())>0&&(d.readTime=yc(i,l.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function PT(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=dp(this.It),t.removeTarget=e,this.Bo(t)}}class GP extends NO{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function xT(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let l=Rr(r.updateTime?r.updateTime:i);return l.isEqual(Ot.min())&&(l=Rr(i)),new eO(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.Zo(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=dp(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>km(this.It,r))};this.Bo(t)}}class WP extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.Vo.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(me.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.Vo.fo(e,t,r,l,d,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Le(me.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class zP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(vr(t),this.ou=!1):je("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class qP{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(f=>{r.enqueueAndForget((0,Ie.Z)(function*(){var _;uh(d)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ie.Z)(function*(b){const E=rt(b);E._u.add(4),yield Zm(E),E.gu.set("Unknown"),E._u.delete(4),yield V0(E)}),function(b){return _.apply(this,arguments)})(d))}))}),this.gu=new zP(r,i)}}function V0(n){return zC.apply(this,arguments)}function zC(){return zC=(0,Ie.Z)(function*(n){if(uh(n))for(const e of n.wu)yield e(!0)}),zC.apply(this,arguments)}function Zm(n){return qC.apply(this,arguments)}function qC(){return qC=(0,Ie.Z)(function*(n){for(const e of n.wu)yield e(!1)}),qC.apply(this,arguments)}function QT(n,e){const t=rt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),YC(t)?KC(t):Ym(t).ko()&&ZC(t,e))}function U0(n,e){const t=rt(n),r=Ym(t);t.du.delete(e),r.ko()&&OO(t,e),0===t.du.size&&(r.ko()?r.Fo():uh(t)&&t.gu.set("Unknown"))}function ZC(n,e){n.yu.Ot(e.targetId),Ym(n).zo(e)}function OO(n,e){n.yu.Ot(e),Ym(n).Ho(e)}function KC(n){n.yu=new dC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Ym(n).start(),n.gu.uu()}function YC(n){return uh(n)&&!Ym(n).No()&&n.du.size>0}function uh(n){return 0===rt(n)._u.size}function RO(n){n.yu=void 0}function ZP(n){return JC.apply(this,arguments)}function JC(){return JC=(0,Ie.Z)(function*(n){n.du.forEach((e,t)=>{ZC(n,e)})}),JC.apply(this,arguments)}function KP(n,e){return QC.apply(this,arguments)}function QC(){return QC=(0,Ie.Z)(function*(n,e){RO(n),YC(n)?(n.gu.hu(e),KC(n)):n.gu.set("Unknown")}),QC.apply(this,arguments)}function YP(n,e,t){return XC.apply(this,arguments)}function XC(){return XC=(0,Ie.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof a0&&2===e.state&&e.cause)try{yield(r=(0,Ie.Z)(function*(i,l){const d=l.cause;for(const f of l.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i.du.delete(f),i.yu.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield XT(n,r)}else if(e instanceof Mm?n.yu.Gt(e):e instanceof xm?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Ot.min()))try{const r=yield vO(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.yu.te(l);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.du.get(_);b&&i.du.set(_,b.withResumeToken(f.resumeToken,l))}}),d.targetMismatches.forEach(f=>{const _=i.du.get(f);if(!_)return;i.du.set(f,_.withResumeToken(Fr.EMPTY_BYTE_STRING,_.snapshotVersion)),OO(i,f);const b=new fl(_.target,f,1,_.sequenceNumber);ZC(i,b)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){je("RemoteStore","Failed to raise snapshot:",r),yield XT(n,r)}var r}),XC.apply(this,arguments)}function XT(n,e,t){return eS.apply(this,arguments)}function eS(){return eS=(0,Ie.Z)(function*(n,e,t){if(!ul(e))throw e;n._u.add(1),yield Zm(n),n.gu.set("Offline"),t||(t=()=>vO(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield V0(n)}))}),eS.apply(this,arguments)}function MO(n,e){return e().catch(t=>XT(n,t,e))}function Km(n){return tS.apply(this,arguments)}function tS(){return tS=(0,Ie.Z)(function*(n){const e=rt(n),t=ch(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;JP(e);)try{const i=yield FP(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,QP(e,i)}catch(i){yield XT(e,i)}xO(e)&&PO(e)}),tS.apply(this,arguments)}function JP(n){return uh(n)&&n.fu.length<10}function QP(n,e){n.fu.push(e);const t=ch(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function xO(n){return uh(n)&&!ch(n).No()&&n.fu.length>0}function PO(n){ch(n).start()}function XP(n){return nS.apply(this,arguments)}function nS(){return nS=(0,Ie.Z)(function*(n){ch(n).eu()}),nS.apply(this,arguments)}function ek(n){return rS.apply(this,arguments)}function rS(){return rS=(0,Ie.Z)(function*(n){const e=ch(n);for(const t of n.fu)e.Xo(t.mutations)}),rS.apply(this,arguments)}function tk(n,e,t){return iS.apply(this,arguments)}function iS(){return iS=(0,Ie.Z)(function*(n,e,t){const r=n.fu.shift(),i=T0.from(r,e,t);yield MO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Km(n)}),iS.apply(this,arguments)}function nk(n,e){return sS.apply(this,arguments)}function sS(){return sS=(0,Ie.Z)(function*(n,e){var t;e&&ch(n).Yo&&(yield(t=(0,Ie.Z)(function*(r,i){if(sC(l=i.code)&&l!==me.ABORTED){const d=r.fu.shift();ch(r).Oo(),yield MO(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Km(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),xO(n)&&PO(n)}),sS.apply(this,arguments)}function kO(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,Ie.Z)(function*(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=uh(t);t._u.add(3),yield Zm(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield V0(t)}),oS.apply(this,arguments)}function aS(n,e){return lS.apply(this,arguments)}function lS(){return lS=(0,Ie.Z)(function*(n,e){const t=rt(n);e?(t._u.delete(2),yield V0(t)):e||(t._u.add(2),yield Zm(t),t.gu.set("Unknown"))}),lS.apply(this,arguments)}function Ym(n){return n.pu||(n.pu=function(e,t,r){const i=rt(e);return i.su(),new HP(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:ZP.bind(null,n),Zr:KP.bind(null,n),Wo:YP.bind(null,n)}),n.wu.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.pu.Oo(),YC(n)?KC(n):n.gu.set("Unknown")):(yield n.pu.stop(),RO(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function ch(n){return n.Iu||(n.Iu=function(e,t,r){const i=rt(e);return i.su(),new GP(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:XP.bind(null,n),Zr:nk.bind(null,n),tu:ek.bind(null,n),Zo:tk.bind(null,n)}),n.wu.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.Iu.Oo(),yield Km(n)):(yield n.Iu.stop(),n.fu.length>0&&(je("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class uS{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,f=new uS(e,t,d,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(n,e){if(vr("AsyncQueue",`${e}: ${n}`),ul(n))return new Le(me.UNAVAILABLE,`${e}: ${n}`);throw n}class Qm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=up(),this.sortedSet=new lr(this.comparator)}static emptySet(e){return new Qm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Qm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class FO{constructor(){this.Tu=new lr(Xe.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ft():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Xm{constructor(e,t,r,i,l,d,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Xm(e,t,Qm.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class rk{constructor(){this.Au=void 0,this.listeners=[]}}class ik{constructor(){this.queries=new cu(e=>Kv(e),Jd),this.onlineState="Unknown",this.Ru=new Set}}function cS(n,e){return dS.apply(this,arguments)}function dS(){return dS=(0,Ie.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new rk),i)try{l.Au=yield t.onListen(r)}catch(d){const f=Jm(d,`Initialization of query '${Yv(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&pS(t)}),dS.apply(this,arguments)}function hS(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,Ie.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),fS.apply(this,arguments)}function sk(n,e){const t=rt(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Pu(i)&&(r=!0);d.Au=i}}r&&pS(t)}function ok(n,e,t){const r=rt(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function pS(n){n.Ru.forEach(e=>{e.next()})}class gS{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Xm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Xm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class ak{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class LO{constructor(e){this.It=e}Ji(e){return _a(this.It,e)}Yi(e){return e.metadata.exists?f0(this.It,e.document,!1):_n.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Rr(e)}}class lk{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=VO(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=un.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new LO(this.It);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||zt()).add(l);t.set(d,f)}}return t}complete(){var e=this;return(0,Ie.Z)(function*(){const t=yield function LP(n,e,t,r){return UC.apply(this,arguments)}(e.localStore,new LO(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const i of e.queries)yield VP(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function VO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class UO{constructor(e){this.key=e}}class BO{constructor(e){this.key=e}}class jO{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=zt(),this.mutatedKeys=zt(),this.Ku=DT(e),this.Gu=new Qm(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new FO,i=t?t.Gu:this.Gu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((E,A)=>{const k=i.get(E),V=Sm(this.query,A)?A:null,Y=!!k&&this.mutatedKeys.has(k.key),ae=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let ye=!1;k&&V?k.data.isEqual(V.data)?Y!==ae&&(r.track({type:3,doc:V}),ye=!0):this.zu(k,V)||(r.track({type:2,doc:V}),ye=!0,(_&&this.Ku(V,_)>0||b&&this.Ku(V,b)<0)&&(f=!0)):!k&&V?(r.track({type:0,doc:V}),ye=!0):k&&!V&&(r.track({type:1,doc:k}),ye=!0,(_||b)&&(f=!0)),ye&&(V?(d=d.add(V),l=ae?l.add(E):l.delete(E)):(d=d.delete(E),l=l.delete(E)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const E="F"===this.query.limitType?d.last():d.first();d=d.delete(E.key),l=l.delete(E.key),r.track({type:1,doc:E})}return{Gu:d,Wu:r,$i:f,mutatedKeys:l}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const l=e.Wu.Eu();l.sort((b,E)=>function(A,k){const V=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return V(A)-V(k)}(b.type,E.type)||this.Ku(b.doc,E.doc)),this.Hu(r);const d=t?this.Ju():[],f=0===this.qu.size&&this.current?1:0,_=f!==this.Uu;return this.Uu=f,0!==l.length||_?{snapshot:new Xm(this.query,e.Gu,i,l,e.mutatedKeys,0===f,_,!1),Yu:d}:{Yu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new FO,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=zt(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new BO(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new UO(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=zt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Xm.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class uk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ck{constructor(e){this.key=e,this.ec=!1}}class dk{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.nc={},this.sc=new cu(f=>Kv(f),Jd),this.ic=new Map,this.rc=new Set,this.oc=new lr(Xe.comparator),this.uc=new Map,this.cc=new MC,this.ac={},this.hc=new Map,this.lc=xe.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function hk(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,Ie.Z)(function*(n,e){const t=US(n);let r,i;const l=t.sc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.tc();else{const d=yield zm(t.localStore,qi(e));t.isPrimaryClient&&QT(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield _S(t,e,r,"current"===f)}return i}),mS.apply(this,arguments)}function _S(n,e,t,r){return yS.apply(this,arguments)}function yS(){return yS=(0,Ie.Z)(function*(n,e,t,r){n.dc=(E,A,k)=>{return(V=(0,Ie.Z)(function*(Y,ae,ye,Be){let ze=ae.view.ju(ye);ze.$i&&(ze=yield ZT(Y.localStore,ae.query,!1).then(({documents:et})=>ae.view.ju(et,ze)));const ht=Be&&Be.targetChanges.get(ae.targetId),Qe=ae.view.applyChanges(ze,Y.isPrimaryClient,ht);return AS(Y,ae.targetId,Qe.Yu),Qe.snapshot}),function(Y,ae,ye,Be){return V.apply(this,arguments)})(n,E,A,k);var V};const i=yield ZT(n.localStore,e,!0),l=new jO(e,i.Hi),d=l.ju(i.documents),f=cp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=l.applyChanges(d,n.isPrimaryClient,f);AS(n,t,_.Yu);const b=new uk(e,t,l);return n.sc.set(e,b),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),_.snapshot}),yS.apply(this,arguments)}function fk(n,e){return vS.apply(this,arguments)}function vS(){return vS=(0,Ie.Z)(function*(n,e){const t=rt(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(l=>!Jd(l,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield qm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),U0(t.remoteStore,r.targetId),e_(t,r.targetId)}).catch(su))):(e_(t,r.targetId),yield qm(t.localStore,r.targetId,!0))}),vS.apply(this,arguments)}function bS(){return bS=(0,Ie.Z)(function*(n,e,t){const r=BS(n);try{const i=yield function(l,d){const f=rt(l),_=Wn.now(),b=d.reduce((k,V)=>k.add(V.key),zt());let E,A;return f.persistence.runTransaction("Locally write mutations","readwrite",k=>{let V=Zi(),Y=zt();return f.Gi.getEntries(k,b).next(ae=>{V=ae,V.forEach((ye,Be)=>{Be.isValidDocument()||(Y=Y.add(ye))})}).next(()=>f.localDocuments.getOverlayedDocuments(k,V)).next(ae=>{E=ae;const ye=[];for(const Be of d){const ze=tO(Be,E.get(Be.key).overlayedDocument);null!=ze&&ye.push(new dl(Be.key,ze,Ti(ze.value.mapValue),Mn.exists(!0)))}return f.mutationQueue.addMutationBatch(k,_,ye,d)}).next(ae=>{A=ae;const ye=ae.applyToLocalDocumentSet(E,Y);return f.documentOverlayCache.saveOverlays(k,ae.batchId,ye)})}).then(()=>({batchId:A.batchId,changes:s0(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,f){let _=l.ac[l.currentUser.toKey()];_||(_=new lr(Vt)),_=_.insert(d,f),l.ac[l.currentUser.toKey()]=_}(r,i.batchId,t),yield Dc(r,i.changes),yield Km(r.remoteStore)}catch(i){const l=Jm(i,"Failed to persist write");t.reject(l)}}),bS.apply(this,arguments)}function $O(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,Ie.Z)(function*(n,e){const t=rt(n);try{const r=yield kP(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.uc.get(l);d&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.ec=!0:i.modifiedDocuments.size>0?xt(d.ec):i.removedDocuments.size>0&&(xt(d.ec),d.ec=!1))}),yield Dc(t,r,e)}catch(r){yield su(r)}}),wS.apply(this,arguments)}function HO(n,e,t){const r=rt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((l,d)=>{const f=d.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(l,d){const f=rt(l);f.onlineState=d;let _=!1;f.queries.forEach((b,E)=>{for(const A of E.listeners)A.bu(d)&&(_=!0)}),_&&pS(f)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gk(n,e,t){return DS.apply(this,arguments)}function DS(){return DS=(0,Ie.Z)(function*(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),l=i&&i.key;if(l){let d=new lr(Xe.comparator);d=d.insert(l,_n.newNoDocument(l,Ot.min()));const f=zt().add(l),_=new _c(Ot.min(),new Map,new bn(Vt),d,f);yield $O(r,_),r.oc=r.oc.remove(l),r.uc.delete(e),NS(r)}else yield qm(r.localStore,e,!1).then(()=>e_(r,e,t)).catch(su)}),DS.apply(this,arguments)}function mk(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,Ie.Z)(function*(n,e){const t=rt(n),r=e.batch.batchId;try{const i=yield PP(t.localStore,e);SS(t,r,null),CS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Dc(t,i)}catch(i){yield su(i)}}),TS.apply(this,arguments)}function _k(n,e,t){return IS.apply(this,arguments)}function IS(){return IS=(0,Ie.Z)(function*(n,e,t){const r=rt(n);try{const i=yield function(l,d){const f=rt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,d).next(E=>(xt(null!==E),b=E.keys(),f.mutationQueue.removeMutationBatch(_,E))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(r.localStore,e);SS(r,e,t),CS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Dc(r,i)}catch(i){yield su(i)}}),IS.apply(this,arguments)}function ES(){return ES=(0,Ie.Z)(function*(n,e){const t=rt(n);uh(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=rt(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.hc.get(r)||[];i.push(e),t.hc.set(r,i)}catch(r){const i=Jm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),ES.apply(this,arguments)}function CS(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function SS(n,e,t){const r=rt(n);let i=r.ac[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function e_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||GO(n,r)})}function GO(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(U0(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),NS(n))}function AS(n,e,t){for(const r of t)r instanceof UO?(n.cc.addReference(r.key,e),vk(n,r)):r instanceof BO?(je("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||GO(n,r.key)):ft()}function vk(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(je("SyncEngine","New document in limbo: "+t),n.rc.add(r),NS(n))}function NS(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Xe(un.fromString(e)),r=n.lc.next();n.uc.set(r,new ck(t)),n.oc=n.oc.insert(t,r),QT(n.remoteStore,new fl(qi(gc(t.path)),r,2,Wi.at))}}function Dc(n,e,t){return OS.apply(this,arguments)}function OS(){return OS=(0,Ie.Z)(function*(n,e,t){const r=rt(n),i=[],l=[],d=[];var f;r.sc.isEmpty()||(r.sc.forEach((f,_)=>{d.push(r.dc(_,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),i.push(b);const E=FC.Ci(_.targetId,b);l.push(E)}}))}),yield Promise.all(d),r.nc.Wo(i),yield(f=(0,Ie.Z)(function*(_,b){const E=rt(_);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>de.forEach(b,k=>de.forEach(k.Si,V=>E.persistence.referenceDelegate.addReference(A,k.targetId,V)).next(()=>de.forEach(k.Di,V=>E.persistence.referenceDelegate.removeReference(A,k.targetId,V)))))}catch(A){if(!ul(A))throw A;je("LocalStore","Failed to update sequence numbers: "+A)}for(const A of b){const k=A.targetId;if(!A.fromCache){const V=E.Ui.get(k),ae=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);E.Ui=E.Ui.insert(k,ae)}}}),function(_,b){return f.apply(this,arguments)})(r.localStore,l))}),OS.apply(this,arguments)}function bk(n,e){return RS.apply(this,arguments)}function RS(){return RS=(0,Ie.Z)(function*(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=yield yO(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(d=>{d.forEach(f=>{f.reject(new Le(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Dc(t,r.ji)}var i}),RS.apply(this,arguments)}function wk(n,e){const t=rt(n),r=t.uc.get(e);if(r&&r.ec)return zt().add(r.key);{let i=zt();const l=t.ic.get(e);if(!l)return i;for(const d of l){const f=t.sc.get(d);i=i.unionWith(f.view.Qu)}return i}}function Dk(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,Ie.Z)(function*(n,e){const t=rt(n),r=yield ZT(t.localStore,e.query,!0),i=e.view.Zu(r);return t.isPrimaryClient&&AS(t,e.targetId,i.Yu),i}),MS.apply(this,arguments)}function Tk(n,e){return xS.apply(this,arguments)}function xS(){return xS=(0,Ie.Z)(function*(n,e){const t=rt(n);return DO(t.localStore,e).then(r=>Dc(t,r))}),xS.apply(this,arguments)}function Ik(n,e,t,r){return PS.apply(this,arguments)}function PS(){return PS=(0,Ie.Z)(function*(n,e,t,r){const i=rt(n),l=yield function(d,f){const _=rt(d),b=rt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",E=>b.Tn(E,f).next(A=>A?_.localDocuments.getDocuments(E,A):de.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield Km(i.remoteStore):"acknowledged"===t||"rejected"===t?(SS(i,e,r||null),CS(i,e),f=e,rt(rt(i.localStore).mutationQueue).An(f)):ft(),yield Dc(i,l)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),PS.apply(this,arguments)}function kS(){return kS=(0,Ie.Z)(function*(n,e){const t=rt(n);if(US(t),BS(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield WO(t,r.toArray());t.fc=!0,yield aS(t.remoteStore,!0);for(const l of i)QT(t.remoteStore,l)}else if(!1===e&&!1!==t.fc){const r=[];let i=Promise.resolve();t.ic.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(e_(t,d),qm(t.localStore,d,!0))),U0(t.remoteStore,d)}),yield i,yield WO(t,r),function(l){const d=rt(l);d.uc.forEach((f,_)=>{U0(d.remoteStore,_)}),d.cc.fs(),d.uc=new Map,d.oc=new lr(Xe.comparator)}(t),t.fc=!1,yield aS(t.remoteStore,!1)}}),kS.apply(this,arguments)}function WO(n,e,t){return FS.apply(this,arguments)}function FS(){return FS=(0,Ie.Z)(function*(n,e,t){const r=rt(n),i=[],l=[];for(const d of e){let f;const _=r.ic.get(d);if(_&&0!==_.length){f=yield zm(r.localStore,qi(_[0]));for(const b of _){const E=r.sc.get(b),A=yield Dk(r,E);A.snapshot&&l.push(A.snapshot)}}else{const b=yield wO(r.localStore,d);f=yield zm(r.localStore,b),yield _S(r,zO(b),d,!1)}i.push(f)}return r.nc.Wo(l),i}),FS.apply(this,arguments)}function zO(n){return vT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Ck(n){const e=rt(n);return rt(rt(e.localStore).persistence).vi()}function Sk(n,e,t,r){return LS.apply(this,arguments)}function LS(){return LS=(0,Ie.Z)(function*(n,e,t,r){const i=rt(n);if(i.fc)return void je("SyncEngine","Ignoring unexpected query state notification.");const l=i.ic.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield DO(i.localStore,Jv(l[0])),f=_c.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Dc(i,d,f);break}case"rejected":yield qm(i.localStore,e,!0),e_(i,e,r);break;default:ft()}}),LS.apply(this,arguments)}function Ak(n,e,t){return VS.apply(this,arguments)}function VS(){return VS=(0,Ie.Z)(function*(n,e,t){const r=US(n);if(r.fc){for(const i of e){if(r.ic.has(i)){je("SyncEngine","Adding an already active target "+i);continue}const l=yield wO(r.localStore,i),d=yield zm(r.localStore,l);yield _S(r,zO(l),d.targetId,!1),QT(r.remoteStore,d)}for(const i of t)r.ic.has(i)&&(yield qm(r.localStore,i,!1).then(()=>{U0(r.remoteStore,i),e_(r,i)}).catch(su))}}),VS.apply(this,arguments)}function US(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$O.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gk.bind(null,e),e.nc.Wo=sk.bind(null,e.eventManager),e.nc._c=ok.bind(null,e.eventManager),e}function BS(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_k.bind(null,e),e}class qO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ie.Z)(function*(){t.It=L0(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return _O(this.persistence,new mO,e.initialUser,this.It)}gc(e){return new pO(zT.Bs,this.It)}mc(e){return new CO}terminate(){var e=this;return(0,Ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ZO extends qO{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield BS(r.Ec.syncEngine),yield Km(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return _O(this.persistence,new mO,e.initialUser,this.It)}Ic(e,t){return new O0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new JN(t,this.persistence);return new ZE(e.asyncQueue,r)}gc(e){const t=kC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?F.withCacheSize(this.cacheSizeBytes):F.DEFAULT;return new PC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,AO(),JT(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new CO}}class Ok extends ZO{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e);const i=r.Ec.syncEngine;r.sharedClientState instanceof GC&&(r.sharedClientState.syncEngine={Fr:Ik.bind(null,i),$r:Sk.bind(null,i),Br:Ak.bind(null,i),vi:Ck.bind(null,i),Or:Tk.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,Ie.Z)(function*(d){yield function Ek(n,e){return kS.apply(this,arguments)}(r.Ec.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}mc(e){const t=AO();if(!GC.C(t))throw new Le(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=kC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new GC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class jS{initialize(e,t){var r=this;return(0,Ie.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>HO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=bk.bind(null,r.syncEngine),yield aS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ik}createDatastore(e){const t=L0(e.databaseInfo.databaseId),r=new $P(e.databaseInfo);return new WP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>HO(this.syncEngine,f,0),d=SO.C()?new SO:new UP,new qP(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,f,_,b){const E=new dk(r,i,l,d,f,_);return b&&(E.fc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ie.Z)(function*(t){const r=rt(t);je("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Zm(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function KO(n,e=10240){let t=0;return{read:()=>(0,Ie.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class e1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Rk{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Wr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),i=Number(r);isNaN(i)&&e.Sc(`length string (${r}) is not valid number`);const l=yield e.Dc(i);return new ak(JSON.parse(l),t.length+i)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Ie.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,Ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Mk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ie.Z)(function*(l,d){const f=rt(l),_=dp(f.It)+"/documents",b={documents:d.map(V=>Pm(f.It,V))},E=yield f.fo("BatchGetDocuments",_,b,d.length),A=new Map;E.forEach(V=>{const Y=function gC(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=_a(t,r.found.name),l=Rr(r.found.updateTime),d=new zr({mapValue:{fields:r.found.fields}});return _n.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=_a(t,r.missing),l=Rr(r.readTime);return _n.newNoDocument(i,l)}(n,e):ft()}(f.It,V);A.set(Y.key.toString(),Y)});const k=[];return d.forEach(V=>{const Y=A.get(V.toString());xt(!!Y),k.push(Y)}),k}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new nh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=Xe.fromPath(i);e.mutations.push(new r0(l,e.precondition(l)))}),yield(r=(0,Ie.Z)(function*(i,l){const d=rt(i),f=dp(d.It)+"/documents",_={writes:l.map(b=>km(d.It,b))};yield d.co("Commit",f,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=Ot.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Le(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ot.min())?Mn.exists(!1):Mn.updateTime(t):Mn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ot.min()))throw new Le(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mn.updateTime(t)}return Mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xk{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.Nc=r.maxAttempts,this.xo=new WC(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Ie.Z)(function*(){const t=new Mk(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Oc(l)}))}).catch(i=>{e.Oc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Gd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!sC(t)}return!1}}class Pk{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=xv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ie.Z)(function*(f){je("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(je("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Jm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function YO(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ie.Z)(function*(l){r.isEqual(l)||(yield yO(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),$S.apply(this,arguments)}function JO(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield GS(n);je("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>kO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>kO(e.remoteStore,l)),n.onlineComponents=e}),HS.apply(this,arguments)}function GS(n){return WS.apply(this,arguments)}function WS(){return WS=(0,Ie.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield YO(n,new qO)),n.offlineComponents}),WS.apply(this,arguments)}function t1(n){return zS.apply(this,arguments)}function zS(){return zS=(0,Ie.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield JO(n,new jS)),n.onlineComponents}),zS.apply(this,arguments)}function QO(n){return GS(n).then(e=>e.persistence)}function n1(n){return GS(n).then(e=>e.localStore)}function XO(n){return t1(n).then(e=>e.remoteStore)}function qS(n){return t1(n).then(e=>e.syncEngine)}function t_(n){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,Ie.Z)(function*(n){const e=yield t1(n),t=e.eventManager;return t.onListen=hk.bind(null,e.syncEngine),t.onUnlisten=fk.bind(null,e.syncEngine),t}),ZS.apply(this,arguments)}function eR(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(i,l,d,f,_){const b=new e1({next:A=>{l.enqueueAndForget(()=>hS(i,E));const k=A.docs.has(d);!k&&A.fromCache?_.reject(new Le(me.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&f&&"server"===f.source?_.reject(new Le(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),E=new gS(gc(d.path),b,{includeMetadataChanges:!0,Nu:!0});return cS(i,E)}(yield t_(n),n.asyncQueue,e,t,r)})),r.promise}function tR(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(i,l,d,f,_){const b=new e1({next:A=>{l.enqueueAndForget(()=>hS(i,E)),A.fromCache&&"server"===f.source?_.reject(new Le(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),E=new gS(d,b,{includeMetadataChanges:!0,Nu:!0});return cS(i,E)}(yield t_(n),n.asyncQueue,e,t,r)})),r.promise}const nR=new Map;function KS(n,e,t){if(!t)throw new Le(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rR(n,e,t,r){if(!0===e&&!0===r)throw new Le(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iR(n){if(!Xe.isDocumentKey(n))throw new Le(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sR(n){if(Xe.isDocumentKey(n))throw new Le(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function r1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=r1(n);throw new Le(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function oR(n,e){if(e<=0)throw new Le(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class aR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class B0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Bd;switch(t.type){case"gapi":return new KD(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Le(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nR.get(e);t&&(je("ComponentProvider","Removing Datastore"),nR.delete(e),t.terminate())}(this),Promise.resolve()}}class or{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}}class Ji{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class hu extends Ji{constructor(e,t,r){super(e,t,gc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new Xe(e))}withConverter(e){return new hu(this.firestore,e,this._path)}}function lR(n,e,...t){if(n=(0,Gt.m9)(n),KS("collection","path",e),n instanceof B0){const r=un.fromString(e,...t);return sR(r),new hu(n,null,r)}{if(!(n instanceof or||n instanceof hu))throw new Le(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return sR(r),new hu(n.firestore,null,r)}}function i1(n,e,...t){if(n=(0,Gt.m9)(n),1===arguments.length&&(e=xv.R()),KS("doc","path",e),n instanceof B0){const r=un.fromString(e,...t);return iR(r),new or(n,null,new Xe(r))}{if(!(n instanceof or||n instanceof hu))throw new Le(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return iR(r),new or(n.firestore,n instanceof hu?n.converter:null,new Xe(r))}}function uR(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),(n instanceof or||n instanceof hu)&&(e instanceof or||e instanceof hu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function cR(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),n instanceof Ji&&e instanceof Ji&&n.firestore===e.firestore&&Jd(n._query,e._query)&&n.converter===e.converter}class Wk{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new WC(this,"async_queue_retry"),this.jc=()=>{const t=JT();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=JT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=JT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Wr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!ul(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,vr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=uS.createAndSchedule(this,e,t,r,l=>this.Jc(l));return this.Uc.push(i),i}Wc(){this.qc&&ft()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Ie.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function YS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class zk{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ur extends B0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Wk,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dR(this),this._firestoreClient.terminate()}}function Zk(n,e){const t="object"==typeof n?n:(0,Jn.getApp)(),r="string"==typeof n?n:e||"(default)";return(0,Jn._getProvider)(t,"firestore").getImmediate({identifier:r})}function Zr(n){return n._firestoreClient||dR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dR(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new iT(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new Pk(n._authCredentials,n._appCheckCredentials,n._queue,r)}function hR(n,e,t){const r=new Wr;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield YO(n,t),yield JO(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(d=l).name?d.code===me.FAILED_PRECONDITION||d.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;ac("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var d})).then(()=>r.promise)}function fR(n){if(n._initialized||n._terminated)throw new Le(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(Fr.fromBase64String(e))}catch(t){throw new Le(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fu(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mp{constructor(e){this._methodName=e}}class s1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}const rF=/^__.*__$/;class iF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new dl(e,this.data,this.fieldMask,t,this.fieldTransforms):new mc(e,this.data,t,this.fieldTransforms)}}class pR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new dl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class o1{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===l&&this.ea(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new o1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return u1(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(gR(this.na)&&rF.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class sF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||L0(e)}fa(e,t,r,i=!1){return new o1({na:e,methodName:t,la:r,path:ar.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function _p(n){const e=n._freezeSettings(),t=L0(n._databaseId);return new sF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function a1(n,e,t,r,i,l={}){const d=n.fa(l.merge||l.mergeFields?2:0,e,t,i);eA("Data must be an object, but it was:",d,r);const f=yR(r,d);let _,b;if(l.merge)_=new Oi(d.fieldMask),b=d.fieldTransforms;else if(l.mergeFields){const E=[];for(const A of l.mergeFields){const k=tA(e,A,t);if(!d.contains(k))throw new Le(me.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);bR(E,k)||E.push(k)}_=new Oi(E),b=d.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,b=d.fieldTransforms;return new iF(new zr(f),_,b)}class j0 extends mp{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof j0}}function mR(n,e,t){return new o1({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class JS extends mp{_toFieldTransform(e){return new Am(e.path,new Qd)}isEqual(e){return e instanceof JS}}class oF extends mp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=mR(this,e,!0),r=this.da.map(l=>yp(l,t)),i=new Xd(r);return new Am(e.path,i)}isEqual(e){return this===e}}class aF extends mp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=mR(this,e,!0),r=this.da.map(l=>yp(l,t)),i=new eh(r);return new Am(e.path,i)}isEqual(e){return this===e}}class lF extends mp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new op(e.It,Xv(e.It,this._a));return new Am(e.path,t)}isEqual(e){return this===e}}function QS(n,e,t,r){const i=n.fa(1,e,t);eA("Data must be an object, but it was:",i,r);const l=[],d=zr.empty();cc(r,(_,b)=>{const E=l1(e,_,t);b=(0,Gt.m9)(b);const A=i.ua(E);if(b instanceof j0)l.push(E);else{const k=yp(b,A);null!=k&&(l.push(E),d.set(E,k))}});const f=new Oi(l);return new pR(d,f,i.fieldTransforms)}function XS(n,e,t,r,i,l){const d=n.fa(1,e,t),f=[tA(e,r,t)],_=[i];if(l.length%2!=0)throw new Le(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<l.length;k+=2)f.push(tA(e,l[k])),_.push(l[k+1]);const b=[],E=zr.empty();for(let k=f.length-1;k>=0;--k)if(!bR(b,f[k])){const V=f[k];let Y=_[k];Y=(0,Gt.m9)(Y);const ae=d.ua(V);if(Y instanceof j0)b.push(V);else{const ye=yp(Y,ae);null!=ye&&(b.push(V),E.set(V,ye))}}const A=new Oi(b);return new pR(E,A,d.fieldTransforms)}function _R(n,e,t,r=!1){return yp(t,n.fa(r?4:3,e))}function yp(n,e){if(vR(n=(0,Gt.m9)(n)))return eA("Unsupported field value:",e,n),yR(n,e);if(n instanceof mp)return function(t,r){if(!gR(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let f=yp(d,r.ca(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Gt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xv(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Wn.fromDate(t);return{timestampValue:yc(r.It,i)}}if(t instanceof Wn){const i=new Wn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:yc(r.It,i)}}if(t instanceof s1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fu)return{bytesValue:hl(r.It,t._byteString)};if(t instanceof or){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.aa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Do(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${r1(t)}`)}(n,e)}function yR(n,e){const t={};return nT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cc(n,(r,i)=>{const l=yp(i,e.ia(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function vR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Wn||n instanceof s1||n instanceof fu||n instanceof or||n instanceof mp)}function eA(n,e,t){if(!vR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=r1(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function tA(n,e,t){if((e=(0,Gt.m9)(e))instanceof Tc)return e._internalPath;if("string"==typeof e)return l1(n,e);throw u1("Field path arguments must be of type string or ",n,!1,void 0,t)}const uF=new RegExp("[~\\*/\\[\\]]");function l1(n,e,t){if(e.search(uF)>=0)throw u1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tc(...e.split("."))._internalPath}catch{throw u1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function u1(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||d)&&(_+=" (found",l&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new Le(me.INVALID_ARGUMENT,f+n+_)}function bR(n,e){return n.some(t=>t.isEqual(e))}class $0{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(c1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cF extends $0{data(){return super.data()}}function c1(n,e){return"string"==typeof e?l1(n,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}class vp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ic extends $0{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new H0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(c1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class H0 extends Ic{data(e={}){return super.data(e)}}class dh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new vp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new H0(this._firestore,this._userDataWriter,r.key,r,new vp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new H0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new vp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new H0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new vp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==d.type&&(_=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),b=l.indexOf(d.doc.key)),{type:dF(d.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function wR(n,e){return n instanceof Ic&&e instanceof Ic?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof dh&&e instanceof dh&&n._firestore===e._firestore&&cR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function DR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G0{}function hh(n,...e){for(const t of e)n=t._apply(n);return n}class hF extends G0{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=_p(e.firestore),r=function(i,l,d,f,_,b,E){let A;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Le(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){AR(E,b);const V=[];for(const Y of E)V.push(SR(f,i,Y));A={arrayValue:{values:V}}}else A=SR(f,i,E)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||AR(E,b),A=_R(d,"where",E,"in"===b||"not-in"===b);const k=oi.create(_,b,A);return function(V,Y){if(Y.dt()){const ye=Zv(V);if(null!==ye&&!ye.isEqual(Y.field))throw new Le(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ye.toString()}' and '${Y.field.toString()}'`);const Be=bT(V);null!==Be&&NR(0,Y.field,Be)}const ae=function(ye,Be){for(const ze of ye.filters)if(Be.indexOf(ze.op)>=0)return ze.op;return null}(V,function(ye){switch(ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Y.op));if(null!==ae)throw new Le(me.INVALID_ARGUMENT,ae===Y.op?`Invalid query. You cannot use more than one '${Y.op.toString()}' filter.`:`Invalid query. You cannot use '${Y.op.toString()}' filters with '${ae.toString()}' filters.`)}(i,k),k}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Ji(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new zi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class pF extends G0{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Le(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Le(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new ip(i,l);return function(f,_){if(null===bT(f)){const b=Zv(f);null!==b&&NR(0,b,_.field)}}(r,d),d}(e._query,this.wa,this.ya);return new Ji(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new zi(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class TR extends G0{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new Ji(e.firestore,e.converter,Cm(e._query,this.pa,this.Ia))}}class IR extends G0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=CR(e,this.type,this.Ta,this.Ea);return new Ji(e.firestore,e.converter,(i=t,new zi((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class ER extends G0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=CR(e,this.type,this.Ta,this.Ea);return new Ji(e.firestore,e.converter,(i=t,new zi((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function CR(n,e,t,r){if(t[0]=(0,Gt.m9)(t[0]),t[0]instanceof $0)return function(i,l,d,f,_){if(!f)throw new Le(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const b=[];for(const E of Yd(i))if(E.field.isKeyField())b.push(fc(l,f.key));else{const A=f.data.field(E.field);if(jv(A))throw new Le(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const k=E.field.canonicalString();throw new Le(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}b.push(A)}return new ma(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=_p(n.firestore);return function(l,d,f,_,b,E){const A=l.explicitOrderBy;if(b.length>A.length)throw new Le(me.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let V=0;V<b.length;V++){const Y=b[V];if(A[V].field.isKeyField()){if("string"!=typeof Y)throw new Le(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Y}`);if(!wT(l)&&-1!==Y.indexOf("/"))throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Y}' contains a slash.`);const ae=l.path.child(un.fromString(Y));if(!Xe.isDocumentKey(ae))throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const ye=new Xe(ae);k.push(fc(d,ye))}else{const ae=_R(f,_,Y);k.push(ae)}}return new ma(k,E)}(n._query,n.firestore._databaseId,i,e,t,r)}}function SR(n,e,t){if("string"==typeof(t=(0,Gt.m9)(t))){if(""===t)throw new Le(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wT(e)&&-1!==t.indexOf("/"))throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(un.fromString(t));if(!Xe.isDocumentKey(r))throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fc(n,new Xe(r))}if(t instanceof or)return fc(n,t._key);throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r1(t)}.`)}function AR(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function NR(n,e,t){if(!t.isEqual(e))throw new Le(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const DF={maxAttempts:5};class nA{convertValue(e,t="none"){switch(cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){const r={};return cc(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new s1(zn(e.latitude),zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hd(e));default:return null}}convertTimestamp(e){const t=lu(e);return new Wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=un.fromString(e);xt(yC(r));const i=new pa(r.get(1),r.get(3)),l=new Xe(r.popFirst(5));return i.isEqual(t)||vr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function d1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class TF extends nA{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,t)}}class OR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_p(e)}set(e,t,r){this._verifyNotCommitted();const i=fh(e,this._firestore),l=d1(i.converter,t,r),d=a1(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Mn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=fh(e,this._firestore);let d;return d="string"==typeof(t=(0,Gt.m9)(t))||t instanceof Tc?XS(this._dataReader,"WriteBatch.update",l._key,t,r,i):QS(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=fh(e,this._firestore);return this._mutations=this._mutations.concat(new nh(t._key,Mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fh(n,e){if((n=(0,Gt.m9)(n)).firestore!==e)throw new Le(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class bp extends nA{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,t)}}function RR(n,e,t){n=hn(n,or);const r=hn(n.firestore,ur),i=d1(n.converter,e,t);return n_(r,[a1(_p(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Mn.none())])}function MR(n,e,t,...r){n=hn(n,or);const i=hn(n.firestore,ur),l=_p(i);let d;return d="string"==typeof(e=(0,Gt.m9)(e))||e instanceof Tc?XS(l,"updateDoc",n._key,e,t,r):QS(l,"updateDoc",n._key,e),n_(i,[d.toMutation(n._key,Mn.exists(!0))])}function xR(n,...e){var t,r,i;n=(0,Gt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||YS(e[d])||(l=e[d],d++);const f={includeMetadataChanges:l.includeMetadataChanges};if(YS(e[d])){const A=e[d];e[d]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[d+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[d+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let _,b,E;if(n instanceof or)b=hn(n.firestore,ur),E=gc(n._key.path),_={next:A=>{e[d]&&e[d](rA(b,n,A))},error:e[d+1],complete:e[d+2]};else{const A=hn(n,Ji);b=hn(A.firestore,ur),E=A._query;const k=new bp(b);_={next:V=>{e[d]&&e[d](new dh(b,k,A,V))},error:e[d+1],complete:e[d+2]},DR(n._query)}return function(A,k,V,Y){const ae=new e1(Y),ye=new gS(k,ae,V);return A.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return cS(yield t_(A),ye)})),()=>{ae.Rc(),A.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return hS(yield t_(A),ye)}))}}(Zr(b),E,f,_)}function n_(n,e){return function(t,r){const i=new Wr;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function pk(n,e,t){return bS.apply(this,arguments)}(yield qS(t),r,i)})),i.promise}(Zr(n),e)}function rA(n,e,t){const r=t.docs.get(e._key),i=new bp(n);return new Ic(n,i,e._key,r,new vp(t.hasPendingWrites,t.fromCache),e.converter)}class xF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_p(e)}get(e){const t=fh(e,this._firestore),r=new TF(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ft();const l=i[0];if(l.isFoundDocument())return new $0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new $0(this._firestore,r,t._key,null,t.converter);throw ft()})}set(e,t,r){const i=fh(e,this._firestore),l=d1(i.converter,t,r),d=a1(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=fh(e,this._firestore);let d;return d="string"==typeof(t=(0,Gt.m9)(t))||t instanceof Tc?XS(this._dataReader,"Transaction.update",l._key,t,r,i):QS(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=fh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=fh(e,this._firestore),r=new bp(this._firestore);return super.get(e).then(i=>new Ic(this._firestore,r,t._key,i._document,new vp(!1,!1),t.converter))}}function iA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function kR(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function FR(){if(!function ep(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){oc=Jn.SDK_VERSION,(0,Jn._registerComponent)(new ca.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),d=new ur(new HE(t.getProvider("auth-internal")),new GE(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Le(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pa(f.options.projectId,_)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Jn.registerVersion)(qD,"3.5.0",n),(0,Jn.registerVersion)(qD,"3.5.0","esm2017")}();class W0{constructor(e){this._delegate=e}static fromBase64String(e){return FR(),new W0(fu.fromBase64String(e))}static fromUint8Array(e){return kR(),new W0(fu.fromUint8Array(e))}toBase64(){return FR(),this._delegate.toBase64()}toUint8Array(){return kR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sA(n){return function $F(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class HF{enableIndexedDbPersistence(e,t){return function Kk(n,e){fR(n=hn(n,ur));const t=Zr(n),r=n._freezeSettings(),i=new jS;return hR(t,i,new ZO(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Yk(n){fR(n=hn(n,ur));const e=Zr(n),t=n._freezeSettings(),r=new jS;return hR(e,r,new Ok(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Jk(n){if(n._initialized&&!n._terminated)throw new Le(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(t=(0,Ie.Z)(function*(r){if(!yo.C())return Promise.resolve();const i=r+"main";yield yo.delete(i)}),function(r){return t.apply(this,arguments)})(kC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class LR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof pa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ac("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Hk(n,e,t,r={}){var i;const l=(n=hn(n,B0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&ac("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=kr.MOCK_USER;else{d=(0,Gt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Le(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new kr(_)}n._authCredentials=new ZD(new Mv(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function Xk(n){return function kk(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield QO(n),t=yield XO(n);return e.setNetworkEnabled(!0),function(r){const i=rt(r);return i._u.delete(0),V0(i)}(t)}))}(Zr(n=hn(n,ur)))}(this._delegate)}disableNetwork(){return function eF(n){return function Fk(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield QO(n),t=yield XO(n);return e.setNetworkEnabled(!1),(r=(0,Ie.Z)(function*(i){const l=rt(i);l._u.add(0),yield Zm(l),l.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Zr(n=hn(n,ur)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Qk(n){return function(e){const t=new Wr;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function yk(n,e){return ES.apply(this,arguments)}(yield qS(e),t)})),t.promise}(Zr(n=hn(n,ur)))}(this._delegate)}onSnapshotsInSync(e){return function MF(n,e){return function Uk(n,e){const t=new e1(e);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield t_(n),i=t,rt(r).Ru.add(i),void i.next();var r,i})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield t_(n),i=t,void rt(r).Ru.delete(i);var r,i}))}}(Zr(n=hn(n,ur)),YS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new r_(this,lR(this._delegate,e))}catch(t){throw _s(t,"collection()","Firestore.collection()")}}doc(e){try{return new va(this,i1(this._delegate,e))}catch(t){throw _s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ys(this,function Gk(n,e){if(n=hn(n,B0),KS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ji(n,null,(t=e,new zi(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw _s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function PF(n,e,t){n=hn(n,ur);const r=Object.assign(Object.assign({},DF),t);return function(i){if(i.maxAttempts<1)throw new Le(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function Bk(n,e,t){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const i=yield(l=n,t1(l).then(d=>d.datastore));var l;new xk(n.asyncQueue,i,t,e,r).run()})),r.promise}(Zr(n),i=>e(new xF(n,i)),r)}(this._delegate,t=>e(new VR(this,t)))}batch(){return Zr(this._delegate),new UR(new OR(this._delegate,e=>n_(this._delegate,e)))}loadBundle(e){return function tF(n,e){const t=Zr(n=hn(n,ur)),r=new zk;return function jk(n,e,t,r){const i=function(l,d){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,b){if(_ instanceof Uint8Array)return KO(_,b);if(_ instanceof ArrayBuffer)return KO(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Rk(_,d);var _}(t,L0(e));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function Nk(n,e,t){const r=rt(n);var i;(i=(0,Ie.Z)(function*(l,d,f){try{const _=yield d.getMetadata();if(yield function(k,V){const Y=rt(k),ae=Rr(V.createTime);return Y.persistence.runTransaction("hasNewerBundle","readonly",ye=>Y.Ns.getBundleMetadata(ye,V.id)).then(ye=>!!ye&&ye.createTime.compareTo(ae)>=0)}(l.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(k=_).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);f._updateProgress(VO(_));const b=new lk(_,l.localStore,d.It);let E=yield d.wc();for(;E;){const k=yield b.Ou(E);k&&f._updateProgress(k),E=yield d.wc()}const A=yield b.complete();return yield Dc(l,A.Bu,void 0),yield function(k,V){const Y=rt(k);return Y.persistence.runTransaction("Save bundle","readwrite",ae=>Y.Ns.saveBundleMetadata(ae,V))}(l.localStore,_),f._completeWith(A.progress),Promise.resolve(A.$u)}catch(_){return ac("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var k}),function(l,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield qS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function nF(n,e){return function $k(n,e){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(t,r){const i=rt(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield n1(n),e)}))}(Zr(n=hn(n,ur)),e).then(t=>t?new Ji(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ys(this,t):null)}}class h1 extends nA{constructor(e){super(),this.firestore=e}convertBytes(e){return new W0(new fu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return va.forKey(t,this.firestore,null)}}class VR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new h1(e)}get(e){const t=Dp(e);return this._delegate.get(t).then(r=>new z0(this._firestore,new Ic(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Dp(e);return r?(iA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Dp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Dp(e);return this._delegate.delete(t),this}}class UR{constructor(e){this._delegate=e}set(e,t,r){const i=Dp(e);return r?(iA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Dp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Dp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class wp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new H0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new q0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=wp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new wp(e,new h1(e),t),i.set(t,l)),l}}wp.INSTANCES=new WeakMap;class va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new h1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new va(t,new or(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new va(t,new or(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new r_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new r_(this.firestore,lR(this._delegate,e))}catch(t){throw _s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Gt.m9)(e))instanceof or&&uR(this._delegate,e)}set(e,t){t=iA("DocumentReference.set",t);try{return t?RR(this._delegate,e,t):RR(this._delegate,e)}catch(r){throw _s(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?MR(this._delegate,e):MR(this._delegate,e,t,...r)}catch(i){throw _s(i,"updateDoc()","DocumentReference.update()")}}delete(){return function OF(n){return n_(hn(n.firestore,ur),[new nh(n._key,Mn.none())])}(this._delegate)}onSnapshot(...e){const t=BR(e),r=jR(e,i=>new z0(this.firestore,new Ic(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function EF(n){n=hn(n,or);const e=hn(n.firestore,ur),t=Zr(e),r=new bp(e);return function Lk(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(i,l,d){try{const f=yield function(_,b){const E=rt(_);return E.persistence.runTransaction("read document","readonly",A=>E.localDocuments.getDocument(A,b))}(i,l);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Le(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Jm(f,`Failed to get document '${l} from cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield n1(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ic(e,r,n._key,i,new vp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function CF(n){n=hn(n,or);const e=hn(n.firestore,ur);return eR(Zr(e),n._key,{source:"server"}).then(t=>rA(e,n,t))}(this._delegate):function IF(n){n=hn(n,or);const e=hn(n.firestore,ur);return eR(Zr(e),n._key).then(t=>rA(e,n,t))}(this._delegate),t.then(r=>new z0(this.firestore,new Ic(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new va(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}function _s(n,e,t){return n.message=n.message.replace(e,t),n}function BR(n){for(const e of n)if("object"==typeof e&&!sA(e))return e;return{}}function jR(n,e){var t,r;let i;return i=sA(n[0])?n[0]:sA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class z0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wR(this._delegate,e._delegate)}}class q0 extends z0{data(e){const t=this._delegate.data(e);return function Rv(n,e){n||ft()}(void 0!==t),t}}class ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new h1(e)}where(e,t,r){try{return new ys(this.firestore,hh(this._delegate,function fF(n,e,t){const r=e,i=c1("where",n);return new hF(i,r,t)}(e,t,r)))}catch(i){throw _s(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ys(this.firestore,hh(this._delegate,function gF(n,e="asc"){const t=e,r=c1("orderBy",n);return new pF(r,t)}(e,t)))}catch(r){throw _s(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ys(this.firestore,hh(this._delegate,function mF(n){return oR("limit",n),new TR("limit",n,"F")}(e)))}catch(t){throw _s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ys(this.firestore,hh(this._delegate,function _F(n){return oR("limitToLast",n),new TR("limitToLast",n,"L")}(e)))}catch(t){throw _s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ys(this.firestore,hh(this._delegate,function yF(...n){return new IR("startAt",n,!0)}(...e)))}catch(t){throw _s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ys(this.firestore,hh(this._delegate,function vF(...n){return new IR("startAfter",n,!1)}(...e)))}catch(t){throw _s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ys(this.firestore,hh(this._delegate,function bF(...n){return new ER("endBefore",n,!1)}(...e)))}catch(t){throw _s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ys(this.firestore,hh(this._delegate,function wF(...n){return new ER("endAt",n,!0)}(...e)))}catch(t){throw _s(t,"endAt()","Query.endAt()")}}isEqual(e){return cR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function AF(n){n=hn(n,Ji);const e=hn(n.firestore,ur),t=Zr(e),r=new bp(e);return function Vk(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(i,l,d){try{const f=yield ZT(i,l,!0),_=new jO(l,f.Hi),b=_.ju(f.documents),E=_.applyChanges(b,!1);d.resolve(E.snapshot)}catch(f){const _=Jm(f,`Failed to execute query '${l} against cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield n1(n),e,t);var r})),t.promise}(t,n._query).then(i=>new dh(e,r,n,i))}(this._delegate):"server"===e?.source?function NF(n){n=hn(n,Ji);const e=hn(n.firestore,ur),t=Zr(e),r=new bp(e);return tR(t,n._query,{source:"server"}).then(i=>new dh(e,r,n,i))}(this._delegate):function SF(n){n=hn(n,Ji);const e=hn(n.firestore,ur),t=Zr(e),r=new bp(e);return DR(n._query),tR(t,n._query).then(i=>new dh(e,r,n,i))}(this._delegate),t.then(r=>new oA(this.firestore,new dh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=BR(e),r=jR(e,i=>new oA(this.firestore,new dh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xR(this._delegate,t,r)}withConverter(e){return new ys(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}class WF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new q0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class oA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new q0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new WF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new q0(this._firestore,r))})}isEqual(e){return wR(this._delegate,e._delegate)}}class r_ extends ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new va(this.firestore,e):null}doc(e){try{return new va(this.firestore,void 0===e?i1(this._delegate):i1(this._delegate,e))}catch(t){throw _s(t,"doc()","CollectionReference.doc()")}}add(e){return function RF(n,e){const t=hn(n.firestore,ur),r=i1(n),i=d1(n.converter,e);return n_(t,[a1(_p(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new va(this.firestore,t))}isEqual(e){return uR(this._delegate,e._delegate)}withConverter(e){return new r_(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}function Dp(n){return hn(n,or)}class aA{constructor(...e){this._delegate=new Tc(...e)}static documentId(){return new aA(ar.keyField().canonicalString())}isEqual(e){return(e=(0,Gt.m9)(e))instanceof Tc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function FF(){return new JS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Tp(e)}static delete(){const e=function kF(){return new j0("deleteField")}();return e._methodName="FieldValue.delete",new Tp(e)}static arrayUnion(...e){const t=function LF(...n){return new oF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Tp(t)}static arrayRemove(...e){const t=function VF(...n){return new aF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Tp(t)}static increment(e){const t=function UF(n){return new lF("increment",n)}(e);return t._methodName="FieldValue.increment",new Tp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zF={Firestore:LR,GeoPoint:s1,Timestamp:Wn,Blob:W0,Transaction:VR,WriteBatch:UR,DocumentReference:va,DocumentSnapshot:z0,Query:ys,QueryDocumentSnapshot:q0,QuerySnapshot:oA,CollectionReference:r_,FieldPath:aA,FieldValue:Tp,setLogLevel:function GF(n){!function Ov(n){ll.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function ZF(n){(function qF(n,e){n.INTERNAL.registerComponent(new ca.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},zF)))})(n,(e,t)=>new LR(e,t,new HF)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(ua.Z);var KF=P(6451),f1=P(5363),YF=P(6063);class JF extends Rn.x{constructor(e=1/0,t=1/0,r=YF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)f=_;f&&r.splice(0,f+1)}}}var QF=P(3099);function $R(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,QF.B)({connector:()=>new JF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function HR(n,e){return(0,Pr.m)(e)?Hn(()=>n,e):Hn(()=>n)}var lA=P(9468),uA=P(5694);class GR{constructor(){return(0,uA.C6)()}}const WR=new Map,nL={activated:!1,tokenObservers:[]},rL={initialized:!1,enabled:!1};function Ei(n){return WR.get(n)||nL}function gl(n,e){WR.set(n,e)}function p1(){return rL}class lL{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ie.Z)(function*(){t.stop();try{t.pending=new Gt.BH,yield function uL(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Gt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vs=new Gt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qR(n){if(!Ei(n).activated)throw vs.create("use-before-activation",{appName:n.name})}function fA(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,Ie.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const V=yield d.getHeartbeatsHeader();V&&(l["X-Firebase-Client"]=V)}const f={method:"POST",body:JSON.stringify(e),headers:l};let _,b;try{_=yield fetch(n,f)}catch(V){throw vs.create("fetch-network-error",{originalErrorMessage:null===(r=V)||void 0===r?void 0:r.message})}if(200!==_.status)throw vs.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(V){throw vs.create("fetch-parse-error",{originalErrorMessage:null===(i=V)||void 0===i?void 0:i.message})}const E=b.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const A=1e3*Number(E[1]),k=Date.now();return{token:b.token,expireTimeMillis:k+A,issuedAtTimeMillis:k}}),pA.apply(this,arguments)}function fL(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Z0="firebase-app-check-store";let _1=null;function KR(){return _1||(_1=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e(vs.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Z0,{keyPath:"compositeKey"})}}catch(r){e(vs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),_1)}function gA(){return gA=(0,Ie.Z)(function*(n,e){const r=(yield KR()).transaction(Z0,"readwrite"),l=r.objectStore(Z0).put({compositeKey:n,value:e});return new Promise((d,f)=>{l.onsuccess=_=>{d()},r.onerror=_=>{var b;f(vs.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),gA.apply(this,arguments)}const K0=new go.Yd("@firebase/app-check");function XR(n,e){return(0,Gt.hl)()?function _L(n,e){return function YR(n,e){return gA.apply(this,arguments)}(function QR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{K0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function eM(){return p1().enabled}function tM(){return vA.apply(this,arguments)}function vA(){return vA=(0,Ie.Z)(function*(){const n=p1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),vA.apply(this,arguments)}const TL={error:"UNKNOWN_ERROR"};function IL(n){return Gt.US.encodeString(JSON.stringify(n),!1)}function y1(n){return bA.apply(this,arguments)}function bA(){return bA=(0,Ie.Z)(function*(n,e=!1){const t=n.app;qR(t);const r=Ei(t);let l,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&v1(_)&&(i=_)}if(!e&&i&&v1(i))return{token:i.token};let f,d=!1;if(eM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=fA(fL(t,yield tM()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),d=!0);const _=yield r.exchangeTokenPromise;return yield XR(t,_),gl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?K0.warn(_.message):K0.error(_),l=_}return i?(f={token:i.token},gl(t,Object.assign(Object.assign({},r),{token:i})),yield XR(t,i)):f=CL(l),d&&rM(t,f),f}),bA.apply(this,arguments)}function DA(n,e){const t=Ei(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),gl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function nM(n){const{app:e}=n,t=Ei(e);let r=t.tokenRefresher;r||(r=function EL(n){const{app:e}=n;return new lL((0,Ie.Z)(function*(){let r;if(r=Ei(e).token?yield y1(n,!0):yield y1(n),r.error)throw r.error}),()=>!0,()=>{const t=Ei(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),gl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function rM(n,e){const t=Ei(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function v1(n){return n.expireTimeMillis-Date.now()>0}function CL(n){return{token:IL(TL),error:n}}class SL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ei(this.app);for(const t of e)DA(this.app,t.next);return Promise.resolve()}}const dM="app-check-internal";!function jL(){(0,Jn._registerComponent)(new ca.wA("app-check",n=>function AL(n,e){return new SL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dM).initialize()})),(0,Jn._registerComponent)(new ca.wA(dM,n=>function NL(n){return{getToken:e=>y1(n,e),addTokenListener:e=>function wA(n,e,t,r){const{app:i}=n,l=Ei(i),d={next:t,error:r,type:e};if(gl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&v1(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),nM(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>nM(n))}(n,"INTERNAL",e),removeTokenListener:e=>DA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Jn.registerVersion)("@firebase/app-check","0.5.12")}();class w1{constructor(){return(0,rr.vb)("app-check")}}typeof window<"u"&&window;var zL=P(7554);const fM=new u.OlP("angularfire2.auth.use-emulator"),pM=new u.OlP("angularfire2.auth.settings"),gM=new u.OlP("angularfire2.auth.tenant-id"),mM=new u.OlP("angularfire2.auth.langugage-code"),_M=new u.OlP("angularfire2.auth.use-device-language"),yM=new u.OlP("angularfire.auth.persistence"),vM=(n,e,t,r,i,l,d,f)=>(0,fs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),d)for(const[b,E]of Object.entries(d))_.settings[b]=E;return f&&_.setPersistence(f),_},[t,r,i,l,d,f]);let bM=(()=>{class n{constructor(t,r,i,l,d,f,_,b,E,A,k,V){const Y=new Rn.x,ae=ct(void 0).pipe((0,f1.Q)(d.outsideAngular),Hn(()=>l.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,3151)))),(0,st.U)(()=>(0,fs.on)(t,l,r)),(0,st.U)(ye=>vM(ye,l,f,b,E,A,_,k)),$R({bufferSize:1,refCount:!1}));if(Po(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{ae.pipe(J()).subscribe();const Be=ae.pipe(Hn(Qe=>Qe.getRedirectResult().then(et=>et,()=>null)),rr.iC,$R({bufferSize:1,refCount:!1})),ze=ae.pipe(Hn(Qe=>new Pn.y(et=>({unsubscribe:l.runOutsideAngular(()=>Qe.onAuthStateChanged(ut=>et.next(ut),ut=>et.error(ut),()=>et.complete()))})))),ht=ae.pipe(Hn(Qe=>new Pn.y(et=>({unsubscribe:l.runOutsideAngular(()=>Qe.onIdTokenChanged(ut=>et.next(ut),ut=>et.error(ut),()=>et.complete()))}))));this.authState=Be.pipe(HR(ze),(0,lA.R)(d.outsideAngular),(0,f1.Q)(d.insideAngular)),this.user=Be.pipe(HR(ht),(0,lA.R)(d.outsideAngular),(0,f1.Q)(d.insideAngular)),this.idToken=this.user.pipe(Hn(Qe=>Qe?(0,cn.D)(Qe.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(Hn(Qe=>Qe?(0,cn.D)(Qe.getIdTokenResult()):ct(null))),this.credential=(0,KF.T)(Be,Y,this.authState.pipe(Kn(Qe=>!Qe))).pipe((0,st.U)(Qe=>Qe?.user?Qe:null),(0,lA.R)(d.outsideAngular),(0,f1.Q)(d.insideAngular))}return(0,fs.pX)(this,ae,l,{spy:{apply:(ye,Be,ze)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&ze.then(ht=>Y.next(ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fs.Dh),u.LFG(fs.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(rr.HU),u.LFG(fM,8),u.LFG(pM,8),u.LFG(gM,8),u.LFG(mM,8),u.LFG(_M,8),u.LFG(yM,8),u.LFG(w1,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function wM(n,e){return function ZL(n,e=el.z){return new Pn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function SA(n,e){return wM(n,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function D1(n,e){return SA(n,e).pipe(Bi(void 0),Xu(),(0,st.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const _=i.find(E=>E.doc.ref.isEqual(d.ref)),b=t?.payload.docs.find(E=>E.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),l}))}function DM(n,e,t){return D1(n,t).pipe(Nt((r,i)=>function YL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function JL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return AA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return AA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return AA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Hg(n,e=Os.y){return n=n??TE,(0,vn.e)((t,r)=>{let i,l=!0;t.subscribe((0,Cn.x)(r,d=>{const f=e(d);(l||!n(i,f))&&(l=!1,i=f,r.next(d))}))})}(),(0,st.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function AA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function TM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class IM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=D1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Bi(void 0),Xu(),Kn(([r,i])=>i.length>0||!r),(0,st.U)(([r,i])=>i),rr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Nt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=TM(e);return DM(this.query,t,this.afs.schedulers.outsideAngular).pipe(rr.iC)}valueChanges(e={}){return SA(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),rr.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(rr.iC)}add(e){return this.ref.add(e)}doc(e){return new EM(this.ref.doc(e),this.afs)}}class EM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=AM(r,t);return new IM(i,l,this.afs)}snapshotChanges(){return function KL(n,e){return wM(n,e).pipe(Bi(void 0),Xu(),(0,st.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(rr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,cn.D)(this.ref.get(e)).pipe(rr.iC)}}class QL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?D1(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Kn(t=>t.length>0),rr.iC):D1(this.query,this.afs.schedulers.outsideAngular).pipe(rr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Nt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=TM(e);return DM(this.query,t,this.afs.schedulers.outsideAngular).pipe(rr.iC)}valueChanges(e={}){return SA(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),rr.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(rr.iC)}}const CM=new u.OlP("angularfire2.enableFirestorePersistence"),SM=new u.OlP("angularfire2.firestore.persistenceSettings"),XL=new u.OlP("angularfire2.firestore.settings"),e2=new u.OlP("angularfire2.firestore.use-emulator");function AM(n,e=(t=>t)){return{query:e(n),ref:n}}let NM=(()=>{class n{constructor(t,r,i,l,d,f,_,b,E,A,k,V,Y,ae,ye,Be,ze){this.schedulers=_;const ht=(0,fs.on)(t,f,r),Qe=E;A&&vM(ht,f,k,Y,ae,ye,V,Be),[this.firestore,this.persistenceEnabled$]=(0,fs.cc)(`${ht.name}.firestore`,"AngularFirestore",ht.name,()=>{const et=f.runOutsideAngular(()=>ht.firestore());if(l&&et.settings(l),Qe&&et.useEmulator(...Qe),i&&!Po(d)){const ut=()=>{try{return(0,cn.D)(et.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Ht){return typeof console<"u"&&console.warn(Ht),ct(!1)}};return[et,f.runOutsideAngular(ut)]}return[et,ct(!1)]},[l,Qe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=AM(i,r),f=this.schedulers.ngZone.run(()=>l);return new IM(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new QL(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new EM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fs.Dh),u.LFG(fs.xv,8),u.LFG(CM,8),u.LFG(XL,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(rr.HU),u.LFG(SM,8),u.LFG(e2,8),u.LFG(bM,8),u.LFG(fM,8),u.LFG(pM,8),u.LFG(gM,8),u.LFG(mM,8),u.LFG(_M,8),u.LFG(yM,8),u.LFG(w1,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),t2=(()=>{class n{constructor(){zL.Z.registerVersion("angularfire",rr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:CM,useValue:!0},{provide:SM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[NM]}),n})(),T1=(()=>{class n{constructor(t){this.angularFirestore=t}traerActores(){return this.angularFirestore.collection("actores").valueChanges()}crearActor(t){const r={id:t.id,nombre:t.nombre,apellido:t.apellido,edad:t.edad,sexo:t.sexo,pais:t.pais,nombrePais:t.nombrePais,banderaPais:t.banderaPais};this.angularFirestore.collection("actores").add(r)}traerImagenesPeliculas(){return["../../assets/pelicula_1.jpg","../../assets/pelicula_2.jpg","../../assets/pelicula_3.jpg","../../assets/pelicula_4.jpg","../../assets/pelicula_5.jpg","../../assets/pelicula_6.jpg","../../assets/pelicula_7.jpg","../../assets/pelicula_8.jpg","../../assets/pelicula_9.jpg","../../assets/pelicula_10.jpg"]}traerPeliculas(){return this.angularFirestore.collection("peliculas").valueChanges()}crearPelicula(t){const r={id:t.id,nombre:t.nombre,tipo:t.tipo,fechaEstreno:t.fechaEstreno,cantidadPublico:t.cantidadPublico,fotoPelicula:t.fotoPelicula,actor:t.actor};this.angularFirestore.collection("peliculas").add(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(NM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr",3),u.NdJ("click",function(){const l=u.CHM(t).$implicit,d=u.oxw();return u.KtG(d.pasarActor(l))}),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._UZ(12,"img",4),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.nombre),u.xp6(2),u.Oqu(t.apellido),u.xp6(2),u.Oqu(t.edad),u.xp6(2),u.Oqu(t.sexo),u.xp6(2),u.Oqu(t.nombrePais),u.xp6(2),u.s9C("src",t.banderaPais,u.LSH)}}let I1=(()=>{class n{constructor(){this.PasamosUnActor=new u.vpe}ngOnInit(){}pasarActor(t){this.PasamosUnActor.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-actor-listado"]],inputs:{listadoRecibidoDeActores:"listadoRecibidoDeActores"},outputs:{PasamosUnActor:"PasamosUnActor"},decls:17,vars:1,consts:[[1,"table","table-hover"],["scope","col"],["style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],["alt","bandera",2,"width","40px","height","40px","border-radius","50%",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),u._uU(4,"Nombre"),u.qZA(),u.TgZ(5,"th",1),u._uU(6,"Apellido"),u.qZA(),u.TgZ(7,"th",1),u._uU(8,"Edad"),u.qZA(),u.TgZ(9,"th",1),u._uU(10,"Sexo"),u.qZA(),u.TgZ(11,"th",1),u._uU(12,"Pa\xeds"),u.qZA(),u.TgZ(13,"th",1),u._uU(14,"Bandera"),u.qZA()()(),u.TgZ(15,"tbody"),u.YNc(16,n2,13,6,"tr",2),u.qZA()()),2&t&&(u.xp6(16),u.Q6J("ngForOf",r.listadoRecibidoDeActores))},dependencies:[fr]}),n})();class OM{}class RM{}class Ec{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ec?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ec;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ec?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===l.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class r2{encodeKey(e){return MM(e)}encodeValue(e){return MM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const o2=/%(\d[a-f0-9])/gi,a2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MM(n){return encodeURIComponent(n).replace(o2,(e,t)=>a2[t]??e)}function E1(n){return`${n}`}class ph{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new r2,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function s2(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[d,f]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],_=t.get(d)||[];_.push(f),t.set(d,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(E1):[E1(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ph({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(E1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(E1(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class l2{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function xM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function PM(n){return typeof Blob<"u"&&n instanceof Blob}function kM(n){return typeof FormData<"u"&&n instanceof FormData}class Y0{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function u2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Ec),this.context||(this.context=new l2),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new ph,this.urlWithParams=t}serializeBody(){return null===this.body?null:xM(this.body)||PM(this.body)||kM(this.body)||function c2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ph?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kM(this.body)?null:PM(this.body)?this.body.type||null:xM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ph?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const E=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((A,k)=>A.set(k,e.setHeaders[k]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((A,k)=>A.set(k,e.setParams[k]),b)),new Y0(t,r,l,{params:b,headers:_,context:E,reportProgress:f,responseType:i,withCredentials:d})}}var Kr=(()=>((Kr=Kr||{})[Kr.Sent=0]="Sent",Kr[Kr.UploadProgress=1]="UploadProgress",Kr[Kr.ResponseHeader=2]="ResponseHeader",Kr[Kr.DownloadProgress=3]="DownloadProgress",Kr[Kr.Response=4]="Response",Kr[Kr.User=5]="User",Kr))();class NA{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ec,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class OA extends NA{constructor(e={}){super(e),this.type=Kr.ResponseHeader}clone(e={}){return new OA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class C1 extends NA{constructor(e={}){super(e),this.type=Kr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new C1({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class FM extends NA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function RA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let LM=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof Y0)l=t;else{let _,b;_=i.headers instanceof Ec?i.headers:new Ec(i.headers),i.params&&(b=i.params instanceof ph?i.params:new ph({fromObject:i.params})),l=new Y0(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:b,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=ct(l).pipe(le(_=>this.handler.handle(_)));if(t instanceof Y0||"events"===i.observe)return d;const f=d.pipe(Kn(_=>_ instanceof C1));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,st.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,st.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,st.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,st.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ph).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,RA(i,r))}post(t,r,i={}){return this.request("POST",t,RA(i,r))}put(t,r,i={}){return this.request("PUT",t,RA(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(OM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class VM{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const UM=new u.OlP("HTTP_INTERCEPTORS");let d2=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const h2=/^\)\]\}',?\n/;let BM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,Y)=>i.setRequestHeader(V,Y.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const l=t.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const V=i.statusText||"OK",Y=new Ec(i.getAllResponseHeaders()),ae=function f2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new OA({headers:Y,status:i.status,statusText:V,url:ae}),d},_=()=>{let{headers:V,status:Y,statusText:ae,url:ye}=f(),Be=null;204!==Y&&(Be=typeof i.response>"u"?i.responseText:i.response),0===Y&&(Y=Be?200:0);let ze=Y>=200&&Y<300;if("json"===t.responseType&&"string"==typeof Be){const ht=Be;Be=Be.replace(h2,"");try{Be=""!==Be?JSON.parse(Be):null}catch(Qe){Be=ht,ze&&(ze=!1,Be={error:Qe,text:Be})}}ze?(r.next(new C1({body:Be,headers:V,status:Y,statusText:ae,url:ye||void 0})),r.complete()):r.error(new FM({error:Be,headers:V,status:Y,statusText:ae,url:ye||void 0}))},b=V=>{const{url:Y}=f(),ae=new FM({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Y||void 0});r.error(ae)};let E=!1;const A=V=>{E||(r.next(f()),E=!0);let Y={type:Kr.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(Y.total=V.total),"text"===t.responseType&&!!i.responseText&&(Y.partialText=i.responseText),r.next(Y)},k=V=>{let Y={type:Kr.UploadProgress,loaded:V.loaded};V.lengthComputable&&(Y.total=V.total),r.next(Y)};return i.addEventListener("load",_),i.addEventListener("error",b),i.addEventListener("timeout",b),i.addEventListener("abort",b),t.reportProgress&&(i.addEventListener("progress",A),null!==l&&i.upload&&i.upload.addEventListener("progress",k)),i.send(l),r.next({type:Kr.Sent}),()=>{i.removeEventListener("error",b),i.removeEventListener("abort",b),i.removeEventListener("load",_),i.removeEventListener("timeout",b),t.reportProgress&&(i.removeEventListener("progress",A),null!==l&&i.upload&&i.upload.removeEventListener("progress",k)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(zs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const MA=new u.OlP("XSRF_COOKIE_NAME"),xA=new u.OlP("XSRF_HEADER_NAME");class jM{}let p2=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Dl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(u.Lbi),u.LFG(MA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),PA=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jM),u.LFG(xA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),g2=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(UM,[]);this.chain=r.reduceRight((i,l)=>new VM(i,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(RM),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),m2=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:PA,useClass:d2}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:MA,useValue:t.cookieName}:[],t.headerName?{provide:xA,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[PA,{provide:UM,useExisting:PA,multi:!0},{provide:jM,useClass:p2},{provide:MA,useValue:"XSRF-TOKEN"},{provide:xA,useValue:"X-XSRF-TOKEN"}]}),n})(),_2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[LM,{provide:OM,useClass:g2},BM,{provide:RM,useExisting:BM}],imports:[m2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),y2=(()=>{class n{constructor(t){this.http=t}getCountries(){return(0,Ie.Z)(function*(){try{return yield(yield fetch("https://restcountries.com/v3.1/all")).json()}catch(t){console.error(t)}})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(LM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2),u.NdJ("click",function(){const l=u.CHM(t).$implicit,d=u.oxw();return u.KtG(d.pasarPais(l))}),u.TgZ(1,"div",3),u._uU(2),u.qZA(),u.TgZ(3,"div",3),u._UZ(4,"img",4),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.name.common),u.xp6(2),u.s9C("src",t.flags.png,u.LSH)}}let b2=(()=>{class n{constructor(t){this.apiCountries=t,this.PasamosUnPais=new u.vpe}ngOnInit(){this.traerPaises()}traerPaises(){var t=this;return(0,Ie.Z)(function*(){t.listadoPaises=yield t.apiCountries.getCountries(),t.listadoPaises.sort((r,i)=>r.name.common.localeCompare(i.name.common))})()}pasarPais(t){this.PasamosUnPais.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(y2))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-tabla-paises"]],outputs:{PasamosUnPais:"PasamosUnPais"},decls:2,vars:1,consts:[[1,"contenedor"],["class","row pais",3,"click",4,"ngFor","ngForOf"],[1,"row","pais",3,"click"],[1,"col"],["alt","bandera",2,"width","40px","height","40px","border-radius","50%",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,v2,5,2,"div",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",r.listadoPaises))},dependencies:[fr],styles:[".contenedor[_ngcontent-%COMP%]{height:16rem;overflow:scroll}.pais[_ngcontent-%COMP%]{font-weight:bolder;padding:10px}.pais[_ngcontent-%COMP%]:hover{background:#666;color:#fff;transition:background .5s;cursor:pointer}"]}),n})();var w2=P(1144);const D2=["addListener","removeListener"],T2=["addEventListener","removeEventListener"],I2=["on","off"];function bs(n,e,t,r){if((0,Pr.m)(t)&&(r=t,t=void 0),r)return bs(n,e,t).pipe(Ha(r));const[i,l]=function S2(n){return(0,Pr.m)(n.addEventListener)&&(0,Pr.m)(n.removeEventListener)}(n)?T2.map(d=>f=>n[d](e,f,t)):function E2(n){return(0,Pr.m)(n.addListener)&&(0,Pr.m)(n.removeListener)}(n)?D2.map($M(n,e)):function C2(n){return(0,Pr.m)(n.on)&&(0,Pr.m)(n.off)}(n)?I2.map($M(n,e)):[];if(!i&&(0,w2.z)(n))return(0,I.z)(d=>bs(d,e,t))((0,ni.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Pn.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return i(f),()=>l(f)})}function $M(n,e){return t=>r=>n[t](e,r)}var A2=P(3532);const{isArray:O2}=Array;function HM(n){return 1===n.length&&O2(n[0])?n[0]:n}var S1=P(5032);function A1(...n){const e=(0,Ai.jO)(n),t=HM(n);return t.length?new Pn.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let d=0;!r.closed&&d<t.length;d++)(0,ni.Xf)(t[d]).subscribe((0,Cn.x)(r,f=>{if(i[d].push(f),i.every(_=>_.length)){const _=i.map(b=>b.shift());r.next(e?e(..._):_),i.some((b,E)=>!b.length&&l[E])&&r.complete()}},()=>{l[d]=!0,!i[d].length&&r.complete()}));return()=>{i=l=null}}):gr.E}function ai(n){return(0,vn.e)((e,t)=>{(0,ni.Xf)(n).subscribe((0,Cn.x)(t,()=>t.complete(),S1.Z)),!t.closed&&e.subscribe(t)})}function FA(...n){const e=(0,Ai.jO)(n);return(0,vn.e)((t,r)=>{const i=n.length,l=new Array(i);let d=n.map(()=>!1),f=!1;for(let _=0;_<i;_++)(0,ni.Xf)(n[_]).subscribe((0,Cn.x)(r,b=>{l[_]=b,!f&&!d[_]&&(d[_]=!0,(f=d.every(Os.y))&&(d=null))},S1.Z));t.subscribe((0,Cn.x)(r,_=>{if(f){const b=[_,...l];r.next(e?e(...b):b)}}))})}new Pn.y(S1.Z),Math,Math,Math;const zV=["*"],cU=["dialog"];function ZA(n){return"string"==typeof n}function Cp(n){return null!=n}function u_(n){return(n||document.body).getBoundingClientRect()}const cx={animation:!0,transitionTimerDelayMs:5},iB=()=>{},{transitionTimerDelayMs:sB}=cx,rb=new Map,ws=(n,e,t,r)=>{let i=r.context||{};const l=rb.get(e);if(l)switch(r.runningTransition){case"continue":return gr.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),rb.delete(e)}const d=t(e,r.animation,i)||iB;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),ct(void 0).pipe(function nB(n){return e=>new Pn.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new Rn.x,_=new Rn.x,b=f.pipe(function M2(...n){return e=>Rs(e,ct(...n))}(!0));rb.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:i});const E=function rB(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const A=bs(e,"transitionend").pipe(ai(b),Kn(({target:V})=>V===e));(function GM(...n){return 1===(n=HM(n)).length?(0,ni.Xf)(n[0]):new Pn.y(function R2(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,ni.Xf)(n[r]).subscribe((0,Cn.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))})(function kA(n=0,e,t=el.P){let r=-1;return null!=e&&((0,A2.K)(e)?t=e:r=e),new Pn.y(i=>{let l=function N2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(E+sB).pipe(ai(b)),A,_).pipe(ai(b)).subscribe(()=>{rb.delete(e),n.run(()=>{d(),f.next(),f.complete()})})}),f.asObservable()};let P1=(()=>{class n{constructor(){this.animation=cx.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi]}),n})(),_x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi]}),n})(),bx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi]}),n})(),wx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var li=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(li||(li={})),li))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Tx=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ix(n){const e=Array.from(n.querySelectorAll(Tx)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi,jg]}),n})(),tN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class Op{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let YB=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Qt(1)).subscribe(()=>{ws(this._zone,this._el.nativeElement,(t,r)=>{r&&u_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ws(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(u.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class Fx{close(e){}dismiss(e){}}class JB{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Rn.x,this._dismissed=new Rn.x,this._hidden=new Rn.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,d)=>{this._resolve=l,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ai(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ai(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function ux(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ct(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),A1(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ab=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(ab||(ab={})),ab))();let QB=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Rn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Rn.x,this.hidden=new Rn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ZA(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Qt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},d=A1(ws(this._zone,t,()=>t.classList.remove("show"),r),ws(this._zone,this._dialogEl.nativeElement,()=>{},r));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const t={animation:this.animation,runningTransition:"continue"};A1(ws(this._zone,this._elRef.nativeElement,(l,d)=>{d&&u_(l),l.classList.add("show")},t),ws(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{bs(t,"keydown").pipe(ai(this._closed$),Kn(i=>i.which===li.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(ab.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;bs(this._dialogEl.nativeElement,"mousedown").pipe(ai(this._closed$),(0,De.b)(()=>r=!1),Hn(()=>bs(t,"mouseup").pipe(ai(this._closed$),Qt(1))),Kn(({target:i})=>t===i)).subscribe(()=>{r=!0}),bs(t,"click").pipe(ai(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(ab.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=Ix(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ws(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pe),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.Gf(cU,7),2&t){let i;u.iGM(i=u.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:zV,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&t&&u.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),XB=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:l,paddingRight:d}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=d),i.overflow=l}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ej=(()=>{class n{constructor(t,r,i,l,d,f){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=l,this._rendererFactory=d,this._ngZone=f,this._activeWindowCmptHasChanged=new Rn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=bs(e,"focusin").pipe(ai(t),(0,st.U)(l=>l.target));bs(e,"keydown").pipe(ai(t),Kn(l=>l.which===li.Tab),FA(i)).subscribe(([l,d])=>{const[f,_]=Ix(e);(d===f||d===e)&&l.shiftKey&&(_.focus(),l.preventDefault()),d===_&&!l.shiftKey&&(f.focus(),l.preventDefault())}),r&&bs(e,"click").pipe(ai(t),FA(i),(0,st.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const l=i.container instanceof HTMLElement?i.container:Cp(i.container)?this._document.querySelector(i.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new Fx,_=this._getContentRef(i.injector||t,r,f,i);let b=!1!==i.backdrop?this._attachBackdrop(l):void 0,E=this._attachWindowComponent(l,_.nodes),A=new JB(E,_,b,i.beforeDismiss);return this._registerModalRef(A),this._registerWindowCmpt(E),A.hidden.pipe(Qt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=k=>{A.close(k)},f.dismiss=k=>{A.dismiss(k)},this._applyWindowOptions(E.instance,i),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),b&&b.instance&&(this._applyBackdropOptions(b.instance,i),b.changeDetectorRef.detectChanges()),E.changeDetectorRef.detectChanges(),A}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,u.LMc)(YB,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,u.LMc)(QB,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Cp(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Cp(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l){return r?r instanceof u.Rgc?this._createFromTemplateRef(r,i):ZA(r)?this._createFromString(r):this._createFromComponent(t,r,i,l):new Op([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(d){r.close(d)},dismiss(d){r.dismiss(d)}});return this._applicationRef.attachView(l),new Op([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Op([[r]])}_createFromComponent(t,r,i,l){const d=u.zs3.create({providers:[{provide:Fx,useValue:i}],parent:t}),f=(0,u.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:d}),_=f.location.nativeElement;return l.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(f.hostView),new Op([[_]],f.hostView,f)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(pe),u.LFG(XB),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tj=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(P1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nj=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(ej),u.LFG(tj))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[nj]}),n})(),jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi]}),n})(),Kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi]}),n})(),Jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi]}),n})(),Qx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi]}),n})(),Xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi]}),n})(),eP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi]}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi]}),n})(),nP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function gj(){return 100}});let rP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pi]}),n})(),iP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const mj=[mx,_x,bx,wx,Mx,kx,Lx,jx,iP,Kx,Jx,Qx,Xx,eP,tP,nP,rP];let _j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mj,mx,_x,bx,wx,Mx,kx,Lx,jx,iP,Kx,Jx,Qx,Xx,eP,tP,nP,rP]}),n})(),$1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:20,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","",1,"nav-link","active"],["routerLink","/actor/alta",1,"nav-link","active"],["routerLink","/peliculas/alta",1,"nav-link","active"],["routerLink","/actor/actorpelicula",1,"nav-link","active"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._uU(3,"PELICULAS"),u.qZA(),u.TgZ(4,"button",3),u._UZ(5,"span",4),u.qZA(),u.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),u._uU(10,"Home"),u.qZA()(),u.TgZ(11,"li",7)(12,"a",9),u._uU(13,"Actores"),u.qZA()(),u.TgZ(14,"li",7)(15,"a",10),u._uU(16,"Peliculas"),u.qZA()(),u.TgZ(17,"li",7)(18,"a",11),u._uU(19,"Actor-Pelicula"),u.qZA()()()()()())},dependencies:[pf,tN]}),n})();function yj(n,e){1&n&&(u.TgZ(0,"small",39),u._uU(1," El nombre es requerido "),u.qZA())}function vj(n,e){1&n&&(u.TgZ(0,"small",39),u._uU(1," El nombre no puede contener espacios "),u.qZA())}function bj(n,e){1&n&&(u.TgZ(0,"small",39),u._uU(1," El apellido es requerido "),u.qZA())}function wj(n,e){1&n&&(u.TgZ(0,"small",39),u._uU(1," El apellido no puede contener espacios "),u.qZA())}function Dj(n,e){1&n&&(u.TgZ(0,"small",39),u._uU(1," La edad es requerida "),u.qZA())}function Tj(n,e){1&n&&(u.TgZ(0,"small",39),u._uU(1," La edad debe ser de 18 a 99 a\xf1os "),u.qZA())}function Ij(n,e){1&n&&(u.TgZ(0,"small",39),u._uU(1," El sexo es requerido "),u.qZA())}function Ej(n,e){if(1&n&&u._UZ(0,"img",40),2&n){const t=u.oxw();u.s9C("src",t.actorNuevo.banderaPais,u.LSH)}}function Cj(n,e){1&n&&(u.TgZ(0,"small",39),u._uU(1," El pais es requerido "),u.qZA())}function Sj(n,e){if(1&n&&(u.TgZ(0,"div",41)(1,"h2"),u._uU(2,"LISTADO DE ACTORES"),u.qZA(),u._UZ(3,"app-actor-listado",42),u.qZA()),2&n){const t=u.oxw();u.xp6(3),u.Q6J("listadoRecibidoDeActores",t.listadoActores)}}let Aj=(()=>{class n{constructor(t,r){this.formBuilder=t,this.entidadesService=r,this.actorNuevo=new Y_(0,"","","","","","",""),this.listadoActores=[],this.vistaListado=!1,this.textoVistaListado="Ver Listado de Actores",this.formEnviado=!1}ngOnInit(){this.forma=this.formBuilder.group({nombre:["",$i.required],apellido:["",$i.required],edad:["",[$i.required,$i.min(18),$i.max(99)]],sexo:["",$i.required],pais:["",$i.required],nombrePais:["",$i.required],banderaPais:["",$i.required]}),this.entidadesService.traerActores().subscribe(t=>{null!=t&&(this.listadoActores=t)})}agregarActor(t){this.forma.setValue({nombre:this.forma.getRawValue().nombre,apellido:this.forma.getRawValue().apellido,edad:this.forma.getRawValue().edad,sexo:this.forma.getRawValue().sexo,pais:this.actorNuevo.pais,nombrePais:this.actorNuevo.nombrePais,banderaPais:this.actorNuevo.banderaPais}),this.forma.invalid?this.formEnviado=!0:(this.actorNuevo.nombre=this.forma.getRawValue().nombre,this.actorNuevo.apellido=this.forma.getRawValue().apellido,this.actorNuevo.edad=this.forma.getRawValue().edad,this.actorNuevo.sexo=this.forma.getRawValue().sexo,this.entidadesService.crearActor(this.actorNuevo),this.actorNuevo=new Y_(0,"","","","","","",""),this.forma.reset())}tomarPaisSeleccionado(t){this.actorNuevo.pais=t,this.actorNuevo.nombrePais=t.name.common,this.actorNuevo.banderaPais=t.flags.png,this.formEnviado=!1}verListado(){this.vistaListado=!this.vistaListado,this.textoVistaListado=this.vistaListado?"Dejar de Ver Listado":"Ver Listado de Actores"}spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jw),u.Y36(T1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-actor-alta"]],decls:74,vars:14,consts:[[1,"container"],[1,"py-3","text-center"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[3,"PasamosUnPais"],[1,"col-md-7","col-lg-8"],[3,"formGroup","ngSubmit"],[1,"mb-3","text-primary"],[1,"row","g-3"],[1,"col-sm-6"],["for","nombre",1,"form-label"],["type","text","formControlName","nombre","required","",1,"form-control"],["style","color: red",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","formControlName","apellido","required","",1,"form-control"],[1,"col-md-3"],["for","edad",1,"form-label"],["type","number","formControlName","edad","formControlName","edad","required","",1,"form-control"],[1,"col-md-5",2,"width","contain"],["for","sexo",1,"form-label"],["id","sexo","formControlName","sexo","required",""],["value",""],["value","Femenino"],["value","Masculino"],["for","nombrePais",1,"form-label"],[2,"display","flex"],["type","text","formControlName","nombrePais","required","","readonly","",1,"form-control",3,"ngModel"],["style","\n                    margin-left: 1rem;\n                    width: 50px;\n                    height: 50px;\n                    border: 3px solid #000;\n                    border-radius: 50%;\n                  ","alt","",3,"src",4,"ngIf"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg"],["type","button",1,"w-50","btn","btn-lg",2,"margin-top","2rem","display","block","margin-left","auto","margin-right","auto",3,"ngClass","click"],["class","py-5 text-center",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],[2,"color","red"],["alt","",2,"margin-left","1rem","width","50px","height","50px","border","3px solid #000","border-radius","50%",3,"src"],[1,"py-5","text-center"],[3,"listadoRecibidoDeActores"]],template:function(t,r){1&t&&(u._UZ(0,"app-navbar"),u.TgZ(1,"div",0)(2,"main")(3,"div",1)(4,"h2"),u._uU(5,"ALTA ACTOR"),u.qZA()(),u.TgZ(6,"div",2)(7,"div",3)(8,"h4",4)(9,"span",5),u._uU(10,"SELECCIONA UN PA\xcdS"),u.qZA()(),u.TgZ(11,"app-tabla-paises",6),u.NdJ("PasamosUnPais",function(l){return r.tomarPaisSeleccionado(l)}),u.qZA(),u._UZ(12,"br"),u.qZA(),u.TgZ(13,"div",7)(14,"form",8),u.NdJ("ngSubmit",function(l){return r.agregarActor(l)}),u.TgZ(15,"h4",9),u._uU(16,"DATOS ACTOR"),u.qZA(),u.TgZ(17,"div",10)(18,"div",11)(19,"label",12),u._uU(20,"Nombre"),u.qZA(),u._UZ(21,"input",13),u.YNc(22,yj,2,0,"small",14),u.YNc(23,vj,2,0,"small",14),u.qZA(),u.TgZ(24,"div",11)(25,"label",15),u._uU(26,"Apellido"),u.qZA(),u._UZ(27,"input",16),u.YNc(28,bj,2,0,"small",14),u.YNc(29,wj,2,0,"small",14),u.qZA(),u.TgZ(30,"div",17)(31,"label",18),u._uU(32,"Edad"),u.qZA(),u._UZ(33,"input",19),u.YNc(34,Dj,2,0,"small",14),u.YNc(35,Tj,2,0,"small",14),u.qZA(),u.TgZ(36,"div",20)(37,"label",21),u._uU(38,"Sexo"),u.qZA(),u.TgZ(39,"select",22)(40,"option",23),u._uU(41,"Seleccione uno"),u.qZA(),u.TgZ(42,"option",24),u._uU(43,"Femenino"),u.qZA(),u.TgZ(44,"option",25),u._uU(45,"Masculino"),u.qZA()(),u._UZ(46,"br"),u.YNc(47,Ij,2,0,"small",14),u.qZA(),u.TgZ(48,"div",11)(49,"label",26),u._uU(50,"Pais"),u.qZA(),u.TgZ(51,"div",27),u._UZ(52,"input",28),u.YNc(53,Ej,1,1,"img",29),u.qZA(),u.YNc(54,Cj,2,0,"small",14),u.qZA()(),u._UZ(55,"hr",30),u.TgZ(56,"button",31),u._uU(57," Registrar Actor "),u.qZA()()()(),u.TgZ(58,"button",32),u.NdJ("click",function(){return r.verListado()}),u._uU(59),u.qZA(),u.YNc(60,Sj,4,1,"div",33),u.qZA(),u.TgZ(61,"footer",34)(62,"p",35),u._uU(63,"\xa9 2017\u20132022 Company Name"),u.qZA(),u.TgZ(64,"ul",36)(65,"li",37)(66,"a",38),u._uU(67,"Privacy"),u.qZA()(),u.TgZ(68,"li",37)(69,"a",38),u._uU(70,"Terms"),u.qZA()(),u.TgZ(71,"li",37)(72,"a",38),u._uU(73,"Support"),u.qZA()()()()()),2&t&&(u.xp6(14),u.Q6J("formGroup",r.forma),u.xp6(8),u.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),u.xp6(1),u.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.containsSpaces)&&r.forma.controls.nombre.touched),u.xp6(5),u.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.required)&&r.forma.controls.apellido.touched),u.xp6(1),u.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.containsSpaces)&&r.forma.controls.apellido.touched),u.xp6(5),u.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.required)&&r.forma.controls.edad.touched),u.xp6(1),u.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.min)||(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.max)&&r.forma.controls.edad.touched),u.xp6(12),u.Q6J("ngIf",(null==r.forma.controls.sexo.errors?null:r.forma.controls.sexo.errors.required)&&r.forma.controls.sexo.touched),u.xp6(5),u.Q6J("ngModel",r.actorNuevo.nombrePais),u.xp6(1),u.Q6J("ngIf",r.actorNuevo.banderaPais),u.xp6(1),u.Q6J("ngIf",(null==r.forma.controls.nombrePais.errors?null:r.forma.controls.nombrePais.errors.required)&&r.forma.controls.nombrePais.touched),u.xp6(4),u.Q6J("ngClass",r.vistaListado?"btn-danger":"btn-success"),u.xp6(1),u.hij(" ",r.textoVistaListado," "),u.xp6(1),u.Q6J("ngIf",r.vistaListado))},dependencies:[ln,En,by,Nf,Ug,ho,kg,Af,fo,_f,Qu,Cf,Vg,I1,b2,$1],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}"]}),n})(),Nj=(()=>{class n{constructor(){}ngOnInit(){}verPais(){console.log(this.actorRecibido?.pais)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-detalle-actor"]],inputs:{actorRecibido:"actorRecibido"},decls:8,vars:4,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1),u.qZA(),u.TgZ(2,"p"),u._uU(3),u.qZA(),u.TgZ(4,"p"),u._uU(5),u.qZA(),u.TgZ(6,"p"),u._uU(7),u.qZA()),2&t&&(u.xp6(1),u.hij("Nombre: ",null==r.actorRecibido?null:r.actorRecibido.nombre,""),u.xp6(2),u.hij("Apellido: ",null==r.actorRecibido?null:r.actorRecibido.apellido,""),u.xp6(2),u.hij("Edad: ",null==r.actorRecibido?null:r.actorRecibido.edad,""),u.xp6(2),u.hij("Sexo: ",null==r.actorRecibido?null:r.actorRecibido.sexo,""))}}),n})(),Oj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-detalle-pais"]],inputs:{actorRecibido:"actorRecibido"},decls:9,vars:5,consts:[["alt","",2,"width","100px","display","block","margin-right","auto","margin-left","auto","margin-top","1rem","margin-bottom","1rem",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1),u.qZA(),u.TgZ(2,"p"),u._uU(3),u.qZA(),u.TgZ(4,"p"),u._uU(5),u.qZA(),u.TgZ(6,"p"),u._uU(7),u.qZA(),u._UZ(8,"img",0)),2&t&&(u.xp6(1),u.hij("Pais: ",null==r.actorRecibido?null:r.actorRecibido.nombrePais,""),u.xp6(2),u.hij("Capital: ",null==r.actorRecibido?null:r.actorRecibido.pais.capital,""),u.xp6(2),u.hij("Regi\xf3n: ",null==r.actorRecibido?null:r.actorRecibido.pais.region,""),u.xp6(2),u.hij("Poblaci\xf3n: ",null==r.actorRecibido?null:r.actorRecibido.pais.population,""),u.xp6(1),u.s9C("src",null==r.actorRecibido?null:r.actorRecibido.banderaPais,u.LSH))}}),n})();function Rj(n,e){if(1&n&&(u.TgZ(0,"tr",3)(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._UZ(6,"img",4),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.nombre),u.xp6(2),u.Oqu(t.cantidadPublico),u.xp6(2),u.s9C("src",t.fotoPelicula,u.LSH)}}let Mj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-listado-actor-pelicula"]],inputs:{listadoRecibidoDePeliculas:"listadoRecibidoDePeliculas"},decls:11,vars:1,consts:[[1,"table","table-hover"],["scope","col"],["style","cursor: pointer",4,"ngFor","ngForOf"],[2,"cursor","pointer"],["alt","bandera",2,"width","40px","height","40px","border-radius","50%",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),u._uU(4,"Titulo"),u.qZA(),u.TgZ(5,"th",1),u._uU(6,"Espectadores"),u.qZA(),u.TgZ(7,"th",1),u._uU(8,"Portada"),u.qZA()()(),u.TgZ(9,"tbody"),u.YNc(10,Rj,7,3,"tr",2),u.qZA()()),2&t&&(u.xp6(10),u.Q6J("ngForOf",r.listadoRecibidoDePeliculas))},dependencies:[fr]}),n})(),xj=(()=>{class n{constructor(t){this.entidadesService=t,this.listadoActores=[],this.listadoPeliculas=[],this.listadoAuxPeliculas=[],this.actorActivo=new Y_(0,"","","","","","","")}ngOnInit(){this.entidadesService.traerActores().subscribe(t=>{null!=t&&(this.listadoActores=t)}),this.entidadesService.traerPeliculas().subscribe(t=>{null!=t&&(this.listadoPeliculas=t)})}tomarActorSeleccionado(t){this.listadoAuxPeliculas=this.listadoPeliculas.filter(r=>r.actor.nombre==t.nombre&&r.actor.apellido==t.apellido),this.actorActivo=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(T1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-actor-pelicula"]],decls:26,vars:4,consts:[[1,"container","py-4","contenedor-gral"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"container-fluid","py-5"],[1,"display-5","fw-bold"],[3,"listadoRecibidoDeActores","PasamosUnActor"],[1,"row","align-items-md-stretch"],[1,"col-md-4"],[1,"h-100","p-5","rounded-3"],[3,"listadoRecibidoDePeliculas"],[1,"h-100","p-5","bg-light","border","rounded-3"],[3,"actorRecibido"],[1,"pt-3","mt-4","text-muted","border-top"]],template:function(t,r){1&t&&(u.TgZ(0,"main"),u._UZ(1,"app-navbar"),u.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"h1",3),u._uU(6,"Actores"),u.qZA(),u.TgZ(7,"app-actor-listado",4),u.NdJ("PasamosUnActor",function(l){return r.tomarActorSeleccionado(l)}),u.qZA()()(),u.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"h2"),u._uU(12,"Peliculas Actor"),u.qZA(),u._UZ(13,"app-listado-actor-pelicula",8),u.qZA()(),u.TgZ(14,"div",6)(15,"div",9)(16,"h2"),u._uU(17,"Pais Actor"),u.qZA(),u._UZ(18,"app-detalle-pais",10),u.qZA()(),u.TgZ(19,"div",6)(20,"div",7)(21,"h2"),u._uU(22,"Detalle Actor"),u.qZA(),u._UZ(23,"app-detalle-actor",10),u.qZA()()(),u.TgZ(24,"footer",11),u._uU(25,"\xa9 2022"),u.qZA()()()),2&t&&(u.xp6(7),u.Q6J("listadoRecibidoDeActores",r.listadoActores),u.xp6(6),u.Q6J("listadoRecibidoDePeliculas",r.listadoAuxPeliculas),u.xp6(5),u.Q6J("actorRecibido",r.actorActivo),u.xp6(5),u.Q6J("actorRecibido",r.actorActivo))},dependencies:[I1,$1,Nj,Oj,Mj]}),n})(),Pj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-bienvenida"]],decls:2,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"bienvenida works!"),u.qZA())}}),n})();class sN{constructor(e,t,r,i,l,d,f){this.id=e,this.nombre=t,this.tipo=r,this.fechaEstreno=i,this.cantidadPublico=l,this.fotoPelicula=d,this.actor=f}}function kj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2),u._UZ(1,"img",3),u.TgZ(2,"button",4),u.NdJ("click",function(){const l=u.CHM(t).$implicit,d=u.oxw();return u.KtG(d.PasarPelicula(l))}),u._uU(3," Ver detalle "),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(1),u.Q6J("src",t.fotoPelicula,u.LSH)}}let Fj=(()=>{class n{constructor(){this.PasamosUnaPelicula=new u.vpe}ngOnInit(){}PasarPelicula(t){this.PasamosUnaPelicula.emit(t),console.info(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-tabla-pelicula"]],inputs:{listadoRecibido:"listadoRecibido"},outputs:{PasamosUnaPelicula:"PasamosUnaPelicula"},decls:2,vars:1,consts:[[1,"row",2,"height","280px","overflow","scroll"],["class","col",4,"ngFor","ngForOf"],[1,"col"],["alt","foto de la pelicula",2,"width","150px","height","200px","display","flex","flex-wrap","wrap",3,"src"],[1,"btn","btn-primary",2,"margin","10px 10px auto auto",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,kj,4,1,"div",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",r.listadoRecibido))},dependencies:[fr]}),n})(),Lj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-detalle-pelicula"]],inputs:{peliculaSeleccionada:"peliculaSeleccionada"},decls:9,vars:5,consts:[["alt","",2,"width","100px","display","block","margin-right","auto","margin-left","auto","margin-top","1rem","margin-bottom","1rem",3,"src"]],template:function(t,r){1&t&&(u._UZ(0,"img",0),u.TgZ(1,"p"),u._uU(2),u.qZA(),u.TgZ(3,"p"),u._uU(4),u.qZA(),u.TgZ(5,"p"),u._uU(6),u.qZA(),u.TgZ(7,"p"),u._uU(8),u.qZA()),2&t&&(u.s9C("src",null==r.peliculaSeleccionada?null:r.peliculaSeleccionada.fotoPelicula,u.LSH),u.xp6(2),u.hij("Titulo: ",null==r.peliculaSeleccionada?null:r.peliculaSeleccionada.nombre,""),u.xp6(2),u.hij("Genero: ",null==r.peliculaSeleccionada?null:r.peliculaSeleccionada.tipo,""),u.xp6(2),u.hij("Estreno: ",null==r.peliculaSeleccionada?null:r.peliculaSeleccionada.fechaEstreno,""),u.xp6(2),u.hij("Espectadores: ",null==r.peliculaSeleccionada?null:r.peliculaSeleccionada.cantidadPublico,""))}}),n})(),Vj=(()=>{class n{constructor(t){this.entidadesService=t,this.listadoPeliculas=[],this.peliculaActiva=new sN(0,"","","",0,"",{})}ngOnInit(){this.entidadesService.traerPeliculas().subscribe(t=>{null!=t&&(this.listadoPeliculas=t)})}TomarPeliculaSeleccionada(t){this.peliculaActiva=t,console.info(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(T1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-busqueda"]],decls:30,vars:2,consts:[[1,"container","py-4","contenedor-gral"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"container-fluid","py-5"],[1,"display-5","fw-bold"],[3,"listadoRecibido","PasamosUnaPelicula"],[1,"row","align-items-md-stretch"],[1,"col-md-4"],[1,"h-100","p-5","text-bg-dark","rounded-3"],["type","button",1,"btn","btn-outline-light"],[1,"h-100","p-5","bg-light","border","rounded-3"],[3,"peliculaSeleccionada"],["type","button",1,"btn","btn-outline-secondary"],[1,"pt-3","mt-4","text-muted","border-top"]],template:function(t,r){1&t&&(u.TgZ(0,"main"),u._UZ(1,"app-navbar"),u.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"h1",3),u._uU(6,"Peliculas"),u.qZA(),u.TgZ(7,"app-tabla-pelicula",4),u.NdJ("PasamosUnaPelicula",function(l){return r.TomarPeliculaSeleccionada(l)}),u.qZA()()(),u.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"h2"),u._uU(12,"Change the background"),u.qZA(),u.TgZ(13,"button",8),u._uU(14," Example button "),u.qZA()()(),u.TgZ(15,"div",6)(16,"div",9)(17,"h2"),u._uU(18,"Detalle Pelicula"),u.qZA(),u._UZ(19,"app-detalle-pelicula",10),u.TgZ(20,"button",11),u._uU(21," Example button "),u.qZA()()(),u.TgZ(22,"div",6)(23,"div",7)(24,"h2"),u._uU(25,"Change the background"),u.qZA(),u.TgZ(26,"button",8),u._uU(27," Example button "),u.qZA()()()(),u.TgZ(28,"footer",12),u._uU(29,"\xa9 2022"),u.qZA()()()),2&t&&(u.xp6(7),u.Q6J("listadoRecibido",r.listadoPeliculas),u.xp6(12),u.Q6J("peliculaSeleccionada",r.peliculaActiva))},dependencies:[Fj,Lj,$1]}),n})();function Uj(n,e){if(1&n&&(u.TgZ(0,"tr",3)(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._UZ(12,"img",4),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.nombre),u.xp6(2),u.Oqu(t.cantidadPublico),u.xp6(2),u.Oqu(t.fechaEstreno),u.xp6(2),u.Oqu(t.tipo),u.xp6(2),u.AsE("",t.actor.nombre," ",t.actor.apellido,""),u.xp6(2),u.s9C("src",t.fotoPelicula,u.LSH)}}let sP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-pelicula-listado"]],inputs:{listadoRecibidoDePeliculas:"listadoRecibidoDePeliculas"},decls:17,vars:1,consts:[[1,"table","table-hover"],["scope","col"],["style","cursor: pointer",4,"ngFor","ngForOf"],[2,"cursor","pointer"],["alt","bandera",2,"width","40px","height","40px","border-radius","50%",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),u._uU(4,"TITULO"),u.qZA(),u.TgZ(5,"th",1),u._uU(6,"ESPECTADORES"),u.qZA(),u.TgZ(7,"th",1),u._uU(8,"FECHA ESTRENO"),u.qZA(),u.TgZ(9,"th",1),u._uU(10,"GENERO"),u.qZA(),u.TgZ(11,"th",1),u._uU(12,"ACTORES"),u.qZA(),u.TgZ(13,"th",1),u._uU(14,"PORTADA"),u.qZA()()(),u.TgZ(15,"tbody"),u.YNc(16,Uj,13,7,"tr",2),u.qZA()()),2&t&&(u.xp6(16),u.Q6J("ngForOf",r.listadoRecibidoDePeliculas))},dependencies:[fr]}),n})();function Bj(n,e){1&n&&(u.TgZ(0,"small",40),u._uU(1," El actor es requerido "),u.qZA())}function jj(n,e){1&n&&(u.TgZ(0,"small",40),u._uU(1," El nombre es requerido "),u.qZA())}function $j(n,e){1&n&&(u.TgZ(0,"small",40),u._uU(1," Los espectadores son requeridos "),u.qZA())}function Hj(n,e){1&n&&(u.TgZ(0,"small",40),u._uU(1," El tipo es requerido "),u.qZA())}function Gj(n,e){1&n&&(u.TgZ(0,"small",40),u._uU(1," La fecha es requerida "),u.qZA())}function Wj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"img",41),u.NdJ("click",function(){const l=u.CHM(t).$implicit,d=u.oxw();return u.KtG(d.seleccionarPortada(l))}),u.qZA()}2&n&&u.s9C("src",e.$implicit,u.LSH)}function zj(n,e){1&n&&(u.TgZ(0,"small",40),u._uU(1," Debes seleccionar una portada "),u.qZA())}function qj(n,e){if(1&n&&(u.TgZ(0,"div",42)(1,"h2"),u._uU(2,"LISTADO DE PELICULAS"),u.qZA(),u._UZ(3,"app-pelicula-listado",43),u.qZA()),2&n){const t=u.oxw();u.xp6(3),u.Q6J("listadoRecibidoDePeliculas",t.listadoPeliculas)}}const Zj=[{path:"bienvenido",component:Pj},{path:"",component:Vj},{path:"peliculas/alta",component:(()=>{class n{constructor(t,r){this.formBuilder=t,this.entidadesService=r,this.listadoImagenes=null,this.listadoActores=[],this.listadoPeliculas=[],this.peliculaNueva=new sN(0,"","","",0,"",{}),this.formEnviado=!1,this.imagenSeleccionada=!1,this.vistaListado=!1,this.textoVistaListado="Ver Listado de Peliculas"}ngOnInit(){this.listadoImagenes=this.entidadesService.traerImagenesPeliculas(),this.forma=this.formBuilder.group({nombre:["",$i.required],espectadores:["",$i.required],tipo:["",$i.required],estreno:["",$i.required],portada:["",$i.required],actor:["",$i.required]}),this.entidadesService.traerActores().subscribe(t=>{null!=t&&(this.listadoActores=t)}),this.entidadesService.traerPeliculas().subscribe(t=>{null!=t&&(this.listadoPeliculas=t)})}agregarPelicula(t){this.forma.setValue({nombre:this.forma.getRawValue().nombre,espectadores:this.forma.getRawValue().espectadores,tipo:this.forma.getRawValue().tipo,estreno:this.forma.getRawValue().estreno,portada:this.peliculaNueva.fotoPelicula,actor:this.peliculaNueva.actor}),this.forma.invalid?this.formEnviado=!0:(this.peliculaNueva.nombre=this.forma.getRawValue().nombre,this.peliculaNueva.cantidadPublico=this.forma.getRawValue().espectadores,this.peliculaNueva.tipo=this.forma.getRawValue().tipo,this.peliculaNueva.fechaEstreno=this.forma.getRawValue().estreno,this.entidadesService.crearPelicula(this.peliculaNueva),this.peliculaNueva=new sN(0,"","","",0,"",{}),this.forma.reset(),this.imagenSeleccionada=!1)}seleccionarPortada(t){this.peliculaNueva.fotoPelicula=t,this.imagenSeleccionada=!0}tomarActorSeleccionado(t){this.peliculaNueva.actor=t,this.formEnviado=!1}verListado(){this.vistaListado=!this.vistaListado,this.textoVistaListado=this.vistaListado?"Dejar de Ver Listado":"Ver Listado de Actores"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jw),u.Y36(T1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-pelicula-alta"]],decls:75,vars:12,consts:[[1,"container"],[1,"py-3","text-center"],[1,"row","g-5"],[1,"col-md-6","col-lg-4","order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"py-5","text-center",2,"overflow","scroll"],[3,"listadoRecibidoDeActores","PasamosUnActor"],["style","color: red",4,"ngIf"],[1,"col-md-7","col-lg-8"],[3,"formGroup","ngSubmit"],[1,"mb-3","text-primary"],[1,"row","g-3"],[1,"col-sm-6"],["for","nombre",1,"form-label"],["type","text","formControlName","nombre","required","",1,"form-control"],[1,"col-md-3"],["for","espectadores",1,"form-label"],["type","number","formControlName","espectadores","required","",1,"form-control"],[1,"col-md-5",2,"width","contain"],["for","tipo",1,"form-label"],["id","tipo","formControlName","tipo","required",""],["value",""],["value","Comedia"],["value","Terror"],["value","Otro"],["for","estreno",1,"form-label"],["type","date","formControlName","estreno","required","",1,"form-control"],[1,"row"],[1,"col",2,"height","160px","margin-top","1rem","overflow","scroll","background","#000"],["style","\n                    width: 120px;\n                    height: 150px;\n                    padding: 10px;\n                    object-fit: cover;\n                  ","class","imagen","alt","foto pelicula",3,"src","click",4,"ngFor","ngForOf"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg"],["type","button",1,"w-50","btn","btn-lg",2,"margin-top","2rem","display","block","margin-left","auto","margin-right","auto",3,"ngClass","click"],["class","py-5 text-center",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],[2,"color","red"],["alt","foto pelicula",1,"imagen",2,"width","120px","height","150px","padding","10px","object-fit","cover",3,"src","click"],[1,"py-5","text-center"],[3,"listadoRecibidoDePeliculas"]],template:function(t,r){1&t&&(u._UZ(0,"app-navbar"),u.TgZ(1,"div",0)(2,"main")(3,"div",1)(4,"h2"),u._uU(5,"ALTA PELICULA"),u.qZA()(),u.TgZ(6,"div",2)(7,"div",3)(8,"h4",4)(9,"span",5),u._uU(10,"SELECCIONA UN ACTOR"),u.qZA()(),u.TgZ(11,"div",6)(12,"app-actor-listado",7),u.NdJ("PasamosUnActor",function(l){return r.tomarActorSeleccionado(l)}),u.qZA()(),u._UZ(13,"br"),u.YNc(14,Bj,2,0,"small",8),u.qZA(),u.TgZ(15,"div",9)(16,"form",10),u.NdJ("ngSubmit",function(l){return r.agregarPelicula(l)}),u.TgZ(17,"h4",11),u._uU(18,"DATOS PELICULA"),u.qZA(),u.TgZ(19,"div",12)(20,"div",13)(21,"label",14),u._uU(22,"Titulo"),u.qZA(),u._UZ(23,"input",15),u.YNc(24,jj,2,0,"small",8),u.qZA(),u.TgZ(25,"div",16)(26,"label",17),u._uU(27,"Espectadores"),u.qZA(),u._UZ(28,"input",18),u.YNc(29,$j,2,0,"small",8),u.qZA(),u.TgZ(30,"div",19)(31,"label",20),u._uU(32,"Tipo"),u.qZA(),u._UZ(33,"br"),u.TgZ(34,"select",21)(35,"option",22),u._uU(36,"Seleccione tipo"),u.qZA(),u.TgZ(37,"option",23),u._uU(38,"Comedia"),u.qZA(),u.TgZ(39,"option",24),u._uU(40,"Terror"),u.qZA(),u.TgZ(41,"option",25),u._uU(42,"Otro"),u.qZA()(),u._UZ(43,"br"),u.YNc(44,Hj,2,0,"small",8),u.qZA(),u.TgZ(45,"div",19)(46,"label",26),u._uU(47,"Estreno"),u.qZA(),u._UZ(48,"input",27),u.YNc(49,Gj,2,0,"small",8),u.qZA(),u.TgZ(50,"h4",11),u._uU(51,"SELECCIONA UNA PORTADA"),u.qZA(),u.TgZ(52,"div",28)(53,"div",29),u.YNc(54,Wj,1,1,"img",30),u.qZA(),u.YNc(55,zj,2,0,"small",8),u.qZA()(),u._UZ(56,"hr",31),u.TgZ(57,"button",32),u._uU(58," Registrar Pelicula "),u.qZA()()()(),u.TgZ(59,"button",33),u.NdJ("click",function(){return r.verListado()}),u._uU(60),u.qZA(),u.YNc(61,qj,4,1,"div",34),u.qZA(),u.TgZ(62,"footer",35)(63,"p",36),u._uU(64,"\xa9 2017\u20132022 Company Name"),u.qZA(),u.TgZ(65,"ul",37)(66,"li",38)(67,"a",39),u._uU(68,"Privacy"),u.qZA()(),u.TgZ(69,"li",38)(70,"a",39),u._uU(71,"Terms"),u.qZA()(),u.TgZ(72,"li",38)(73,"a",39),u._uU(74,"Support"),u.qZA()()()()()),2&t&&(u.xp6(12),u.Q6J("listadoRecibidoDeActores",r.listadoActores),u.xp6(2),u.Q6J("ngIf",r.forma.invalid&&r.formEnviado),u.xp6(2),u.Q6J("formGroup",r.forma),u.xp6(8),u.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),u.xp6(5),u.Q6J("ngIf",(null==r.forma.controls.espectadores.errors?null:r.forma.controls.espectadores.errors.required)&&r.forma.controls.espectadores.touched),u.xp6(15),u.Q6J("ngIf",(null==r.forma.controls.tipo.errors?null:r.forma.controls.tipo.errors.required)&&r.forma.controls.tipo.touched),u.xp6(5),u.Q6J("ngIf",(null==r.forma.controls.estreno.errors?null:r.forma.controls.estreno.errors.required)&&r.forma.controls.estreno.touched),u.xp6(5),u.Q6J("ngForOf",r.listadoImagenes),u.xp6(1),u.Q6J("ngIf",!r.imagenSeleccionada),u.xp6(4),u.Q6J("ngClass",r.vistaListado?"btn-danger":"btn-success"),u.xp6(1),u.hij(" ",r.textoVistaListado," "),u.xp6(1),u.Q6J("ngIf",r.vistaListado))},dependencies:[ln,fr,En,by,Nf,Ug,ho,kg,Af,fo,_f,Qu,Cf,Vg,I1,sP,$1],styles:[".imagen[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer}"]}),n})()},{path:"peliculas/listado",component:sP},{path:"actor/alta",component:Aj},{path:"actor/listado",component:I1},{path:"actor/actorpelicula",component:xj}];let Kj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Xb.forRoot(Zj),Xb]}),n})(),Yj=(()=>{class n{constructor(){this.title="SimulacroPrimerParcial"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[Ab]}),n})();const oP_firebase={projectId:"laboratorioiv-simulacropp",appId:"1:578364066773:web:93e16b3225277182a44b5c",storageBucket:"laboratorioiv-simulacropp.appspot.com",locationId:"us-central",apiKey:"AIzaSyDxdlu1FtmSQ3620Qz3JROx1B1m2QTpEyQ",authDomain:"laboratorioiv-simulacropp.firebaseapp.com",messagingSenderId:"578364066773"};P(7143);class lP{constructor(){return(0,rr.vb)("auth")}}class lN{constructor(e){return e}}const uP="firestore",uN=new u.OlP("angularfire2.firestore-instances");function n$(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new lN(r)}}const r$={provide:class e${constructor(){return(0,rr.vb)(uP)}},deps:[[new u.FiY,uN]]},i$={provide:lN,useFactory:function t$(n,e){const t=(0,rr.JM)(uP,n,e);return t&&new lN(t)},deps:[[new u.FiY,uN],class i_{constructor(e){return e}}]};let s$=(()=>{class n{constructor(){(0,uA.KN)("angularfire",rr.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[i$,r$]}),n})();function o$(n,...e){return{ngModule:s$,providers:[{provide:uN,useFactory:n$(n),multi:!0,deps:[u.R0b,u.zs3,rr.HU,GR,[new u.FiY,lP],[new u.FiY,w1],...e]}]}}const a$=(0,rr.u3)(Zk,!0);let l$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[Yj]}),n.\u0275inj=u.cJS({imports:[zo,Kj,_j,jg,Uw,_2,fs.hO.initializeApp(oP_firebase),t2,o$(()=>a$())]}),n})();(0,u.G48)(),Ba().bootstrapModule(l$).catch(n=>console.error(n))},9751:(gt,Oe,P)=>{P.d(Oe,{y:()=>he});var u=P(930),U=P(727),M=P(8822),se=P(9635),ue=P(2416),_e=P(576),pe=P(2806);let he=(()=>{class X{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const Ee=new X;return Ee.source=this,Ee.operator=Pe,Ee}subscribe(Pe,Ee,at){const Te=function W(X){return X&&X instanceof u.Lv||function G(X){return X&&(0,_e.m)(X.next)&&(0,_e.m)(X.error)&&(0,_e.m)(X.complete)}(X)&&(0,U.Nn)(X)}(Pe)?Pe:new u.Hp(Pe,Ee,at);return(0,pe.x)(()=>{const{operator:ge,source:tt}=this;Te.add(ge?ge.call(Te,tt):tt?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Ee){Pe.error(Ee)}}forEach(Pe,Ee){return new(Ee=be(Ee))((at,Te)=>{const ge=new u.Hp({next:tt=>{try{Pe(tt)}catch(nt){Te(nt),ge.unsubscribe()}},error:Te,complete:at});this.subscribe(ge)})}_subscribe(Pe){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(Pe)}[M.L](){return this}pipe(...Pe){return(0,se.U)(Pe)(this)}toPromise(Pe){return new(Pe=be(Pe))((Ee,at)=>{let Te;this.subscribe(ge=>Te=ge,ge=>at(ge),()=>Ee(Te))})}}return X.create=He=>new X(He),X})();function be(X){var He;return null!==(He=X??ue.v.Promise)&&void 0!==He?He:Promise}},7579:(gt,Oe,P)=>{P.d(Oe,{x:()=>pe});var u=P(9751),U=P(727);const se=(0,P(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=P(8737),_e=P(2806);let pe=(()=>{class be extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const X=new he(this,this);return X.operator=W,X}_throwIfClosed(){if(this.closed)throw new se}next(W){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(W)}})}error(W){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:X}=this;for(;X.length;)X.shift().error(W)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:X,isStopped:He,observers:Pe}=this;return X||He?U.Lc:(this.currentObservers=null,Pe.push(W),new U.w0(()=>{this.currentObservers=null,(0,ue.P)(Pe,W)}))}_checkFinalizedStatuses(W){const{hasError:X,thrownError:He,isStopped:Pe}=this;X?W.error(He):Pe&&W.complete()}asObservable(){const W=new u.y;return W.source=this,W}}return be.create=(G,W)=>new he(G,W),be})();class he extends pe{constructor(G,W){super(),this.destination=G,this.source=W}next(G){var W,X;null===(X=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===X||X.call(W,G)}error(G){var W,X;null===(X=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===X||X.call(W,G)}complete(){var G,W;null===(W=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===W||W.call(G)}_subscribe(G){var W,X;return null!==(X=null===(W=this.source)||void 0===W?void 0:W.subscribe(G))&&void 0!==X?X:U.Lc}}},930:(gt,Oe,P)=>{P.d(Oe,{Hp:()=>at,Lv:()=>X});var u=P(576),U=P(727),M=P(2416),se=P(7849),ue=P(5032);const _e=be("C",void 0,void 0);function be(Fe,Re,Ce){return{kind:Fe,value:Re,error:Ce}}var G=P(3410),W=P(2806);class X extends U.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,U.Nn)(Re)&&Re.add(this)):this.destination=nt}static create(Re,Ce,Ze){return new at(Re,Ce,Ze)}next(Re){this.isStopped?tt(function he(Fe){return be("N",Fe,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?tt(function pe(Fe){return be("E",void 0,Fe)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?tt(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Pe(Fe,Re){return He.call(Fe,Re)}class Ee{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Re)}catch(Ze){Te(Ze)}}error(Re){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Re)}catch(Ze){Te(Ze)}else Te(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Ce){Te(Ce)}}}class at extends X{constructor(Re,Ce,Ze){let ie;if(super(),(0,u.m)(Re)||!Re)ie={next:Re??void 0,error:Ce??void 0,complete:Ze??void 0};else{let ce;this&&M.v.useDeprecatedNextContext?(ce=Object.create(Re),ce.unsubscribe=()=>this.unsubscribe(),ie={next:Re.next&&Pe(Re.next,ce),error:Re.error&&Pe(Re.error,ce),complete:Re.complete&&Pe(Re.complete,ce)}):ie=Re}this.destination=new Ee(ie)}}function Te(Fe){M.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Fe):(0,se.h)(Fe)}function tt(Fe,Re){const{onStoppedNotification:Ce}=M.v;Ce&&G.z.setTimeout(()=>Ce(Fe,Re))}const nt={closed:!0,next:ue.Z,error:function ge(Fe){throw Fe},complete:ue.Z}},727:(gt,Oe,P)=>{P.d(Oe,{Lc:()=>_e,w0:()=>ue,Nn:()=>pe});var u=P(576);const M=(0,P(3888).d)(be=>function(W){be(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((X,He)=>`${He+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var se=P(8737);class ue{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Pe of W)Pe.remove(this);else W.remove(this);const{initialTeardown:X}=this;if((0,u.m)(X))try{X()}catch(Pe){G=Pe instanceof M?Pe.errors:[Pe]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Pe of He)try{he(Pe)}catch(Ee){G=G??[],Ee instanceof M?G=[...G,...Ee.errors]:G.push(Ee)}}if(G)throw new M(G)}}add(G){var W;if(G&&G!==this)if(this.closed)he(G);else{if(G instanceof ue){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(G)}}_hasParent(G){const{_parentage:W}=this;return W===G||Array.isArray(W)&&W.includes(G)}_addParent(G){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(G),W):W?[W,G]:G}_removeParent(G){const{_parentage:W}=this;W===G?this._parentage=null:Array.isArray(W)&&(0,se.P)(W,G)}remove(G){const{_finalizers:W}=this;W&&(0,se.P)(W,G),G instanceof ue&&G._removeParent(this)}}ue.EMPTY=(()=>{const be=new ue;return be.closed=!0,be})();const _e=ue.EMPTY;function pe(be){return be instanceof ue||be&&"closed"in be&&(0,u.m)(be.remove)&&(0,u.m)(be.add)&&(0,u.m)(be.unsubscribe)}function he(be){(0,u.m)(be)?be():be.unsubscribe()}},2416:(gt,Oe,P)=>{P.d(Oe,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(gt,Oe,P)=>{P.d(Oe,{E:()=>U});const U=new(P(9751).y)(ue=>ue.complete())},8996:(gt,Oe,P)=>{P.d(Oe,{D:()=>Re});var u=P(8421),U=P(5363),M=P(9468),_e=P(9751),he=P(2202),be=P(576),G=P(9672);function X(Ce,Ze){if(!Ce)throw new Error("Iterable cannot be null");return new _e.y(ie=>{(0,G.f)(ie,Ze,()=>{const ce=Ce[Symbol.asyncIterator]();(0,G.f)(ie,Ze,()=>{ce.next().then(ve=>{ve.done?ie.complete():ie.next(ve.value)})},0,!0)})})}var He=P(3670),Pe=P(8239),Ee=P(1144),at=P(6495),Te=P(2206),ge=P(4532),tt=P(3260);function Re(Ce,Ze){return Ze?function Fe(Ce,Ze){if(null!=Ce){if((0,He.c)(Ce))return function se(Ce,Ze){return(0,u.Xf)(Ce).pipe((0,M.R)(Ze),(0,U.Q)(Ze))}(Ce,Ze);if((0,Ee.z)(Ce))return function pe(Ce,Ze){return new _e.y(ie=>{let ce=0;return Ze.schedule(function(){ce===Ce.length?ie.complete():(ie.next(Ce[ce++]),ie.closed||this.schedule())})})}(Ce,Ze);if((0,Pe.t)(Ce))return function ue(Ce,Ze){return(0,u.Xf)(Ce).pipe((0,M.R)(Ze),(0,U.Q)(Ze))}(Ce,Ze);if((0,Te.D)(Ce))return X(Ce,Ze);if((0,at.T)(Ce))return function W(Ce,Ze){return new _e.y(ie=>{let ce;return(0,G.f)(ie,Ze,()=>{ce=Ce[he.h](),(0,G.f)(ie,Ze,()=>{let ve,Q;try{({value:ve,done:Q}=ce.next())}catch(ee){return void ie.error(ee)}Q?ie.complete():ie.next(ve)},0,!0)}),()=>(0,be.m)(ce?.return)&&ce.return()})}(Ce,Ze);if((0,tt.L)(Ce))return function nt(Ce,Ze){return X((0,tt.Q)(Ce),Ze)}(Ce,Ze)}throw(0,ge.z)(Ce)}(Ce,Ze):(0,u.Xf)(Ce)}},8421:(gt,Oe,P)=>{P.d(Oe,{Xf:()=>He});var u=P(655),U=P(1144),M=P(8239),se=P(9751),ue=P(3670),_e=P(2206),pe=P(4532),he=P(6495),be=P(3260),G=P(576),W=P(7849),X=P(8822);function He(Fe){if(Fe instanceof se.y)return Fe;if(null!=Fe){if((0,ue.c)(Fe))return function Pe(Fe){return new se.y(Re=>{const Ce=Fe[X.L]();if((0,G.m)(Ce.subscribe))return Ce.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,U.z)(Fe))return function Ee(Fe){return new se.y(Re=>{for(let Ce=0;Ce<Fe.length&&!Re.closed;Ce++)Re.next(Fe[Ce]);Re.complete()})}(Fe);if((0,M.t)(Fe))return function at(Fe){return new se.y(Re=>{Fe.then(Ce=>{Re.closed||(Re.next(Ce),Re.complete())},Ce=>Re.error(Ce)).then(null,W.h)})}(Fe);if((0,_e.D)(Fe))return ge(Fe);if((0,he.T)(Fe))return function Te(Fe){return new se.y(Re=>{for(const Ce of Fe)if(Re.next(Ce),Re.closed)return;Re.complete()})}(Fe);if((0,be.L)(Fe))return function tt(Fe){return ge((0,be.Q)(Fe))}(Fe)}throw(0,pe.z)(Fe)}function ge(Fe){return new se.y(Re=>{(function nt(Fe,Re){var Ce,Ze,ie,ce;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,u.KL)(Fe);!(Ze=yield Ce.next()).done;)if(Re.next(Ze.value),Re.closed)return}catch(ve){ie={error:ve}}finally{try{Ze&&!Ze.done&&(ce=Ce.return)&&(yield ce.call(Ce))}finally{if(ie)throw ie.error}}Re.complete()})})(Fe,Re).catch(Ce=>Re.error(Ce))})}},6451:(gt,Oe,P)=>{P.d(Oe,{T:()=>_e});var u=P(8189),U=P(8421),M=P(515),se=P(3269),ue=P(8996);function _e(...pe){const he=(0,se.yG)(pe),be=(0,se._6)(pe,1/0),G=pe;return G.length?1===G.length?(0,U.Xf)(G[0]):(0,u.J)(be)((0,ue.D)(G,he)):M.E}},5403:(gt,Oe,P)=>{P.d(Oe,{x:()=>U});var u=P(930);function U(se,ue,_e,pe,he){return new M(se,ue,_e,pe,he)}class M extends u.Lv{constructor(ue,_e,pe,he,be,G){super(ue),this.onFinalize=be,this.shouldUnsubscribe=G,this._next=_e?function(W){try{_e(W)}catch(X){ue.error(X)}}:super._next,this._error=he?function(W){try{he(W)}catch(X){ue.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(W){ue.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(gt,Oe,P)=>{P.d(Oe,{U:()=>M});var u=P(4482),U=P(5403);function M(se,ue){return(0,u.e)((_e,pe)=>{let he=0;_e.subscribe((0,U.x)(pe,be=>{pe.next(se.call(ue,be,he++))}))})}},8189:(gt,Oe,P)=>{P.d(Oe,{J:()=>M});var u=P(5577),U=P(4671);function M(se=1/0){return(0,u.z)(U.y,se)}},5577:(gt,Oe,P)=>{P.d(Oe,{z:()=>he});var u=P(4004),U=P(8421),M=P(4482),se=P(9672),ue=P(5403),pe=P(576);function he(be,G,W=1/0){return(0,pe.m)(G)?he((X,He)=>(0,u.U)((Pe,Ee)=>G(X,Pe,He,Ee))((0,U.Xf)(be(X,He))),W):("number"==typeof G&&(W=G),(0,M.e)((X,He)=>function _e(be,G,W,X,He,Pe,Ee,at){const Te=[];let ge=0,tt=0,nt=!1;const Fe=()=>{nt&&!Te.length&&!ge&&G.complete()},Re=Ze=>ge<X?Ce(Ze):Te.push(Ze),Ce=Ze=>{Pe&&G.next(Ze),ge++;let ie=!1;(0,U.Xf)(W(Ze,tt++)).subscribe((0,ue.x)(G,ce=>{He?.(ce),Pe?Re(ce):G.next(ce)},()=>{ie=!0},void 0,()=>{if(ie)try{for(ge--;Te.length&&ge<X;){const ce=Te.shift();Ee?(0,se.f)(G,Ee,()=>Ce(ce)):Ce(ce)}Fe()}catch(ce){G.error(ce)}}))};return be.subscribe((0,ue.x)(G,Re,()=>{nt=!0,Fe()})),()=>{at?.()}}(X,He,be,W)))}},5363:(gt,Oe,P)=>{P.d(Oe,{Q:()=>se});var u=P(9672),U=P(4482),M=P(5403);function se(ue,_e=0){return(0,U.e)((pe,he)=>{pe.subscribe((0,M.x)(he,be=>(0,u.f)(he,ue,()=>he.next(be),_e),()=>(0,u.f)(he,ue,()=>he.complete(),_e),be=>(0,u.f)(he,ue,()=>he.error(be),_e)))})}},3099:(gt,Oe,P)=>{P.d(Oe,{B:()=>ue});var u=P(8421),U=P(7579),M=P(930),se=P(4482);function ue(pe={}){const{connector:he=(()=>new U.x),resetOnError:be=!0,resetOnComplete:G=!0,resetOnRefCountZero:W=!0}=pe;return X=>{let He,Pe,Ee,at=0,Te=!1,ge=!1;const tt=()=>{Pe?.unsubscribe(),Pe=void 0},nt=()=>{tt(),He=Ee=void 0,Te=ge=!1},Fe=()=>{const Re=He;nt(),Re?.unsubscribe()};return(0,se.e)((Re,Ce)=>{at++,!ge&&!Te&&tt();const Ze=Ee=Ee??he();Ce.add(()=>{at--,0===at&&!ge&&!Te&&(Pe=_e(Fe,W))}),Ze.subscribe(Ce),!He&&at>0&&(He=new M.Hp({next:ie=>Ze.next(ie),error:ie=>{ge=!0,tt(),Pe=_e(nt,be,ie),Ze.error(ie)},complete:()=>{Te=!0,tt(),Pe=_e(nt,G),Ze.complete()}}),(0,u.Xf)(Re).subscribe(He))})(X)}}function _e(pe,he,...be){if(!0===he)return void pe();if(!1===he)return;const G=new M.Hp({next:()=>{G.unsubscribe(),pe()}});return he(...be).subscribe(G)}},9468:(gt,Oe,P)=>{P.d(Oe,{R:()=>U});var u=P(4482);function U(M,se=0){return(0,u.e)((ue,_e)=>{_e.add(M.schedule(()=>ue.subscribe(_e),se))})}},8505:(gt,Oe,P)=>{P.d(Oe,{b:()=>ue});var u=P(576),U=P(4482),M=P(5403),se=P(4671);function ue(_e,pe,he){const be=(0,u.m)(_e)||pe||he?{next:_e,error:pe,complete:he}:_e;return be?(0,U.e)((G,W)=>{var X;null===(X=be.subscribe)||void 0===X||X.call(be);let He=!0;G.subscribe((0,M.x)(W,Pe=>{var Ee;null===(Ee=be.next)||void 0===Ee||Ee.call(be,Pe),W.next(Pe)},()=>{var Pe;He=!1,null===(Pe=be.complete)||void 0===Pe||Pe.call(be),W.complete()},Pe=>{var Ee;He=!1,null===(Ee=be.error)||void 0===Ee||Ee.call(be,Pe),W.error(Pe)},()=>{var Pe,Ee;He&&(null===(Pe=be.unsubscribe)||void 0===Pe||Pe.call(be)),null===(Ee=be.finalize)||void 0===Ee||Ee.call(be)}))}):se.y}},4408:(gt,Oe,P)=>{P.d(Oe,{o:()=>ue});var u=P(727);class U extends u.w0{constructor(pe,he){super()}schedule(pe,he=0){return this}}const M={setInterval(_e,pe,...he){const{delegate:be}=M;return be?.setInterval?be.setInterval(_e,pe,...he):setInterval(_e,pe,...he)},clearInterval(_e){const{delegate:pe}=M;return(pe?.clearInterval||clearInterval)(_e)},delegate:void 0};var se=P(8737);class ue extends U{constructor(pe,he){super(pe,he),this.scheduler=pe,this.work=he,this.pending=!1}schedule(pe,he=0){if(this.closed)return this;this.state=pe;const be=this.id,G=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(G,be,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(G,this.id,he),this}requestAsyncId(pe,he,be=0){return M.setInterval(pe.flush.bind(pe,this),be)}recycleAsyncId(pe,he,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return he;M.clearInterval(he)}execute(pe,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(pe,he);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,he){let G,be=!1;try{this.work(pe)}catch(W){be=!0,G=W||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:pe,scheduler:he}=this,{actions:be}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(be,this),null!=pe&&(this.id=this.recycleAsyncId(he,pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,Oe,P)=>{P.d(Oe,{v:()=>M});var u=P(6063);class U{constructor(ue,_e=U.now){this.schedulerActionCtor=ue,this.now=_e}schedule(ue,_e=0,pe){return new this.schedulerActionCtor(this,ue).schedule(pe,_e)}}U.now=u.l.now;class M extends U{constructor(ue,_e=U.now){super(ue,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ue){const{actions:_e}=this;if(this._active)return void _e.push(ue);let pe;this._active=!0;do{if(pe=ue.execute(ue.state,ue.delay))break}while(ue=_e.shift());if(this._active=!1,pe){for(;ue=_e.shift();)ue.unsubscribe();throw pe}}}},4986:(gt,Oe,P)=>{P.d(Oe,{P:()=>se,z:()=>M});var u=P(4408);const M=new(P(7565).v)(u.o),se=M},6063:(gt,Oe,P)=>{P.d(Oe,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(gt,Oe,P)=>{P.d(Oe,{z:()=>u});const u={setTimeout(U,M,...se){const{delegate:ue}=u;return ue?.setTimeout?ue.setTimeout(U,M,...se):setTimeout(U,M,...se)},clearTimeout(U){const{delegate:M}=u;return(M?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(gt,Oe,P)=>{P.d(Oe,{h:()=>U});const U=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,Oe,P)=>{P.d(Oe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(gt,Oe,P)=>{P.d(Oe,{_6:()=>_e,jO:()=>se,yG:()=>ue});var u=P(576),U=P(3532);function M(pe){return pe[pe.length-1]}function se(pe){return(0,u.m)(M(pe))?pe.pop():void 0}function ue(pe){return(0,U.K)(M(pe))?pe.pop():void 0}function _e(pe,he){return"number"==typeof M(pe)?pe.pop():he}},8737:(gt,Oe,P)=>{function u(U,M){if(U){const se=U.indexOf(M);0<=se&&U.splice(se,1)}}P.d(Oe,{P:()=>u})},3888:(gt,Oe,P)=>{function u(U){const se=U(ue=>{Error.call(ue),ue.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Oe,{d:()=>u})},2806:(gt,Oe,P)=>{P.d(Oe,{O:()=>se,x:()=>M});var u=P(2416);let U=null;function M(ue){if(u.v.useDeprecatedSynchronousErrorHandling){const _e=!U;if(_e&&(U={errorThrown:!1,error:null}),ue(),_e){const{errorThrown:pe,error:he}=U;if(U=null,pe)throw he}}else ue()}function se(ue){u.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=ue)}},9672:(gt,Oe,P)=>{function u(U,M,se,ue=0,_e=!1){const pe=M.schedule(function(){se(),_e?U.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(U.add(pe),!_e)return pe}P.d(Oe,{f:()=>u})},4671:(gt,Oe,P)=>{function u(U){return U}P.d(Oe,{y:()=>u})},1144:(gt,Oe,P)=>{P.d(Oe,{z:()=>u});const u=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(gt,Oe,P)=>{P.d(Oe,{D:()=>U});var u=P(576);function U(M){return Symbol.asyncIterator&&(0,u.m)(M?.[Symbol.asyncIterator])}},576:(gt,Oe,P)=>{function u(U){return"function"==typeof U}P.d(Oe,{m:()=>u})},3670:(gt,Oe,P)=>{P.d(Oe,{c:()=>M});var u=P(8822),U=P(576);function M(se){return(0,U.m)(se[u.L])}},6495:(gt,Oe,P)=>{P.d(Oe,{T:()=>M});var u=P(2202),U=P(576);function M(se){return(0,U.m)(se?.[u.h])}},8239:(gt,Oe,P)=>{P.d(Oe,{t:()=>U});var u=P(576);function U(M){return(0,u.m)(M?.then)}},3260:(gt,Oe,P)=>{P.d(Oe,{L:()=>se,Q:()=>M});var u=P(655),U=P(576);function M(ue){return(0,u.FC)(this,arguments,function*(){const pe=ue.getReader();try{for(;;){const{value:he,done:be}=yield(0,u.qq)(pe.read());if(be)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(he)}}finally{pe.releaseLock()}})}function se(ue){return(0,U.m)(ue?.getReader)}},3532:(gt,Oe,P)=>{P.d(Oe,{K:()=>U});var u=P(576);function U(M){return M&&(0,u.m)(M.schedule)}},4482:(gt,Oe,P)=>{P.d(Oe,{A:()=>U,e:()=>M});var u=P(576);function U(se){return(0,u.m)(se?.lift)}function M(se){return ue=>{if(U(ue))return ue.lift(function(_e){try{return se(_e,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(gt,Oe,P)=>{function u(){}P.d(Oe,{Z:()=>u})},9635:(gt,Oe,P)=>{P.d(Oe,{U:()=>M,z:()=>U});var u=P(4671);function U(...se){return M(se)}function M(se){return 0===se.length?u.y:1===se.length?se[0]:function(_e){return se.reduce((pe,he)=>he(pe),_e)}}},7849:(gt,Oe,P)=>{P.d(Oe,{h:()=>M});var u=P(2416),U=P(3410);function M(se){U.z.setTimeout(()=>{const{onUnhandledError:ue}=u.v;if(!ue)throw se;ue(se)})}},4532:(gt,Oe,P)=>{function u(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Oe,{z:()=>u})},655:(gt,Oe,P)=>{function se(Q,ee){var fe={};for(var oe in Q)Object.prototype.hasOwnProperty.call(Q,oe)&&ee.indexOf(oe)<0&&(fe[oe]=Q[oe]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(oe=Object.getOwnPropertySymbols(Q);Ve<oe.length;Ve++)ee.indexOf(oe[Ve])<0&&Object.prototype.propertyIsEnumerable.call(Q,oe[Ve])&&(fe[oe[Ve]]=Q[oe[Ve]])}return fe}function he(Q,ee,fe,oe){return new(fe||(fe=Promise))(function(Ue,bt){function en(mn){try{Ke(oe.next(mn))}catch(Ln){bt(Ln)}}function qt(mn){try{Ke(oe.throw(mn))}catch(Ln){bt(Ln)}}function Ke(mn){mn.done?Ue(mn.value):function Ve(Ue){return Ue instanceof fe?Ue:new fe(function(bt){bt(Ue)})}(mn.value).then(en,qt)}Ke((oe=oe.apply(Q,ee||[])).next())})}function Te(Q){return this instanceof Te?(this.v=Q,this):new Te(Q)}function ge(Q,ee,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,oe=fe.apply(Q,ee||[]),Ue=[];return Ve={},bt("next"),bt("throw"),bt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function bt(sn){oe[sn]&&(Ve[sn]=function(tn){return new Promise(function(Wt,jt){Ue.push([sn,tn,Wt,jt])>1||en(sn,tn)})})}function en(sn,tn){try{!function qt(sn){sn.value instanceof Te?Promise.resolve(sn.value.v).then(Ke,mn):Ln(Ue[0][2],sn)}(oe[sn](tn))}catch(Wt){Ln(Ue[0][3],Wt)}}function Ke(sn){en("next",sn)}function mn(sn){en("throw",sn)}function Ln(sn,tn){sn(tn),Ue.shift(),Ue.length&&en(Ue[0][0],Ue[0][1])}}function nt(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ee=Q[Symbol.asyncIterator];return ee?ee.call(Q):(Q=function X(Q){var ee="function"==typeof Symbol&&Symbol.iterator,fe=ee&&Q[ee],oe=0;if(fe)return fe.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&oe>=Q.length&&(Q=void 0),{value:Q&&Q[oe++],done:!Q}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),fe={},oe("next"),oe("throw"),oe("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function oe(Ue){fe[Ue]=Q[Ue]&&function(bt){return new Promise(function(en,qt){!function Ve(Ue,bt,en,qt){Promise.resolve(qt).then(function(Ke){Ue({value:Ke,done:en})},bt)}(en,qt,(bt=Q[Ue](bt)).done,bt.value)})}}}P.d(Oe,{FC:()=>ge,KL:()=>nt,_T:()=>se,mG:()=>he,qq:()=>Te})},4650:(gt,Oe,P)=>{P.d(Oe,{$8M:()=>Fl,$Z:()=>oy,AFp:()=>ST,AaK:()=>he,AsE:()=>Nd,CHM:()=>wh,CRH:()=>qd,CZH:()=>lp,CqO:()=>Uy,D6c:()=>WT,EJc:()=>Or,EpF:()=>Wg,F$t:()=>Xw,F4k:()=>Kw,FYo:()=>oI,FiY:()=>De,G48:()=>_C,Gf:()=>Gv,GfV:()=>Nb,Gpc:()=>W,Hsn:()=>Sd,Ikx:()=>lm,JOm:()=>ia,KtG:()=>Fo,LFG:()=>Qt,LMc:()=>wc,LSH:()=>Yh,Lbi:()=>dl,Lck:()=>HE,MAs:()=>Zw,MGl:()=>Jl,MMx:()=>YD,NdJ:()=>Cd,OlP:()=>Dn,Oqu:()=>sl,PXZ:()=>d0,Q6J:()=>Ed,QGY:()=>zg,QP$:()=>qe,Qsj:()=>C_,QtT:()=>je,R0b:()=>Ls,RDi:()=>Zp,Rgc:()=>ep,SBq:()=>rg,SDv:()=>ll,Sil:()=>aC,Suo:()=>np,TTD:()=>Ts,TgZ:()=>ec,Tol:()=>Ky,Udp:()=>Zy,VKq:()=>Gi,W1O:()=>zr,WLB:()=>bm,X6Q:()=>mC,XFs:()=>it,Xpm:()=>z,Xts:()=>y_,Y36:()=>Yu,YKP:()=>ZD,YNc:()=>ky,Yjl:()=>te,Yz7:()=>tn,Z0I:()=>Co,ZZ4:()=>pl,_Bn:()=>Mv,_UZ:()=>Pf,_Vd:()=>rf,_c5:()=>AC,_uU:()=>gD,aQg:()=>Bm,c2e:()=>nh,cJS:()=>jt,cg1:()=>um,dDg:()=>hC,dqk:()=>Pt,eFA:()=>f0,ekj:()=>nm,eoX:()=>AT,f3M:()=>Kn,g9A:()=>mc,h0i:()=>Bd,hGG:()=>GT,hij:()=>Vf,iGM:()=>Hv,ifc:()=>yt,ip1:()=>ap,jDz:()=>xv,kEZ:()=>Lv,kL8:()=>Hf,lG2:()=>Qn,lqb:()=>Ja,lri:()=>u0,n5z:()=>As,oAB:()=>Tt,oxw:()=>Kg,pQV:()=>Ov,q4F:()=>ig,qLn:()=>og,qOj:()=>jg,qZA:()=>ps,rWj:()=>c0,s9C:()=>jy,sBO:()=>VT,sIi:()=>Xu,s_b:()=>fa,soG:()=>Om,tb:()=>n0,tp0:()=>_t,uIk:()=>xy,vHH:()=>Ee,vpe:()=>vo,wAp:()=>St,xp6:()=>K_,z2F:()=>fp,zSh:()=>Ya,zs3:()=>ho});var u=P(7579),U=P(727),M=P(9751),se=P(6451),ue=P(3099);function _e(s){for(let o in s)if(s[o]===_e)return o;throw Error("Could not find renamed property on target object.")}function pe(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function be(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=_e({__forward_ref__:_e});function W(s){return s.__forward_ref__=W,s.toString=function(){return he(this())},s}function X(s){return He(s)?s():s}function He(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===W}class Ee extends Error{constructor(o,a){super(function at(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function Te(s){return"string"==typeof s?s:null==s?"":String(s)}function Re(s,o){throw new Ee(-201,!1)}function Ke(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}function tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function br(s){return wr(s,Yr)||wr(s,xi)}function Co(s){return null!==br(s)}function wr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Mi(s){return s&&(s.hasOwnProperty(Vn)||s.hasOwnProperty(Pi))?s[Vn]:null}const Yr=_e({\u0275prov:_e}),Vn=_e({\u0275inj:_e}),xi=_e({ngInjectableDef:_e}),Pi=_e({ngInjectorDef:_e});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let dr;function fn(s){const o=dr;return dr=s,o}function Dr(s,o,a){const c=br(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&it.Optional?null:void 0!==o?o:void Re(he(s))}function wn(s){return{toString:s}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),yt=(()=>{return(s=yt||(yt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",yt;var s})();const Pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tr={},Ct=[],Mr=_e({\u0275cmp:_e}),Ft=_e({\u0275dir:_e}),Jr=_e({\u0275pipe:_e}),Zt=_e({\u0275mod:_e}),K=_e({\u0275fac:_e}),$=_e({__NG_ELEMENT_ID__:_e});let B=0;function z(s){return wn(()=>{const a=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ct,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||yt.Emulated,id:"c"+B++,styles:s.styles||Ct,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return h.inputs=on(s.inputs,c),h.outputs=on(s.outputs),y&&y.forEach(w=>w(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Ne).filter(Ge):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(we).filter(Ge):null,h})}function Ne(s){return j(s)||H(s)}function Ge(s){return null!==s}function Tt(s){return wn(()=>({type:s.type,bootstrap:s.bootstrap||Ct,declarations:s.declarations||Ct,imports:s.imports||Ct,exports:s.exports||Ct,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function on(s,o){if(null==s)return Tr;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=c,o&&(o[h]=p)}return a}const Qn=z;function te(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function j(s){return s[Mr]||null}function H(s){return s[Ft]||null}function we(s){return s[Jr]||null}function qe(s){const o=j(s)||H(s)||we(s);return null!==o&&o.standalone}function wt(s,o){const a=s[Zt]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function Xn(s){return Array.isArray(s)&&"object"==typeof s[1]}function hi(s){return Array.isArray(s)&&!0===s[1]}function Ao(s){return 0!=(8&s.flags)}function _u(s){return 2==(2&s.flags)}function Ia(s){return 1==(1&s.flags)}function Xr(s){return null!==s.template}function yu(s){return 0!=(256&s[2])}function Ir(s,o){return s.hasOwnProperty(K)?s[K]:null}class Mo{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ts(){return xc}function xc(s){return s.type.prototype.ngOnChanges&&(s.setInput=bu),Il}function Il(){const s=xo(this),o=s?.current;if(o){const a=s.previous;if(a===Tr)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function bu(s,o,a,c){const h=xo(s)||function pi(s,o){return s[Pc]=o}(s,{previous:Tr,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[a],T=y[w];p[w]=new Mo(T&&T.currentValue,o,y===Tr),s[c]=o}Ts.ngInherit=!0;const Pc="__ngSimpleChanges__";function xo(s){return s[Pc]||null}function xn(s){for(;Array.isArray(s);)s=s[0];return s}function Ci(s,o){return xn(o[s])}function Er(s,o){return xn(o[s.index])}function zs(s,o){return s.data[o]}function nn(s,o){const a=o[s];return Xn(a)?a:a[0]}function Cl(s){return 4==(4&s[2])}function Is(s){return 64==(64&s[2])}function _i(s,o){return null==o?null:s[o]}function Ca(s){s[18]=0}function Bn(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const Mt={lFrame:Fa(null),bindingsEnabled:!0};function qs(){return Mt.bindingsEnabled}function Me(){return Mt.lFrame.lView}function Kt(){return Mt.lFrame.tView}function wh(s){return Mt.lFrame.contextLView=s,s[8]}function Fo(s){return Mt.lFrame.contextLView=null,s}function er(){let s=Lo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Lo(){return Mt.lFrame.currentTNode}function Sl(){const s=Mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Ur(s,o){const a=Mt.lFrame;a.currentTNode=s,a.isParent=o}function Al(){return Mt.lFrame.isParent}function Vo(){Mt.lFrame.isParent=!1}function tr(){const s=Mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Fi(){return Mt.lFrame.bindingIndex}function xa(){return Mt.lFrame.bindingIndex++}function as(s){const o=Mt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Tu(s){Mt.lFrame.inI18n=s}function Vc(s,o){const a=Mt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Uo(o)}function Uo(s){Mt.lFrame.currentDirectiveIndex=s}function Pa(){return Mt.lFrame.currentQueryIndex}function Eu(s){Mt.lFrame.currentQueryIndex=s}function ka(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Uc(s,o,a){if(a&it.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&it.Host||(h=ka(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=Mt.lFrame=Ih();return c.currentTNode=o,c.lView=s,!0}function Bo(s){const o=Ih(),a=s[1];Mt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ih(){const s=Mt.lFrame,o=null===s?null:s.child;return null===o?Fa(s):o}function Fa(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Eh(){const s=Mt.lFrame;return Mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Bc=Eh;function Es(){const s=Eh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Nn(){return Mt.lFrame.selectedIndex}function ls(s){Mt.lFrame.selectedIndex=s}function On(){const s=Mt.lFrame;return zs(s.tView,s.selectedIndex)}function Nu(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:S,ngOnDestroy:R}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),T&&(s.viewHooks||(s.viewHooks=[])).push(-a,T),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(a,R)}}function jo(s,o,a){Ho(s,o,3,a)}function $o(s,o,a,c){(3&s[2])===a&&Ho(s,o,a,c)}function Gc(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Ho(s,o,a,c){const p=c??-1,y=o.length-1;let w=0;for(let T=void 0!==c?65535&s[18]:0;T<y;T++)if("number"==typeof o[T+1]){if(w=o[T],null!=c&&w>=c)break}else o[T]<0&&(s[18]+=65536),(w<p||-1==p)&&(Wc(s,a,o,T),s[18]=(4294901760&s[18])+T+2),T++}function Wc(s,o,a,c){const h=a[c]<0,p=a[c+1],w=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class yi{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function us(s,o,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const p=a[c++],y=a[c++],w=a[c++];s.setAttribute(o,y,w,p)}else{const p=h,y=a[++c];Ru(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),c++}}return c}function La(s){return 3===s||4===s||6===s}function Ru(s){return 64===s.charCodeAt(0)}function Va(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||qc(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function qc(s,o,a,c,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function Ah(s){return-1!==s}function nr(s){return 32767&s}function Ss(s,o){let a=function Nh(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let Mu=!0;function Ua(s){const o=Mu;return Mu=s,o}let Zc=0;const ti={};function cs(s,o){const a=xl(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,xu(c.data,s),xu(o,null),xu(c.blueprint,null));const h=Ba(s,o),p=s.injectorIndex;if(Ah(h)){const y=nr(h),w=Ss(h,o),T=w[1].data;for(let S=0;S<8;S++)o[p+S]=w[y+S]|T[y+S]}return o[p+8]=h,p}function xu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function xl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ba(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){if(c=Jo(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Zs(s,o,a){!function Kc(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty($)&&(c=a[$]),null==c&&(c=a[$]=Zc++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Wo(s,o,a){if(a&it.Optional)return s;Re()}function zo(s,o,a,c){if(a&it.Optional&&void 0===c&&(c=null),0==(a&(it.Self|it.Host))){const h=s[9],p=fn(void 0);try{return h?h.get(o,c,a&it.Optional):Dr(o,c,a&it.Optional)}finally{fn(p)}}return Wo(c,0,a)}function qo(s,o,a,c=it.Default,h){if(null!==s){if(1024&o[2]){const y=function Mh(s,o,a,c,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Yc(p,y,a,c|it.Self,ti);if(w!==ti)return w;let T=p.parent;if(!T){const S=y[21];if(S){const R=S.get(a,ti,c);if(R!==ti)return R}T=Jo(y),y=y[15]}p=T}return h}(s,o,a,c,ti);if(y!==ti)return y}const p=Yc(s,o,a,c,ti);if(p!==ti)return p}return zo(o,a,c,h)}function Yc(s,o,a,c,h){const p=function Rh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty($)?s[$]:void 0;return"number"==typeof o?o>=0?255&o:Pu:o}(a);if("function"==typeof p){if(!Uc(o,s,c))return c&it.Host?Wo(h,0,c):zo(o,a,c,h);try{const y=p(c);if(null!=y||c&it.Optional)return y;Re()}finally{Bc()}}else if("number"==typeof p){let y=null,w=xl(s,o),T=-1,S=c&it.Host?o[16][6]:null;for((-1===w||c&it.SkipSelf)&&(T=-1===w?Ba(s,o):o[w+8],-1!==T&&kl(c,!1)?(y=o[1],w=nr(T),o=Ss(T,o)):w=-1);-1!==w;){const R=o[1];if(Zo(p,w,R.data)){const F=Pl(w,o,a,y,c,S);if(F!==ti)return F}T=o[w+8],-1!==T&&kl(c,o[1].data[w+8]===S)&&Zo(p,w,o)?(y=R,w=nr(T),o=Ss(T,o)):w=-1}}return h}function Pl(s,o,a,c,h,p){const y=o[1],w=y.data[s+8],R=$a(w,y,a,null==c?_u(w)&&Mu:c!=y&&0!=(3&w.type),h&it.Host&&p===w);return null!==R?Li(o,y,R,w):ti}function $a(s,o,a,c,h){const p=s.providerIndexes,y=o.data,w=1048575&p,T=s.directiveStart,R=p>>20,Z=h?w+R:s.directiveEnd;for(let re=c?w:w+R;re<Z;re++){const Se=y[re];if(re<T&&a===Se||re>=T&&Se.type===a)return re}if(h){const re=y[T];if(re&&Xr(re)&&re.type===a)return T}return null}function Li(s,o,a,c){let h=s[a];const p=o.data;if(function Ou(s){return s instanceof yi}(h)){const y=h;y.resolving&&function tt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${s}${a}`)}(function ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Te(s)}(p[a]));const w=Ua(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?fn(y.injectImpl):null;Uc(s,c,it.Default);try{h=s[a]=y.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function Hc(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const y=xc(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==T&&fn(T),Ua(w),y.resolving=!1,Bc()}}return h}function Zo(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function kl(s,o){return!(s&it.Self||s&it.Host&&o)}class Ko{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return qo(this._tNode,this._lView,o,c,a)}}function Pu(){return new Ko(er(),Me())}function As(s){return wn(()=>{const o=s.prototype.constructor,a=o[K]||Yo(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[K]||Yo(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Yo(s){return He(s)?()=>{const o=Yo(X(s));return o&&o()}:Ir(s)}function Jo(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Fl(s){return function ja(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const p=a[h];if(La(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(er(),s)}const Qo="__parameters__";function ea(s,o,a){return wn(()=>{const c=function ku(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(T,S,R){const F=T.hasOwnProperty(Qo)?T[Qo]:Object.defineProperty(T,Qo,{value:[]})[Qo];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(y),T}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Dn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),rn(c,o)):o!==s&&o.push(c)}return o}function ds(s,o){s.forEach(a=>Array.isArray(a)?ds(a,o):o(a))}function Ys(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Pn(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Js(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function st(s,o,a){let c=Ui(s,o);return c>=0?s[1|c]=a:(c=~c,function kh(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function Fu(s,o){const a=Ui(s,o);if(a>=0)return s[1|a]}function Ui(s,o){return function Ga(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const p=c+(h-c>>1),y=s[p<<a];if(o===y)return p<<a;y>o?h=p:c=p+1}return~(h<<a)}(s,o,1)}const Ni={},Ul="__NG_DI_FLAG__",Pr="ngTempTokenPath",gr=/\n/gm,vn="__source";let Xs;function eo(s){const o=Xs;return Xs=s,o}function Hn(s,o=it.Default){if(void 0===Xs)throw new Ee(-203,!1);return null===Xs?Dr(s,void 0,o):Xs.get(s,o&it.Optional?null:void 0,o)}function Qt(s,o=it.Default){return(function Un(){return dr}()||Hn)(X(s),o)}function Kn(s,o=it.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Qt(s,o)}function I(s){const o=[];for(let a=0;a<s.length;a++){const c=X(s[a]);if(Array.isArray(c)){if(0===c.length)throw new Ee(900,!1);let h,p=it.Default;for(let y=0;y<c.length;y++){const w=c[y],T=O(w);"number"==typeof T?-1===T?h=w.token:p|=T:h=w}o.push(Qt(h,p))}else o.push(Qt(c))}return o}function C(s,o){return s[Ul]=o,s.prototype[Ul]=o,s}function O(s){return s[Ul]}const De=C(ea("Optional"),8),_t=C(ea("SkipSelf"),4);let Bh,Lu;function Zp(s){Bh=s}function io(s){return function id(){if(void 0===Lu&&(Lu=null,Pt.trustedTypes))try{Lu=Pt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Lu}()?.createHTML(s)||s}class Yp{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ps(s){return s instanceof Yp?s.changingThisBreaksApplicationSecurity:s}class m{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(io(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class D{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=io(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=io(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const x=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ne(s){return(s=String(s)).match(x)?s:"unsafe:"+s}function Ae(s){return(s=String(s)).split(",").map(o=>ne(o.trim())).join(", ")}function Je(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function dt(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const Bt=Je("area,br,col,hr,img,wbr"),kn=Je("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hs=Je("rp,rt"),ao=dt(Bt,dt(kn,Je("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dt(hs,Je("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dt(hs,kn)),lo=Je("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ju=Je("srcset"),ra=dt(lo,ju,Je("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Je("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function Yh(s){const o=function Jh(){const s=Me();return s&&s[12]}();return o?o.sanitize(_r.URL,s)||"":function oo(s,o){const a=function Gh(s){return s instanceof Yp&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?Ps(s):ne(Te(s))}const y_=new Dn("ENVIRONMENT_INITIALIZER"),vb=new Dn("INJECTOR",-1),bb=new Dn("INJECTOR_DEF_TYPES");class wb{get(o,a=Ni){if(a===Ni){const c=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw c.name="NullInjectorError",c}return a}}function eI(...s){return{\u0275providers:v_(0,s)}}function v_(s,...o){const a=[],c=new Set;let h;return ds(o,p=>{const y=p;tg(y,a,[],c)&&(h||(h=[]),h.push(y))}),void 0!==h&&Db(h,a),a}function Db(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];ds(h,p=>{o.push(p)})}}function tg(s,o,a,c){if(!(s=X(s)))return!1;let h=null,p=Mi(s);const y=!p&&j(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const T=s.ngModule;if(p=Mi(T),!p)return!1;h=T}const w=c.has(h);if(y){if(w)return!1;if(c.add(h),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of T)tg(S,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let S;c.add(h);try{ds(p.imports,R=>{tg(R,o,a,c)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&Db(S,o)}if(!w){const S=Ir(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:Ct},{provide:bb,useValue:h,multi:!0},{provide:y_,useValue:()=>Qt(h),multi:!0})}const T=p.providers;null==T||w||ds(T,R=>{o.push(R)})}}return h!==s&&void 0!==s.providers}const b_=_e({provide:String,useValue:_e});function uo(s){return null!==s&&"object"==typeof s&&b_ in s}function Wl(s){return"function"==typeof s}const Ya=new Dn("Set Injector scope."),Qh={},nI={};let ld;function Xh(){return void 0===ld&&(ld=new wb),ld}class Ja{}class D_ extends Ja{constructor(o,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ng(o,y=>this.processProvider(y)),this.records.set(vb,cd(void 0,this)),h.has("environment")&&this.records.set(Ja,cd(void 0,this));const p=this.records.get(Ya);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(bb.multi,Ct,it.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=eo(this),c=fn(void 0);try{return o()}finally{eo(a),fn(c)}}get(o,a=Ni,c=it.Default){this.assertNotDestroyed();const h=eo(this),p=fn(void 0);try{if(!(c&it.SkipSelf)){let w=this.records.get(o);if(void 0===w){const T=function Ib(s){return"function"==typeof s||"object"==typeof s&&s instanceof Dn}(o)&&br(o);w=T&&this.injectableDefInScope(T)?cd(ef(o),Qh):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(c&it.Self?Xh():this.parent).get(o,a=c&it.Optional&&a===Ni?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Pr]=y[Pr]||[]).unshift(he(o)),h)throw y;return function L(s,o,a,c){const h=s[Pr];throw o[vn]&&h.unshift(o[vn]),s.message=function J(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):he(w)))}h=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(gr,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[Pr]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{fn(p),eo(h)}}resolveInjectorInitializers(){const o=eo(this),a=fn(void 0);try{const c=this.get(y_.multi,Ct,it.Self);for(const h of c)h()}finally{eo(o),fn(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(he(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(o){let a=Wl(o=X(o))?o:X(o&&o.provide);const c=function rI(s){return uo(s)?cd(void 0,s.useValue):cd(ud(s),Qh)}(o);if(Wl(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=cd(void 0,Qh,!0),h.factory=()=>I(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Qh&&(a.value=nI,a.value=a.factory()),"object"==typeof a.value&&a.value&&function I_(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=X(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function ef(s){const o=br(s),a=null!==o?o.factory:Ir(s);if(null!==a)return a;if(s instanceof Dn)throw new Ee(204,!1);if(s instanceof Function)return function T_(s){const o=s.length;if(o>0)throw Js(o,"?"),new Ee(204,!1);const a=function Sn(s){const o=s&&(s[Yr]||s[xi]);if(o){const a=function Qi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Ee(204,!1)}function ud(s,o,a){let c;if(Wl(s)){const h=X(s);return Ir(h)||ef(h)}if(uo(s))c=()=>X(s.useValue);else if(function w_(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...I(s.deps||[]));else if(function $u(s){return!(!s||!s.useExisting)}(s))c=()=>Qt(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function iI(s){return!!s.deps}(s))return Ir(h)||ef(h);c=()=>new h(...I(s.deps))}return c}function cd(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Eb(s){return!!s.\u0275providers}function ng(s,o){for(const a of s)Array.isArray(a)?ng(a,o):Eb(a)?ng(a.\u0275providers,o):o(a)}class Sb{}class sI{resolveComponentFactory(o){throw function tf(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let rf=(()=>{class s{}return s.NULL=new sI,s})();function E_(){return Hu(er(),Me())}function Hu(s,o){return new rg(Er(s,o))}let rg=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=E_,s})();function mN(s){return s instanceof rg?s.nativeElement:s}class oI{}let C_=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function aI(){const s=Me(),a=nn(er().index,s);return(Xn(a)?a:s)[11]}(),s})(),lI=(()=>{class s{}return s.\u0275prov=tn({token:s,providedIn:"root",factory:()=>null}),s})();class Nb{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const ig=new Nb("14.2.1"),ji={};function N_(s){return s.ngOriginalError}class og{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&N_(o);for(;a&&N_(a);)a=N_(a);return a||null}}const hI=/^>|^->|<!--|-->|--!>|<!-$/g,O_=/(<|>)/;const R_=new Map;let _I=0;const fd="__ngContext__";function vi(s,o){Xn(o)?(s[fd]=o[20],function vI(s){R_.set(s[20],s)}(o)):s[fd]=o}function lf(s){const o=s[fd];return"number"==typeof o?function Pb(s){return R_.get(s)||null}(o):o||null}function M_(s){const o=lf(s);return o?Xn(o)?o:o.lView:null}function Qa(s){return s instanceof Function?s():s}var ia=(()=>((ia=ia||{})[ia.Important=1]="Important",ia[ia.DashCase=2]="DashCase",ia))();let k_;function fg(s,o){return k_(s,o)}function gd(s){const o=s[3];return hi(o)?o[3]:o}function L_(s){return $b(s[13])}function V_(s){return $b(s[4])}function $b(s){for(;null!==s&&!hi(s);)s=s[4];return s}function md(s,o,a,c,h){if(null!=c){let p,y=!1;hi(c)?p=c:Xn(c)&&(y=!0,c=c[0]);const w=xn(c);0===s&&null!==a?null==h?Wb(o,a,w):zu(o,a,w,h||null,!0):1===s&&null!==a?zu(o,a,w,h||null,!0):2===s?yg(o,w,y):3===s&&o.destroyNode(w),null!=p&&function _d(s,o,a,c,h){const p=a[7];p!==xn(a)&&md(o,s,c,p,h);for(let w=10;w<a.length;w++){const T=a[w];zl(T[1],T,s,o,c,p)}}(o,s,p,a,h)}}function U_(s,o){return s.createText(o)}function B_(s,o,a){s.setValue(o,a)}function j_(s,o){return s.createComment(function Wu(s){return s.replace(hI,o=>o.replace(O_,"\u200b$1\u200b"))}(o))}function pg(s,o,a){return s.createElement(o,a)}function df(s,o){const a=s[9],c=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Bn(h,-1)),a.splice(c,1)}function gg(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&df(h,c),o>0&&(s[a-1][4]=c[4]);const p=Pn(s,10+o);!function Hb(s,o){zl(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function mg(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&zl(s,o,a,3,null,null),function AI(s){let o=s[13];if(!o)return hf(s[1],s);for(;o;){let a=null;if(Xn(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)Xn(o)&&hf(o[1],o),o=o[3];null===o&&(o=s),Xn(o)&&hf(o[1],o),a=o&&o[4]}o=a}}(o)}}function hf(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function MI(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof yi)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],T=p[y+1];try{T.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function RI(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],w="function"==typeof y?y(o):xn(o[y]),T=c[h=a[p+2]],S=a[p+3];"boolean"==typeof S?w.removeEventListener(a[p],T,S):S>=0?c[h=S]():c[h=-S].unsubscribe(),p+=2}else{const y=c[h=a[p+1]];a[p].call(y)}if(null!==c){for(let p=h+1;p<c.length;p++)(0,c[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&hi(o[3])){a!==o[3]&&df(a,o);const c=o[19];null!==c&&c.detachView(s)}!function kb(s){R_.delete(s[20])}(o)}}function ff(s,o,a){return Gb(s,o.parent,a)}function Gb(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===yt.None||h===yt.Emulated)return null}return Er(c,a)}function zu(s,o,a,c,h){s.insertBefore(o,a,c,h)}function Wb(s,o,a){s.appendChild(o,a)}function zb(s,o,a,c,h){null!==c?zu(s,o,a,c,h):Wb(s,o,a)}function Ar(s,o){return s.parentNode(o)}function $_(s,o,a){return pf(s,o,a)}function _g(s,o,a){return 40&s.type?Er(s,a):null}let H_,pf=_g;function qb(s,o){pf=s,H_=o}function gf(s,o,a,c){const h=ff(s,c,o),p=o[11],w=$_(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let T=0;T<a.length;T++)zb(p,h,a[T],w,!1);else zb(p,h,a,w,!1);void 0!==H_&&H_(p,c,o,a,h)}function G_(s,o){if(null!==o){const a=o.type;if(3&a)return Er(o,s);if(4&a)return W_(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return G_(s,c);{const h=s[o.index];return hi(h)?W_(-1,h):xn(h)}}if(32&a)return fg(o,s)()||xn(s[o.index]);{const c=FI(s,o);return null!==c?Array.isArray(c)?c[0]:G_(gd(s[16]),c):G_(s,o.next)}}return null}function FI(s,o){return null!==o?s[16][6].projection[o.projection]:null}function W_(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return G_(c,h)}return o[7]}function yg(s,o,a){const c=Ar(s,o);c&&function xI(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}function vg(s,o,a,c,h,p,y){for(;null!=a;){const w=c[a.index],T=a.type;if(y&&0===o&&(w&&vi(xn(w),c),a.flags|=4),64!=(64&a.flags))if(8&T)vg(s,o,a.child,c,h,p,!1),md(o,s,h,w,p);else if(32&T){const S=fg(a,c);let R;for(;R=S();)md(o,s,h,R,p);md(o,s,h,w,p)}else 16&T?z_(s,o,c,a,h,p):md(o,s,h,w,p);a=y?a.projectionNext:a.next}}function zl(s,o,a,c,h,p){vg(a,c,s.firstChild,o,h,p,!1)}function z_(s,o,a,c,h,p){const y=a[16],T=y[6].projection[c.projection];if(Array.isArray(T))for(let S=0;S<T.length;S++)md(o,s,h,T[S],p);else vg(s,o,T,y[3],h,p,!0)}function LI(s,o,a){s.setAttribute(o,"style",a)}function bg(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Z_(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}a=h+1}}const Kb="ng-template";function VI(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==Z_(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Yb(s){return 4===s.type&&s.value!==Kb}function Jb(s,o,a){return o===(4!==s.type||a?s.value:Kb)}function UI(s,o,a){let c=4;const h=s.attrs||[],p=function jI(s){for(let o=0;o<s.length;o++)if(La(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const T=o[w];if("number"!=typeof T){if(!y)if(4&c){if(c=2|1&c,""!==T&&!Jb(s,T,a)||""===T&&1===o.length){if(sa(c))return!1;y=!0}}else{const S=8&c?T:o[++w];if(8&c&&null!==s.attrs){if(!VI(s.attrs,S,a)){if(sa(c))return!1;y=!0}continue}const F=wg(8&c?"class":T,h,Yb(s),a);if(-1===F){if(sa(c))return!1;y=!0;continue}if(""!==S){let Z;Z=F>p?"":h[F+1].toLowerCase();const re=8&c?Z:null;if(re&&-1!==Z_(re,S,0)||2&c&&S!==Z){if(sa(c))return!1;y=!0}}}}else{if(!y&&!sa(c)&&!sa(T))return!1;if(y&&sa(T))continue;y=!1,c=T|1&c}}return sa(c)||y}function sa(s){return 0==(1&s)}function wg(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function $I(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function BI(s,o,a=!1){for(let c=0;c<o.length;c++)if(UI(s,o[c],a))return!0;return!1}function Xb(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function ew(s,o){return s?":not("+o.trim()+")":o}function HI(s){let o=s[0],a=1,c=2,h="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&c){const w=s[++a];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!sa(y)&&(o+=ew(p,h),h=""),c=y,p=p||!sa(c);a++}return""!==h&&(o+=ew(p,h)),o}const $t={};function K_(s){tw(Kt(),Me(),Nn()+s,!1)}function tw(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&jo(o,p,a)}else{const p=s.preOrderHooks;null!==p&&$o(o,p,0,a)}ls(a)}function rw(s,o=null,a=null,c){const h=iw(s,o,a,c);return h.resolveInjectorInitializers(),h}function iw(s,o=null,a=null,c,h=new Set){const p=[a||Ct,eI(s)];return c=c||("object"==typeof s?void 0:he(s)),new D_(p,o||Xh(),c||null,h)}let ho=(()=>{class s{static create(a,c){if(Array.isArray(a))return rw({name:""},c,a,"");{const h=a.name??"";return rw({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=Ni,s.NULL=new wb,s.\u0275prov=tn({token:s,providedIn:"any",factory:()=>Qt(vb)}),s.__NG_ELEMENT_ID__=-1,s})();function Yu(s,o=it.Default){const a=Me();return null===a?Qt(s,o):qo(er(),a,X(s),o)}function oy(){throw new Error("invalid")}function Br(s,o){return s<<17|o<<2}function jr(s){return s>>17&32767}function hw(s){return 2|s}function fo(s){return(131068&s)>>2}function _f(s,o){return-131069&s|o<<2}function yd(s){return 1|s}function Dw(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],p=a[c+1];if(-1!==p){const y=s.data[p];Eu(h),y.contentQueries(2,o[p],p)}}}function my(s,o,a,c,h,p,y,w,T,S,R){const F=o.blueprint.slice();return F[0]=h,F[2]=76|c,(null!==R||s&&1024&s[2])&&(F[2]|=1024),Ca(F),F[3]=F[15]=s,F[8]=a,F[10]=y||s&&s[10],F[11]=w||s&&s[11],F[12]=T||s&&s[12]||null,F[9]=S||s&&s[9]||null,F[6]=p,F[20]=function yI(){return _I++}(),F[21]=R,F[16]=2==o.type?s[16]:F,F}function wd(s,o,a,c,h){let p=s.data[o];if(null===p)p=Mg(s,o,a,c,h),function Lc(){return Mt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=h;const y=Sl();p.injectorIndex=null===y?-1:y.injectorIndex}return Ur(p,!0),p}function Mg(s,o,a,c,h){const p=Lo(),y=Al(),T=s.data[o]=function uE(s,o,a,c,h,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=T),null!==p&&(y?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T)),T}function Df(s,o,a,c){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Dd(s,o,a){Bo(o);try{const c=s.viewQuery;null!==c&&xw(1,c,a);const h=s.template;null!==h&&xg(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Dw(s,o),s.staticViewQueries&&xw(2,s.viewQuery,a);const p=s.components;null!==p&&function oE(s,o){for(let a=0;a<o.length;a++)Vg(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Es()}}function Tf(s,o,a,c){const h=o[2];if(128!=(128&h)){Bo(o);try{Ca(o),function Ma(s){return Mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&xg(s,o,a,2,c);const y=3==(3&h);if(y){const S=s.preOrderCheckHooks;null!==S&&jo(o,S,null)}else{const S=s.preOrderHooks;null!==S&&$o(o,S,0,null),Gc(o,0)}if(function Iy(s){for(let o=L_(s);null!==o;o=V_(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],p=h[3];0==(512&h[2])&&Bn(p,1),h[2]|=512}}}(o),function yE(s){for(let o=L_(s);null!==o;o=V_(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];Is(c)&&Tf(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&Dw(s,o),y){const S=s.contentCheckHooks;null!==S&&jo(o,S)}else{const S=s.contentHooks;null!==S&&$o(o,S,1),Gc(o,1)}!function ww(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)ls(~h);else{const p=h,y=a[++c],w=a[++c];Vc(y,p),w(2,o[p])}}}finally{ls(-1)}}(s,o);const w=s.components;null!==w&&function Tw(s,o){for(let a=0;a<o.length;a++)Rw(s,o[a])}(o,w);const T=s.viewQuery;if(null!==T&&xw(2,T,c),y){const S=s.viewCheckHooks;null!==S&&jo(o,S)}else{const S=s.viewHooks;null!==S&&$o(o,S,2),Gc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Bn(o[3],-1))}finally{Es()}}}function Iw(s,o,a,c){const h=o[10],y=Cl(o);try{!y&&h.begin&&h.begin(),y&&Dd(s,o,c),Tf(s,o,a,c)}finally{!y&&h.end&&h.end()}}function xg(s,o,a,c,h){const p=Nn(),y=2&c;try{ls(-1),y&&o.length>22&&tw(s,o,22,!1),a(c,h)}finally{ls(p)}}function Cw(s,o,a){!qs()||(function gE(s,o,a,c){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||cs(a,o),vi(c,o);const y=a.initialInputs;for(let w=h;w<p;w++){const T=s.data[w],S=Xr(T);S&&Ty(o,a,T);const R=Li(o,s,w,a);vi(R,o),null!==y&&_E(0,w-h,R,T,0,y),S&&(nn(a.index,o)[8]=R)}}(s,o,a,Er(a,o)),128==(128&a.flags)&&function kg(s,o,a){const c=a.directiveStart,h=a.directiveEnd,p=a.index,y=function Th(){return Mt.lFrame.currentDirectiveIndex}();try{ls(p);for(let w=c;w<h;w++){const T=s.data[w],S=o[w];Uo(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Aw(T,S)}}finally{ls(-1),Uo(y)}}(s,o,a))}function _y(s,o,a=Er){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],w=-1===y?a(o,s):s[y];s[h++]=w}}}function Td(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=If(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function If(s,o,a,c,h,p,y,w,T,S){const R=22+c,F=R+h,Z=function Sw(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:$t);return a}(R,F),re="function"==typeof S?S():S;return Z[1]={type:s,blueprint:Z,template:a,queries:null,viewQuery:w,declTNode:o,data:Z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:re,incompleteFirstPass:!1}}function lE(s,o,a,c){const h=Ug(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&Sy(s).push(c,h.length-1))}function yy(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function cE(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,T=null;for(let S=o.directiveStart;S<c;S++){const R=h[S],F=R.inputs,Z=null===p||Yb(o)?null:Cf(F,p);y.push(Z),w=yy(F,S,w),T=yy(R.outputs,S,T)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=T}function ks(s,o,a,c,h,p,y,w){const T=Er(o,a);let R,S=o.inputs;!w&&null!=S&&(R=S[c])?(Ny(s,a,R,c,h),_u(o)&&dE(a,o.index)):3&o.type&&(c=function PN(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=y?y(h,o.value||"",c):h,p.setProperty(T,c,h))}function dE(s,o){const a=nn(o,s);16&a[2]||(a[2]|=32)}function Pg(s,o,a,c){let h=!1;if(qs()){const p=function kN(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];BI(a,y.selectors,!1)&&(h||(h=[]),Zs(cs(a,o),s,y.type),Xr(y)?(wy(s,a),h.unshift(y)):h.push(y))}return h}(s,o,a),y=null===c?null:{"":-1};if(null!==p){h=!0,Ow(a,s.data.length,p.length);for(let R=0;R<p.length;R++){const F=p[R];F.providersResolver&&F.providersResolver(F)}let w=!1,T=!1,S=Df(s,o,p.length,null);for(let R=0;R<p.length;R++){const F=p[R];a.mergedAttrs=Va(a.mergedAttrs,F.hostAttrs),Dy(s,a,o,S,F),Nw(S,F,y),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const Z=F.type.prototype;!w&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!T&&(Z.ngOnChanges||Z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),T=!0),S++}cE(s,a)}y&&function mE(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Ee(-301,!1);c.push(o[h],p)}}}(a,c,y)}return a.mergedAttrs=Va(a.mergedAttrs,a.attrs),h}function vy(s,o,a,c,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const T=~o.index;(function by(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=T&&w.push(T),w.push(c,h,y)}}function Aw(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function wy(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Nw(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;Xr(o)&&(a[""]=s)}}function Ow(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Dy(s,o,a,c,h){s.data[c]=h;const p=h.factory||(h.factory=Ir(h.type)),y=new yi(p,Xr(h),Yu);s.blueprint[c]=y,a[c]=y,vy(s,o,0,c,Df(s,a,h.hostVars,$t),h)}function Ty(s,o,a){const c=Er(o,s),h=Td(a),p=s[10],y=Sf(s,my(s,h,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));s[o.index]=y}function Fg(s,o,a,c,h,p,y){if(null==p)s.removeAttribute(o,h,a);else{const w=null==y?Te(p):y(p,c||"",h);s.setAttribute(o,h,w,a)}}function _E(s,o,a,c,h,p){const y=p[o];if(null!==y){const w=c.setInput;for(let T=0;T<y.length;){const S=y[T++],R=y[T++],F=y[T++];null!==w?c.setInput(a,F,S,R):a[R]=F}}}function Cf(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function Lg(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function Rw(s,o){const a=nn(o,s);if(Is(a)){const c=a[1];48&a[2]?Tf(c,a,c.template,a[8]):a[5]>0&&Ey(a)}}function Ey(s){for(let c=L_(s);null!==c;c=V_(c))for(let h=10;h<c.length;h++){const p=c[h];if(Is(p))if(512&p[2]){const y=p[1];Tf(y,p,y.template,p[8])}else p[5]>0&&Ey(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=nn(a[c],s);Is(h)&&h[5]>0&&Ey(h)}}function Vg(s,o){const a=nn(o,s),c=a[1];(function vE(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),Dd(c,a,a[8])}function Sf(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Cy(s){for(;s;){s[2]|=32;const o=gd(s);if(yu(s)&&!o)return s;s=o}return null}function xw(s,o,a){Eu(0),o(s,a)}function Ug(s){return s[7]||(s[7]=[])}function Sy(s){return s.cleanup||(s.cleanup=[])}function ql(s,o){const a=s[9],c=a?a.get(og,null):null;c&&c.handleError(o)}function Ny(s,o,a,c,h){for(let p=0;p<a.length;){const y=a[p++],w=a[p++],T=o[y],S=s.data[y];null!==S.setInput?S.setInput(T,h,c,w):T[w]=h}}function la(s,o,a){const c=Ci(o,s);B_(s[11],c,a)}function Bg(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=be(h,w):2==p&&(c=be(c,w+": "+o[++y]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}function Of(s,o,a,c,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(xn(p)),hi(p))for(let w=10;w<p.length;w++){const T=p[w],S=T[1].firstChild;null!==S&&Of(T[1],T,S,c)}const y=a.type;if(8&y)Of(s,o,a.child,c);else if(32&y){const w=fg(a,o);let T;for(;T=w();)c.push(T)}else if(16&y){const w=FI(o,a);if(Array.isArray(w))c.push(...w);else{const T=gd(o[16]);Of(T[1],T,w,c,!0)}}a=h?a.projectionNext:a.next}return c}class Rf{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Of(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(hi(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(gg(o,c),Pn(a,c))}this._attachedToViewContainer=!1}mg(this._lView[1],this._lView)}onDestroy(o){lE(this._lView[1],this._lView,null,o)}markForCheck(){Cy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Nf(s,o,a){const c=o[10];c.begin&&c.begin();try{Tf(s,o,s.template,a)}catch(h){throw ql(o,h),h}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function SI(s,o){zl(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=o}}class wE extends Rf{constructor(o){super(o),this._view=o}detectChanges(){!function Mw(s){!function Af(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],c=M_(a);if(null!==c){const h=c[1];Iw(h,c,h.template,a)}}}(s[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Qu extends rf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=j(o);return new Mf(a,this.ngModule)}}function Oy(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class kw{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){const h=this.injector.get(o,ji,c);return h!==ji||a===ji?h:this.parentInjector.get(o,a,c)}}class Mf extends Sb{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function GI(s){return s.map(HI).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Oy(this.componentDef.inputs)}get outputs(){return Oy(this.componentDef.outputs)}create(o,a,c,h){let p=(h=h||this.ngModule)instanceof Ja?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new kw(o,p):o,w=y.get(oI,null);if(null===w)throw new Ee(407,!1);const T=y.get(lI,null),S=w.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",F=c?function Ef(s,o,a){return s.selectRootElement(o,a===yt.ShadowDom)}(S,c,this.componentDef.encapsulation):pg(w.createRenderer(null,this.componentDef),R,function DE(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),Z=this.componentDef.onPush?288:272,re={components:[]},Se=If(0,null,null,1,0,null,null,null,null,null),$e=my(null,Se,re,Z,null,null,w,S,T,y,null);let Ye,lt;Bo($e);try{const At=function Vw(s,o,a,c,h,p){const y=a[1];a[22]=s;const T=wd(y,22,2,"#host",null),S=T.mergedAttrs=o.hostAttrs;null!==S&&(Bg(T,S,!0),null!==s&&(us(h,s,S),null!==T.classes&&bg(h,s,T.classes),null!==T.styles&&LI(h,s,T.styles)));const R=c.createRenderer(s,o),F=my(a,Td(o),null,o.onPush?32:16,a[22],T,c,R,p||null,null,null);return y.firstCreatePass&&(Zs(cs(T,a),y,o.type),wy(y,T),Ow(T,a.length,1)),Sf(a,F),a[22]=F}(F,this.componentDef,$e,w,S);if(F)if(c)us(S,F,["ng-version",ig.full]);else{const{attrs:xe,classes:Et}=function WI(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&a.push(p);else{if(!sa(h))break;h=p}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);xe&&us(S,F,xe),Et&&Et.length>0&&bg(S,F,Et.join(" "))}if(lt=zs(Se,22),void 0!==a){const xe=lt.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const Yt=a[Et];xe.push(null!=Yt?Array.from(Yt):null)}}Ye=function BN(s,o,a,c,h){const p=a[1],y=function pE(s,o,a){const c=er();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Dy(s,c,o,Df(s,o,1,null),a),cE(s,c));const h=Li(o,s,c.directiveStart,c);vi(h,o);const p=Er(c,o);return p&&vi(p,o),h}(p,a,o);if(c.components.push(y),s[8]=y,null!==h)for(const T of h)T(y,o);if(o.contentQueries){const T=er();o.contentQueries(1,y,T.directiveStart)}const w=er();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ls(w.index),vy(a[1],w,0,w.directiveStart,w.directiveEnd,o),Aw(o,y)),y}(At,this.componentDef,$e,re,[$N]),Dd(Se,$e,null)}finally{Es()}return new Lw(this.componentType,Ye,Hu(lt,$e),$e,lt)}}class Lw extends class Cb{}{constructor(o,a,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new wE(h),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const p=this._rootLView;Ny(p[1],p,h,o,a),dE(p,this._tNode.index)}}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function $N(){const s=er();Nu(Me()[1],s)}function jg(s){let o=function Ry(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let h;if(Xr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ee(903,!1);h=o.\u0275dir}if(h){if(a){c.push(h);const y=s;y.inputs=$g(s.inputs),y.declaredInputs=$g(s.declaredInputs),y.outputs=$g(s.outputs);const w=h.hostBindings;w&&Bw(s,w);const T=h.viewQuery,S=h.contentQueries;if(T&&HN(s,T),S&&GN(s,S),pe(s.inputs,h.inputs),pe(s.declaredInputs,h.declaredInputs),pe(s.outputs,h.outputs),Xr(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===jg&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Uw(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Va(h.hostAttrs,a=Va(a,h.hostAttrs))}}(c)}function $g(s){return s===Tr?{}:s===Ct?[]:s}function HN(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function GN(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,p)=>{o(c,h,p),a(c,h,p)}:o}function Bw(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}let My=null;function el(){if(!My){const s=Pt.Symbol;if(s&&s.iterator)My=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(My=c)}}}return My}function Xu(s){return!!fs(s)&&(Array.isArray(s)||!(s instanceof Map)&&el()in s)}function fs(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ua(s,o,a){return s[o]=a}function Jn(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function ca(s,o,a,c){const h=Jn(s,o,a);return Jn(s,o+1,c)||h}function xy(s,o,a,c){const h=Me();return Jn(h,xa(),o)&&(Kt(),function aa(s,o,a,c,h,p){const y=Er(s,o);Fg(o[11],y,p,s.value,a,c,h)}(On(),h,s,o,a,c)),xy}function pt(s,o,a,c){return Jn(s,xa(),a)?o+Te(a)+c:$t}function ky(s,o,a,c,h,p,y,w){const T=Me(),S=Kt(),R=s+22,F=S.firstCreatePass?function Py(s,o,a,c,h,p,y,w,T){const S=o.consts,R=wd(o,s,4,y||null,_i(S,w));Pg(o,a,R,_i(S,T)),Nu(o,R);const F=R.tViews=If(2,R,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,R),F.queries=o.queries.embeddedTView(R)),R}(R,S,T,o,a,c,h,p,y):S.data[R];Ur(F,!1);const Z=T[11].createComment("");gf(S,T,Z,F),vi(Z,T),Sf(T,T[R]=Lg(Z,T,Z,F)),Ia(F)&&Cw(S,T,F),null!=y&&_y(T,F,w)}function Zw(s){return function ki(s,o){return s[o]}(function Ra(){return Mt.lFrame.contextLView}(),22+s)}function Ed(s,o,a){const c=Me();return Jn(c,xa(),o)&&ks(Kt(),On(),c,s,o,c[11],a,!1),Ed}function Gg(s,o,a,c,h){const y=h?"class":"style";Ny(s,a,o.inputs[y],y,c)}function ec(s,o,a,c){const h=Me(),p=Kt(),y=22+s,w=h[11],T=h[y]=pg(w,o,function Au(){return Mt.lFrame.currentNamespace}()),S=p.firstCreatePass?function Fy(s,o,a,c,h,p,y){const w=o.consts,S=wd(o,s,2,h,_i(w,p));return Pg(o,a,S,_i(w,y)),null!==S.attrs&&Bg(S,S.attrs,!1),null!==S.mergedAttrs&&Bg(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,h,0,o,a,c):p.data[y];Ur(S,!0);const R=S.mergedAttrs;null!==R&&us(w,T,R);const F=S.classes;null!==F&&bg(w,T,F);const Z=S.styles;return null!==Z&&LI(w,T,Z),64!=(64&S.flags)&&gf(p,h,T,S),0===function Aa(){return Mt.lFrame.elementDepthCount}()&&vi(T,h),function Fc(){Mt.lFrame.elementDepthCount++}(),Ia(S)&&(Cw(p,h,S),function Ew(s,o,a){if(Ao(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}(p,S,h)),null!==c&&_y(h,S),ec}function ps(){let s=er();Al()?Vo():(s=s.parent,Ur(s,!1));const o=s;!function Na(){Mt.lFrame.elementDepthCount--}();const a=Kt();return a.firstCreatePass&&(Nu(a,s),Ao(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ol(s){return 0!=(16&s.flags)}(o)&&Gg(a,o,Me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Rl(s){return 0!=(32&s.flags)}(o)&&Gg(a,o,Me(),o.stylesWithoutHost,!1),ps}function Pf(s,o,a,c){return ec(s,o,a,c),ps(),Pf}function Wg(){return Me()}function zg(s){return!!s&&"function"==typeof s.then}function Kw(s){return!!s&&"function"==typeof s.subscribe}const Uy=Kw;function Cd(s,o,a,c){const h=Me(),p=Kt(),y=er();return function Zg(s,o,a,c,h,p,y,w){const T=Ia(c),R=s.firstCreatePass&&Sy(s),F=o[8],Z=Ug(o);let re=!0;if(3&c.type||w){const Ye=Er(c,o),lt=w?w(Ye):Ye,At=Z.length,xe=w?Yt=>w(xn(Yt[c.index])):c.index;let Et=null;if(!w&&T&&(Et=function By(s,o,a,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===c){const w=o[7],T=h[p+2];return w.length>T?w[T]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,c.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=p,Et.__ngLastListenerFn__=p,re=!1;else{p=Jw(c,o,F,p,!1);const Yt=a.listen(lt,h,p);Z.push(p,Yt),R&&R.push(h,xe,At,At+1)}}else p=Jw(c,o,F,p,!1);const Se=c.outputs;let $e;if(re&&null!==Se&&($e=Se[h])){const Ye=$e.length;if(Ye)for(let lt=0;lt<Ye;lt+=2){const Fn=o[$e[lt]][$e[lt+1]].subscribe(p),Yi=Z.length;Z.push(p,Fn),R&&R.push(h,c.index,Yi,-(Yi+1))}}}(p,h,h[11],y,s,o,0,c),Cd}function Yw(s,o,a,c){try{return!1!==a(c)}catch(h){return ql(s,h),!1}}function Jw(s,o,a,c,h){return function p(y){if(y===Function)return c;Cy(2&s.flags?nn(s.index,o):o);let T=Yw(o,0,c,y),S=p.__ngNextListenerFn__;for(;S;)T=Yw(o,0,S,y)&&T,S=S.__ngNextListenerFn__;return h&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function Kg(s=1){return function Cs(s){return(Mt.lFrame.contextLView=function jc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Mt.lFrame.contextLView))[8]}(s)}function Qw(s,o){let a=null;const c=function Qb(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===c?BI(s,p,!0):Xb(c,p))return h}else a=h}return a}function Xw(s){const o=Me()[16][6];if(!o.projection){const c=o.projection=Js(s?s.length:1,null),h=c.slice();let p=o.child;for(;null!==p;){const y=s?Qw(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:c[y]=p,h[y]=p),p=p.next}}}function Sd(s,o=0,a){const c=Me(),h=Kt(),p=wd(h,22+s,16,null,a||null);null===p.projection&&(p.projection=o),Vo(),64!=(64&p.flags)&&function CN(s,o,a){z_(o[11],0,o,a,ff(s,a,o),$_(a.parent||o[6],a,o))}(h,c,p)}function jy(s,o,a){return Jl(s,"",o,"",a),jy}function Jl(s,o,a,c,h){const p=Me(),y=pt(p,o,a,c);return y!==$t&&ks(Kt(),On(),p,s,y,p[11],h,!1),Jl}function Jg(s,o,a,c,h){const p=s[a+1],y=null===o;let w=c?jr(p):fo(p),T=!1;for(;0!==w&&(!1===T||y);){const R=s[w+1];rD(s[w],o)&&(T=!0,s[w+1]=c?yd(R):hw(R)),w=c?jr(R):fo(R)}T&&(s[a+1]=c?hw(p):yd(p))}function rD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ui(s,o)>=0}const Nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iD(s){return s.substring(Nr.key,Nr.keyEnd)}function Qg(s,o){const a=Nr.textEnd;return a===o?-1:(o=Nr.keyEnd=function qy(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Nr.key=o,a),Ql(s,o,a))}function Ql(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Zy(s,o,a){return mo(s,o,a,!1),Zy}function nm(s,o){return mo(s,o,null,!0),nm}function Ky(s){!function gs(s,o,a,c){const h=Kt(),p=as(2);h.firstUpdatePass&&uD(h,null,p,c);const y=Me();if(a!==$t&&Jn(y,p,a)){const w=h.data[Nn()];if(pD(w,c)&&!Yy(h,p)){let T=c?w.classesWithoutHost:w.stylesWithoutHost;null!==T&&(a=be(T,a||"")),Gg(h,w,y,a,c)}else!function hD(s,o,a,c,h,p,y,w){h===$t&&(h=Ct);let T=0,S=0,R=0<h.length?h[0]:null,F=0<p.length?p[0]:null;for(;null!==R||null!==F;){const Z=T<h.length?h[T+1]:void 0,re=S<p.length?p[S+1]:void 0;let $e,Se=null;R===F?(T+=2,S+=2,Z!==re&&(Se=F,$e=re)):null===F||null!==R&&R<F?(T+=2,Se=R):(S+=2,Se=F,$e=re),null!==Se&&Lf(s,o,a,c,Se,$e,y,w),R=T<h.length?h[T]:null,F=S<p.length?p[S]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function dD(s,o,a){if(null==a||""===a)return Ct;const c=[],h=Ps(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,a),c,p)}}(st,Fs,s,!0)}function Fs(s,o){for(let a=function oD(s){return function Xg(s){Nr.key=0,Nr.keyEnd=0,Nr.value=0,Nr.valueEnd=0,Nr.textEnd=s.length}(s),Qg(s,Ql(s,0,Nr.textEnd))}(o);a>=0;a=Qg(o,a))st(s,iD(o),!0)}function mo(s,o,a,c){const h=Me(),p=Kt(),y=as(2);p.firstUpdatePass&&uD(p,s,y,c),o!==$t&&Jn(h,y,o)&&Lf(p,p.data[Nn()],h,h[11],s,h[y+1]=function Ad(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(Ps(s)))),s}(o,a),c,y)}function Yy(s,o){return o>=s.expandoStartIndex}function uD(s,o,a,c){const h=s.data;if(null===h[a+1]){const p=h[Nn()],y=Yy(s,a);pD(p,c)&&null===o&&!y&&(o=!1),o=function rm(s,o,a,c){const h=function Iu(s){const o=Mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=il(a=Xy(null,s,o,a,c),o.attrs,c),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=Xy(h,s,o,a,c),null===p){let T=function Jy(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==fo(c))return s[jr(c)]}(s,o,c);void 0!==T&&Array.isArray(T)&&(T=Xy(null,s,o,T[1],c),T=il(T,o.attrs,c),function Qy(s,o,a,c){s[jr(a?o.classBindings:o.styleBindings)]=c}(s,o,c,T))}else p=function cD(s,o,a){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=il(c,s[p].hostAttrs,a);return il(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,c),function Wy(s,o,a,c,h,p){let y=p?o.classBindings:o.styleBindings,w=jr(y),T=fo(y);s[c]=a;let R,S=!1;if(Array.isArray(a)){const F=a;R=F[1],(null===R||Ui(F,R)>0)&&(S=!0)}else R=a;if(h)if(0!==T){const Z=jr(s[w+1]);s[c+1]=Br(Z,w),0!==Z&&(s[Z+1]=_f(s[Z+1],c)),s[w+1]=function NN(s,o){return 131071&s|o<<17}(s[w+1],c)}else s[c+1]=Br(w,0),0!==w&&(s[w+1]=_f(s[w+1],c)),w=c;else s[c+1]=Br(T,0),0===w?w=c:s[T+1]=_f(s[T+1],c),T=c;S&&(s[c+1]=hw(s[c+1])),Jg(s,R,c,!0),Jg(s,R,c,!1),function zy(s,o,a,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ui(p,o)>=0&&(a[c+1]=yd(a[c+1]))}(o,R,s,c,p),y=Br(w,T),p?o.classBindings=y:o.styleBindings=y}(h,p,o,a,y,c)}}function Xy(s,o,a,c,h){let p=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(p=o[w],c=il(c,p.hostAttrs,h),p!==s);)w++;return null!==s&&(a.directiveStylingLast=w),c}function il(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),st(s,y,!!a||o[++p]))}return void 0===s?null:s}function Lf(s,o,a,c,h,p,y,w){if(!(3&o.type))return;const T=s.data,S=T[w+1];im(function Sg(s){return 1==(1&s)}(S)?fD(T,o,a,h,fo(S),y):void 0)||(im(p)||function ly(s){return 2==(2&s)}(S)&&(p=fD(T,null,a,h,w,y)),function q_(s,o,a,c,h){if(o)h?s.addClass(a,c):s.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:ia.DashCase;null==h?s.removeStyle(a,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=ia.Important),s.setStyle(a,c,h,p))}}(c,y,Ci(Nn(),a),h,p))}function fD(s,o,a,c,h,p){const y=null===o;let w;for(;h>0;){const T=s[h],S=Array.isArray(T),R=S?T[1]:T,F=null===R;let Z=a[h+1];Z===$t&&(Z=F?Ct:void 0);let re=F?Fu(Z,c):R===c?Z:void 0;if(S&&!im(re)&&(re=Fu(T,c)),im(re)&&(w=re,y))return w;const Se=s[h+1];h=y?jr(Se):fo(Se)}if(null!==o){let T=p?o.residualClasses:o.residualStyles;null!=T&&(w=Fu(T,c))}return w}function im(s){return void 0!==s}function pD(s,o){return 0!=(s.flags&(o?16:32))}function gD(s,o=""){const a=Me(),c=Kt(),h=s+22,p=c.firstCreatePass?wd(c,h,1,o,null):c.data[h],y=a[h]=U_(a[11],o);gf(c,a,y,p),Ur(p,!1)}function sl(s){return Vf("",s,""),sl}function Vf(s,o,a){const c=Me(),h=pt(c,s,o,a);return h!==$t&&la(c,Nn(),h),Vf}function Nd(s,o,a,c,h){const p=Me(),y=function Zl(s,o,a,c,h,p){const w=ca(s,Fi(),a,h);return as(2),w?o+Te(a)+c+Te(h)+p:$t}(p,s,o,a,c,h);return y!==$t&&la(p,Nn(),y),Nd}function lm(s,o,a){const c=Me();return Jn(c,xa(),o)&&ks(Kt(),On(),c,s,o,c[11],a,!0),lm}const tc=void 0;var ol=["en",[["a","p"],["AM","PM"],tc],[["AM","PM"],tc,tc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tc,"{1} 'at' {0}",tc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nc(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let al={};function um(s){const o=function CD(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Pd(o);if(a)return a;const c=o.split("-")[0];if(a=Pd(c),a)return a;if("en"===c)return ol;throw new Ee(701,!1)}function Hf(s){return um(s)[St.PluralCase]}function Pd(s){return s in al||(al[s]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[s]),al[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const SE=["zero","one","two","few","many"],kd="en-US",eu={marker:"element"},_o={marker:"ICU"};var sr=(()=>((sr=sr||{})[sr.SHIFT=2]="SHIFT",sr[sr.APPEND_EAGERLY=1]="APPEND_EAGERLY",sr[sr.COMMENT=2]="COMMENT",sr))();let fv=kd;function rc(s){(function qt(s,o){null==s&&Ke(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(fv=s.toLowerCase().replace(/_/g,"-"))}function SD(s,o,a){const c=o.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?_g(s,0,a):xn(a[h])}function pv(s,o,a,c,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=c,w=null;if(3&o.type||(w=y,y=h),null!==y&&0==(2&o.flags))for(let T=1;T<p.length;T++)zu(s,y,a[p[T]],w,!1)}}function AD(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const c=s[a];gv(c)||ND(c,o)&&null===mv(c)&&_v(c,o.index)}}function gv(s){return!(64&s.type)}function ND(s,o){return gv(o)||s.index>o.index}function mv(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function _v(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(qb(SD,pv),s.insertBeforeIndex=o)}function Fd(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function ME(s,o,a){const c=Mg(s,a,64,null,null);return AD(o,c),c}function dm(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function RD(s){return s>>>17}function Gf(s){return(131070&s)>>>1}let ic=0,Vd=0;function yr(s,o,a,c){const h=a[11];let y,p=null;for(let w=0;w<o.length;w++){const T=o[w];if("string"==typeof T){const S=o[++w];null===a[S]&&(a[S]=U_(h,T))}else if("number"==typeof T)switch(1&T){case 0:const S=RD(T);let R,F;if(null===p&&(p=S,y=Ar(h,c)),S===p?(R=c,F=y):(R=null,F=xn(a[S])),null!==F){const $e=Gf(T);zu(h,F,a[$e],R,!1);const lt=Fd(s,$e);if(null!==lt&&"object"==typeof lt){const At=dm(lt,a);null!==At&&yr(s,lt.create[At],a,a[lt.anchorIdx])}}break;case 1:const re=o[++w],Se=o[++w];Fg(h,Ci(T>>>1,a),null,null,re,Se,null)}else switch(T){case _o:const S=o[++w],R=o[++w];null===a[R]&&vi(a[R]=j_(h,S),a);break;case eu:const F=o[++w],Z=o[++w];null===a[Z]&&vi(a[Z]=pg(h,F,null),a)}}}function vv(s,o,a,c,h){for(let p=0;p<a.length;p++){const y=a[p],w=a[++p];if(y&h){let T="";for(let S=p+1;S<=p+w;S++){const R=a[S];if("string"==typeof R)T+=R;else if("number"==typeof R)if(R<0)T+=Te(o[c-R]);else{const F=R>>>2;switch(3&R){case 1:const Z=a[++S],re=a[++S],Se=s.data[F];"string"==typeof Se?Fg(o[11],o[F],null,Se,Z,T,re):ks(s,Se,o,Z,T,o[11],re,!1);break;case 0:const $e=o[F];null!==$e&&B_(o[11],$e,T);break;case 2:PE(s,Fd(s,F),o,T);break;case 3:MD(s,Fd(s,F),c,o)}}}}else{const T=a[p+1];if(T>0&&3==(3&T)){const R=Fd(s,T>>>2);o[R.currentCaseLViewIndex]<0&&MD(s,R,c,o)}}p+=w}}function MD(s,o,a,c){let h=c[o.currentCaseLViewIndex];if(null!==h){let p=ic;h<0&&(h=c[o.currentCaseLViewIndex]=~h,p=-1),vv(s,c,o.update[h],a,p)}}function PE(s,o,a,c){const h=function PD(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const c=function AE(s,o){const a=Hf(o)(parseInt(s,10)),c=SE[a];return void 0!==c?c:"other"}(o,function RE(){return fv}());a=s.cases.indexOf(c),-1===a&&"other"!==c&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,c);if(dm(o,a)!==h&&(xD(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=a[o.anchorIdx];y&&yr(s,o.create[h],a,y)}}function xD(s,o,a){let c=dm(o,a);if(null!==c){const h=o.remove[c];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const w=Ci(y,a);null!==w&&yg(a[11],w)}else xD(s,Fd(s,~y),a)}}}function kD(){const s=[];let a,c,o=-1;function p(w,T){o=0;const S=dm(w,T);c=null!==S?w.remove[S]:Ct}function y(){if(o<c.length){const w=c[o++];return w>0?a[w]:(s.push(o,c),p(a[1].data[~w],a),y())}return 0===s.length?null:(c=s.pop(),o=s.pop(),y())}return function h(w,T){for(a=T;s.length;)s.pop();return p(w.value,T),y}}const qf=/\ufffd(\d+):?\d*\ufffd/gi,Zf=/\ufffd(\d+)\ufffd/,Tv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,fm=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,FD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,pm=/\uE500/g;function Ud(s,o,a,c,h,p,y){const w=Df(s,c,1,null);let T=w<<sr.SHIFT,S=Sl();o===S&&(S=null),null===S&&(T|=sr.APPEND_EAGERLY),y&&(T|=sr.COMMENT,function CI(s){void 0===k_&&(k_=s())}(kD)),h.push(T,null===p?"":p);const R=Mg(s,w,y?32:1,null===p?"":p,null);AD(a,R);const F=R.index;return Ur(R,!1),null!==S&&o!==S&&function yv(s,o){let a=s.insertBeforeIndex;null===a?(qb(SD,pv),a=s.insertBeforeIndex=[null,o]):(function ve(s,o,a){s!=o&&Ke(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(S,F),R}function VD(s,o,a,c,h,p,y){const w=y.match(qf),T=Ud(s,o,a,p,c,w?null:y,!1);w&&nu(h,y,T.index,null,0,null)}function nu(s,o,a,c,h,p){const y=s.length,w=y+1;s.push(null,null);const T=y+2,S=o.split(qf);let R=0;for(let F=0;F<S.length;F++){const Z=S[F];if(1&F){const re=h+parseInt(Z,10);s.push(-1-re),R|=Ev(re)}else""!==Z&&s.push(Z)}return s.push(a<<2|(c?1:0)),c&&s.push(c,p),s[y]=R,s[w]=s.length-T,R}function Ev(s){return 1<<Math.min(s,31)}function Cv(s){let o,p,a="",c=0,h=!1;for(;null!==(o=fm.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(c=o.index,h=!1):(a+=s.substring(c,o.index+o[0].length),p=o[1],h=!0);return a+=s.slice(c),a}function ru(s,o,a,c,h,p){let y=0;const w={type:h.type,currentCaseLViewIndex:Df(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function HD(s,o,a){s.push(Ev(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,p),function OD(s,o,a){const c=s.data[o];null===c?s.data[o]=a:c.value=a}(s,p,w);const T=h.values;for(let S=0;S<T.length;S++){const R=T[S],F=[];for(let Z=0;Z<R.length;Z++){const re=R[Z];if("string"!=typeof re){const Se=F.push(re)-1;R[Z]=`\x3c!--\ufffd${Se}\ufffd--\x3e`}}y=$D(s,w,o,a,c,h.cases[S],R.join(""),F)|y}y&&function GD(s,o,a){s.push(o,1,a<<2|3)}(a,y,p)}function jD(s){const o=[],a=[];let c=1,h=0;const p=mm(s=s.replace(Tv,function(y,w,T){return c="select"===T?0:1,h=parseInt(w.slice(1),10),""}));for(let y=0;y<p.length;){let w=p[y++].trim();1===c&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const T=mm(p[y++]);o.length>a.length&&a.push(T)}return{type:c,mainBinding:h,cases:o,values:a}}function mm(s){if(!s)return[];let o=0;const a=[],c=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const w=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const T=s.substring(o,w);Tv.test(T)?c.push(jD(T)):c.push(T),o=w+1}}else{if(0==a.length){const T=s.substring(o,w);c.push(T),o=w+1}a.push("{")}}const y=s.substring(o);return c.push(y),c}function $D(s,o,a,c,h,p,y,w){const T=[],S=[],R=[];o.cases.push(p),o.create.push(T),o.remove.push(S),o.update.push(R);const Z=function g(s){const o=new D(s);return function N(){try{return!!(new window.DOMParser).parseFromString(io(""),"text/html")}catch{return!1}}()?new m(o):o}(function rd(){return void 0!==Bh?Bh:typeof document<"u"?document:void 0}()).getInertBodyElement(y),re=function Kh(s){return"content"in s&&function Y1(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(Z)||Z;return re?Sv(s,o,a,c,T,S,R,re,h,w,0):0}function Sv(s,o,a,c,h,p,y,w,T,S,R){let F=0,Z=w.firstChild;for(;Z;){const re=Df(s,a,1,null);switch(Z.nodeType){case Node.ELEMENT_NODE:const Se=Z,$e=Se.tagName.toLowerCase();if(ao.hasOwnProperty($e)){iu(h,eu,$e,T,re),s.data[re]=$e;const xe=Se.attributes;for(let Et=0;Et<xe.length;Et++){const Yt=xe.item(Et),Fn=Yt.name.toLowerCase();Yt.value.match(qf)?ra.hasOwnProperty(Fn)&&nu(y,Yt.value,re,Yt.name,0,lo[Fn]?ne:ju[Fn]?Ae:null):VE(h,re,Yt)}F=Sv(s,o,a,c,h,p,y,Z,re,S,R+1)|F,Kf(p,re,R)}break;case Node.TEXT_NODE:const Ye=Z.textContent||"",lt=Ye.match(qf);iu(h,null,lt?"":Ye,T,re),Kf(p,re,R),lt&&(F=nu(y,Ye,re,null,0,null)|F);break;case Node.COMMENT_NODE:const At=Zf.exec(Z.textContent||"");if(At){const Et=S[parseInt(At[1],10)];iu(h,_o,"",T,re),ru(s,a,c,T,Et,re),ms(p,re,R)}}Z=Z.nextSibling}return F}function Kf(s,o,a){0===a&&s.push(o)}function ms(s,o,a){0===a&&(s.push(~o),s.push(o))}function iu(s,o,a,c,h){null!==o&&s.push(o),s.push(a,h,function hm(s,o,a){return s|o<<17|a<<1}(0,c,h))}function VE(s,o,a){s.push(o<<1|1,a.name,a.value)}function kr(s,o,a=-1){const c=Kt(),h=Me(),p=22+s,y=_i(c.consts,o),w=Sl();c.firstCreatePass&&function LD(s,o,a,c,h,p){const y=Sl(),w=[],T=[],S=[[]];h=function BD(s,o){if(function gm(s){return-1===s}(o))return Cv(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Cv(s.substring(a,c))}}(h,p);const R=function LE(s){return s.replace(pm," ")}(h).split(FD);for(let F=0;F<R.length;F++){let Z=R[F];if(0==(1&F)){const re=mm(Z);for(let Se=0;Se<re.length;Se++){let $e=re[Se];if(0==(1&Se)){const Ye=$e;""!==Ye&&VD(s,y,S[0],w,T,a,Ye)}else{const Ye=$e;if("object"!=typeof Ye)throw new Error(`Unable to parse ICU expression in "${h}" message.`);ru(s,a,T,o,Ye,Ud(s,y,S[0],a,w,"",!0).index)}}}else{const re=47===Z.charCodeAt(0),$e=(Z.charCodeAt(re?1:0),22+Number.parseInt(Z.substring(re?2:1)));if(re)S.shift(),Ur(Sl(),!1);else{const Ye=ME(s,S[0],$e);S.unshift([]),Ur(Ye,!0)}}}s.data[c]={create:w,update:T}}(c,null===w?0:w.index,h,p,y,a);const T=c.data[p],R=Gb(c,w===h[6]?null:w,h);(function xE(s,o,a,c){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],w=o[p],T=(y&sr.COMMENT)===sr.COMMENT,S=(y&sr.APPEND_EAGERLY)===sr.APPEND_EAGERLY,R=y>>>sr.SHIFT;let F=s[R];null===F&&(F=s[R]=T?h.createComment(w):U_(h,w)),S&&null!==a&&zu(h,a,F,c,!1)}})(h,T.create,R,w&&8&w.type?h[w.index]:null),Tu(!0)}function ll(s,o,a){kr(s,o,a),function oc(){Tu(!1)}()}function Ov(s){return function Wf(s){s&&(ic|=1<<Math.min(Vd,31)),Vd++}(Jn(Me(),xa(),s)),Ov}function je(s){!function zf(s,o,a){if(Vd>0){const c=s.data[a];vv(s,o,Array.isArray(c)?c:c.update,Fi()-Vd-1,ic)}ic=0,Vd=0}(Kt(),Me(),s+22)}function Yf(s,o,a,c,h){if(s=X(s),Array.isArray(s))for(let p=0;p<s.length;p++)Yf(s[p],o,a,c,h);else{const p=Kt(),y=Me();let w=Wl(s)?s:X(s.provide),T=ud(s);const S=er(),R=1048575&S.providerIndexes,F=S.directiveStart,Z=S.providerIndexes>>20;if(Wl(s)||!s.multi){const re=new yi(T,h,Yu),Se=Rv(w,o,h?R:R+Z,F);-1===Se?(Zs(cs(S,y),p,w),ft(p,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(re),y.push(re)):(a[Se]=re,y[Se]=re)}else{const re=Rv(w,o,R+Z,F),Se=Rv(w,o,R,R+Z),$e=re>=0&&a[re],Ye=Se>=0&&a[Se];if(h&&!Ye||!h&&!$e){Zs(cs(S,y),p,w);const lt=function Wr(s,o,a,c,h){const p=new yi(s,a,Yu);return p.multi=[],p.index=o,p.componentProviders=0,xt(p,h,c&&!a),p}(h?me:rt,a.length,h,c,T);!h&&Ye&&(a[Se].providerFactory=lt),ft(p,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(lt),y.push(lt)}else ft(p,s,re>-1?re:Se,xt(a[h?Se:re],T,!h&&c));!h&&c&&Ye&&a[Se].componentProviders++}}}function ft(s,o,a,c){const h=Wl(o),p=function tI(s){return!!s.useClass}(o);if(h||p){const T=(p?X(o.useClass):o).prototype.ngOnDestroy;if(T){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=S.indexOf(a);-1===R?S.push(a,[c,T]):S[R+1].push(c,T)}else S.push(a,T)}}}function xt(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Rv(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function rt(s,o,a,c){return Le(this.multi,[])}function me(s,o,a,c){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Li(a,a[1],this.providerFactory.index,c);p=w.slice(0,y),Le(h,p);for(let T=y;T<w.length;T++)p.push(w[T])}else p=[],Le(h,p);return p}function Le(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Mv(s,o=[]){return a=>{a.providersResolver=(c,h)=>function ac(s,o,a){const c=Kt();if(c.firstCreatePass){const h=Xr(s);Yf(a,c.data,c.blueprint,h,!0),Yf(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class Bd{}class ZD{}function HE(s,o){return new KD(s,o??null)}class KD extends Bd{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qu(this);const c=wt(o);this._bootstrapComponents=Qa(c.bootstrap),this._r3Injector=iw(o,a,[{provide:Bd,useValue:this},{provide:rf,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ym extends ZD{constructor(o){super(),this.moduleType=o}create(o){return new KD(this.moduleType,o)}}class GE extends Bd{constructor(o,a,c){super(),this.componentFactoryResolver=new Qu(this),this.instance=null;const h=new D_([...o,{provide:Bd,useValue:this},{provide:rf,useValue:this.componentFactoryResolver}],a||Xh(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function YD(s,o,a=null){return new GE(s,o,a).injector}let WE=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=v_(0,a.type),h=c.length>0?YD([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=tn({token:s,providedIn:"environment",factory:()=>new s(Qt(Ja))}),s})();function xv(s){s.getStandaloneInjector=o=>o.get(WE).getOrCreateStandaloneInjector(s)}function Gi(s,o,a,c){return function jd(s,o,a,c,h,p){const y=o+a;return Jn(s,y,h)?ua(s,y+1,p?c.call(p,h):c(h)):Xf(s,y+1)}(Me(),tr(),s,o,a,c)}function bm(s,o,a,c,h){return function ul(s,o,a,c,h,p,y){const w=o+a;return ca(s,w,h,p)?ua(s,w+2,y?c.call(y,h,p):c(h,p)):Xf(s,w+2)}(Me(),tr(),s,o,a,c,h)}function Lv(s,o,a,c,h,p){return function eT(s,o,a,c,h,p,y,w){const T=o+a;return function go(s,o,a,c,h){const p=ca(s,o,a,c);return Jn(s,o+2,h)||p}(s,T,h,p,y)?ua(s,T+3,w?c.call(w,h,p,y):c(h,p,y)):Xf(s,T+3)}(Me(),tr(),s,o,a,c,h,p)}function Xf(s,o){const a=s[o];return a===$t?void 0:a}function bn(s){return o=>{setTimeout(s,void 0,o)}}const vo=class si extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let h=o,p=a||(()=>null),y=c;if(o&&"object"==typeof o){const T=o;h=T.next?.bind(T),p=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(p=bn(p),h&&(h=bn(h)),y&&(y=bn(y)));const w=super.subscribe({next:h,error:p,complete:y});return o instanceof U.w0&&o.add(w),w}};function $d(){return this._results[el()]()}class Oi{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=el(),c=Oi.prototype;c[a]||(c[a]=$d)}get changes(){return this._changes||(this._changes=new vo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=rn(o);(this._changesDetected=!function Rn(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ep=(()=>{class s{}return s.__NG_ELEMENT_ID__=lu,s})();const Fr=ep,KE=class extends Fr{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,h=my(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(c)),Dd(c,h,o),new Rf(h)}};function lu(){return zn(er(),Me())}function zn(s,o){return 4&s.type?new KE(o,s,Hu(s,o)):null}let fa=(()=>{class s{}return s.__NG_ELEMENT_ID__=jv,s})();function jv(){return Gd(er(),Me())}const rT=fa,Hd=class extends rT{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Hu(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ba(this._hostTNode,this._hostLView);if(Ah(o)){const a=Ss(o,this._hostLView),c=nr(o);return new Ko(a[1].data[c+8],a)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=iT(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const y=o.createEmbeddedView(a||{},p);return this.insert(y,h),y}createComponent(o,a,c,h,p){const y=o&&!function Ai(s){return"function"==typeof s}(o);let w;if(y)w=a;else{const F=a||{};w=F.index,c=F.injector,h=F.projectableNodes,p=F.environmentInjector||F.ngModuleRef}const T=y?o:new Mf(j(o)),S=c||this.parentInjector;if(!p&&null==T.ngModule){const Z=(y?S:this.parentInjector).get(Ja,null);Z&&(p=Z)}const R=T.create(S,h,void 0,p);return this.insert(R.hostView,w),R}insert(o,a){const c=o._lView,h=c[1];if(function Du(s){return hi(s[3])}(c)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const F=c[3],Z=new Hd(F,F[6],F[3]);Z.detach(Z.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function NI(s,o,a,c){const h=10+c,p=a.length;c>0&&(a[h-1][4]=o),c<p-10?(o[4]=a[h],Ys(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function OI(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(h,c,y,p);const w=W_(p,y),T=c[11],S=Ar(T,y[7]);return null!==S&&function EN(s,o,a,c,h,p){c[0]=h,c[6]=o,zl(s,c,a,1,h,p)}(h,y[6],T,c,S,w),o.attachToViewContainerRef(),Ys(pa(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=iT(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=gg(this._lContainer,a);c&&(Pn(pa(this._lContainer),a),mg(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=gg(this._lContainer,a);return c&&null!=Pn(pa(this._lContainer),a)?new Rf(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function iT(s){return s[8]}function pa(s){return s[8]||(s[8]=[])}function Gd(s,o){let a;const c=o[s.index];if(hi(c))a=c;else{let h;if(8&s.type)h=xn(c);else{const p=o[11];h=p.createComment("");const y=Er(s,o);zu(p,Ar(p,y),h,function kI(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=a=Lg(c,o,h,s),Sf(o,a)}return new Hd(a,s,o)}class Wd{constructor(o){this.queryList=o,this.matches=null}clone(){return new Wd(this.queryList)}setDirty(){this.queryList.setDirty()}}class cl{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new cl(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Wv(o,a).matches&&this.queries[a].setDirty()}}class bo{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class hc{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new hc(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ga{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new ga(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,a,oT(a,p)),this.matchTNodeWithReadOption(o,a,$a(a,o,p,!1,!1))}else c===ep?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,$a(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===rg||h===fa||h===ep&&4&a.type)this.addMatch(a.index,-2);else{const p=$a(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function oT(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function $v(s,o,a,c){return-1===a?function zd(s,o){return 11&s.type?Hu(s,o):4&s.type?zn(s,o):null}(o,s):-2===a?function fc(s,o,a){return a===rg?Hu(o,s):a===ep?zn(o,s):a===fa?Gd(o,s):void 0}(s,o,c):Li(s,s[1],a,o)}function Dm(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,y=a.matches,w=[];for(let T=0;T<y.length;T+=2){const S=y[T];w.push(S<0?null:$v(o,p[S],y[T+1],a.metadata.read))}h.matches=w}return h.matches}function pc(s,o,a,c){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const y=Dm(s,o,h,a);for(let w=0;w<p.length;w+=2){const T=p[w];if(T>0)c.push(y[w/2]);else{const S=p[w+1],R=o[-T];for(let F=10;F<R.length;F++){const Z=R[F];Z[17]===Z[3]&&pc(Z[1],Z,S,c)}if(null!==R[9]){const F=R[9];for(let Z=0;Z<F.length;Z++){const re=F[Z];pc(re[1],re,S,c)}}}}}return c}function Hv(s){const o=Me(),a=Kt(),c=Pa();Eu(c+1);const h=Wv(a,c);if(s.dirty&&Cl(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?pc(a,o,c,[]):Dm(a,o,h,c);s.reset(p,mN),s.notifyOnChanges()}return!0}return!1}function Gv(s,o,a){const c=Kt();c.firstCreatePass&&(uT(c,new bo(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),lT(c,Me(),o)}function np(s,o,a,c){const h=Kt();if(h.firstCreatePass){const p=er();uT(h,new bo(o,a,c),p.index),function cT(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}lT(h,Me(),a)}function qd(){return function aT(s,o){return s[19].queries[o].queryList}(Me(),Pa())}function lT(s,o,a){const c=new Oi(4==(4&a));lE(s,o,c,c.destroy),null===o[19]&&(o[19]=new cl),o[19].queries.push(new Wd(c))}function uT(s,o,a){null===s.queries&&(s.queries=new hc),s.queries.track(new ga(o,a))}function Wv(s,o){return s.queries.getByIndex(o)}function zr(s,o){return zn(s,o)}function Mn(...s){}const ap=new Dn("Application Initializer");let lp=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Mn,this.reject=Mn,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(zg(p))a.push(p);else if(Uy(p)){const y=new Promise((w,T)=>{p.subscribe({complete:w,error:T})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Qt(ap,8))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ST=new Dn("AppId",{providedIn:"root",factory:function th(){return`${Nm()}${Nm()}${Nm()}`}});function Nm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mc=new Dn("Platform Initializer"),dl=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),n0=new Dn("appBootstrapListener");let nh=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Om=new Dn("LocaleId",{providedIn:"root",factory:()=>Kn(Om,it.Optional|it.SkipSelf)||function r0(){return typeof $localize<"u"&&$localize.locale||kd}()}),Or=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class cu{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let aC=(()=>{class s{compileModuleSync(a){return new ym(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Qa(wt(a).declarations).reduce((y,w)=>{const T=j(w);return T&&y.push(new Mf(T)),y},[]);return new cu(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const cC=(()=>Promise.resolve(0))();function o0(s){typeof Zone>"u"?cC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ls{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vo(!1),this.onMicrotaskEmpty=new vo(!1),this.onStable=new vo(!1),this.onError=new vo(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function zt(){let s=Pt.requestAnimationFrame,o=Pt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Mm(s){const o=()=>{!function cp(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Pt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,xm(s),s.isCheckStableRunning=!0,_c(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),xm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,p,y,w)=>{try{return a0(s),a.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),l0(s)}},onInvoke:(a,c,h,p,y,w,T)=>{try{return a0(s),a.invoke(h,p,y,w,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),l0(s)}},onHasTask:(a,c,h,p)=>{a.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,xm(s),_c(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ls.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(Ls.isInAngularZone())throw new Ee(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,Rm,Mn,Mn);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const Rm={};function _c(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function xm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function a0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function l0(s){s._nesting--,_c(s)}class dC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vo,this.onMicrotaskEmpty=new vo,this.onStable=new vo,this.onError=new vo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}const u0=new Dn(""),c0=new Dn("");let yc,hC=(()=>{class s{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yc||(function fC(s){yc=s}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ls.assertNotInAngularZone(),o0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())o0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Qt(Ls),Qt(AT),Qt(c0))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})(),AT=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return yc?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),hl=null;const NT=new Dn("AllowMultipleToken"),Rr=new Dn("PlatformDestroyListeners");class d0{constructor(o,a){this.name=o,this.token=a}}function f0(s,o,a=[]){const c=`Platform: ${o}`,h=new Dn(c);return(p=[])=>{let y=hp();if(!y||y.injector.get(NT,!1)){const w=[...a,...p,{provide:h,useValue:!0}];s?s(w):function RT(s){if(hl&&!hl.get(NT,!1))throw new Ee(400,!1);hl=s;const o=s.get(xT);(function h0(s){const o=s.get(mc,null);o&&o.forEach(a=>a())})(s)}(function MT(s=[],o){return ho.create({name:o,providers:[{provide:Ya,useValue:"platform"},{provide:Rr,useValue:new Set([()=>hl=null])},...s]})}(w,c))}return function gC(s){const o=hp();if(!o)throw new Ee(401,!1);return o}()}}function hp(){return hl?.get(xT)??null}let xT=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function g0(s,o){let a;return a="noop"===s?new dC:("zone.js"===s?void 0:s)||new Ls(o),a}(c?.ngZone,function p0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Ls,useValue:h}];return h.run(()=>{const y=ho.create({providers:p,parent:this.injector,name:a.moduleType.name}),w=a.create(y),T=w.injector.get(og,null);if(!T)throw new Ee(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:R=>{T.handleError(R)}});w.onDestroy(()=>{Fm(this._modules,w),S.unsubscribe()})}),function m0(s,o,a){try{const c=a();return zg(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(T,h,()=>{const S=w.injector.get(lp);return S.runInitializers(),S.donePromise.then(()=>(rc(w.injector.get(Om,kd)||kd),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,c=[]){const h=PT({},c);return function OT(s,o,a){const c=new ym(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const c=a.injector.get(fp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ee(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Rr,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Qt(ho))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function PT(s,o){return Array.isArray(o)?o.reduce(PT,s):{...s,...o}}let fp=(()=>{class s{constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new M.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new M.y(w=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Ls.assertNotInAngularZone(),o0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Ls.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{T.unsubscribe(),S.unsubscribe()}});this.isStable=(0,se.T)(p,y.pipe((0,ue.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof Sb;if(!this._injector.get(lp).done)throw!h&&qe(a),new Ee(405,false);let y;y=h?a:this._injector.get(rf).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const w=function _a(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Bd),S=y.create(ho.NULL,[],c||y.selector,w),R=S.location.nativeElement,F=S.injector.get(u0,null);return F?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Fm(this.components,S),F?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Fm(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(n0,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Fm(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ee(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Qt(Ls),Qt(Ja),Qt(og))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Fm(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let vc=!0,FT=!1;function mC(){return FT=!0,vc}function _C(){if(FT)throw new Error("Cannot enable prod mode after platform setup.");vc=!1}let VT=(()=>{class s{}return s.__NG_ELEMENT_ID__=ya,s})();function ya(s){return function UT(s,o,a){if(_u(s)&&!a){const c=nn(s.index,o);return new Rf(c,c)}return 47&s.type?new Rf(o[16],o):null}(er(),Me(),16==(16&s))}class Vm{constructor(){}supports(o){return Xu(o)}create(o){return new D0(o)}}const qr=(s,o)=>o;class D0{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||qr}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<E0(c,h,p)?a:c,w=E0(y,h,p),T=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const S=w-h,R=T-h;if(S!=R){for(let Z=0;Z<S;Z++){const re=Z<p.length?p[Z]:p[Z]=0,Se=re+Z;R<=Se&&Se<S&&(p[Z]=re+1)}p[y.previousIndex]=R-S}}w!==T&&o(y,w,T)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Xu(o))throw new Ee(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,w),c=!0),a=a._next}else h=0,function TE(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[el()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,w=>{y=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,w,y,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new T0(a,c),p,h),o}_verifyReinsertion(o,a,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new fl),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fl),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class T0{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class I0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class fl{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new I0,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E0(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class $T{constructor(){}supports(o){return o instanceof Map||fs(o)}create(){return new HT}}class HT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||fs(o)))throw new Ee(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const c=new Um(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class Um{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function du(){return new pl([new Vm])}let pl=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||du()),deps:[[s,new _t,new De]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Ee(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:du}),s})();function sh(){return new Bm([new $T])}let Bm=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||sh()),deps:[[s,new _t,new De]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Ee(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:sh}),s})();const AC=f0(null,"core",[]);let GT=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Qt(fp))},s.\u0275mod=Tt({type:s}),s.\u0275inj=jt({}),s})();function WT(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function wc(s,o){const a=j(s),c=o.elementInjector||Xh();return new Mf(a).create(c,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(gt,Oe,P)=>{P.d(Oe,{Z:()=>Ee});var u=P(2090),U=P(4859),M=P(9681),se=P(1877);class ue{constructor(Te,ge){this._delegate=Te,this.firebase=ge,(0,M._addComponent)(Te,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=Te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this._delegate.automaticDataCollectionEnabled=Te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Te=>{this._delegate.checkDestroyed(),Te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,M.deleteApp)(this._delegate)))}_getService(Te,ge=M._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const nt=this._delegate.container.getProvider(Te);return!nt.isInitialized()&&"EXPLICIT"===(null===(tt=nt.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&nt.initialize(),nt.getImmediate({identifier:ge})}_removeServiceInstance(Te,ge=M._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Te).clearInstance(ge)}_addComponent(Te){(0,M._addComponent)(this._delegate,Te)}_addOrOverwriteComponent(Te){(0,M._addOrOverwriteComponent)(this._delegate,Te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function be(){const at=function he(at){const Te={},ge={__esModule:!0,initializeApp:function Fe(ie,ce={}){const ve=M.initializeApp(ie,ce);if((0,u.r3)(Te,ve.name))return Te[ve.name];const Q=new at(ve,ge);return Te[ve.name]=Q,Q},app:nt,registerVersion:M.registerVersion,setLogLevel:M.setLogLevel,onLog:M.onLog,apps:null,SDK_VERSION:M.SDK_VERSION,INTERNAL:{registerComponent:function Ce(ie){const ce=ie.name,ve=ce.replace("-compat","");if(M._registerComponent(ie)&&"PUBLIC"===ie.type){const Q=(ee=nt())=>{if("function"!=typeof ee[ve])throw pe.create("invalid-app-argument",{appName:ce});return ee[ve]()};void 0!==ie.serviceProps&&(0,u.ZB)(Q,ie.serviceProps),ge[ve]=Q,at.prototype[ve]=function(...ee){return this._getService.bind(this,ce).apply(this,ie.multipleInstances?ee:[])}}return"PUBLIC"===ie.type?ge[ve]:null},removeApp:function tt(ie){delete Te[ie]},useAsService:function Ze(ie,ce){return"serverAuth"===ce?null:ce},modularAPIs:M}};function nt(ie){if(!(0,u.r3)(Te,ie=ie||M._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:ie});return Te[ie]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Re(){return Object.keys(Te).map(ie=>Te[ie])}}),nt.App=at,ge}(ue);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function Te(ge){(0,u.ZB)(at,ge)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),at}(),W=new se.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=G;!function Pe(at){(0,M.registerVersion)("@firebase/app-compat","0.1.34",at)}()},9681:(gt,Oe,P)=>{P.r(Oe),P.d(Oe,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Mi,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>sn,_addOrOverwriteComponent:()=>tn,_apps:()=>mn,_clearComponents:()=>Co,_components:()=>Ln,_getProvider:()=>jt,_registerComponent:()=>Wt,_removeServiceInstance:()=>br,deleteApp:()=>Pi,getApp:()=>Vn,getApps:()=>xi,initializeApp:()=>Yr,onLog:()=>Un,registerVersion:()=>dr,setLogLevel:()=>fn});var u=P(5861),U=P(4859),M=P(1877),se=P(2090),ue=P(8766);class _e{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function pe(B){return"VERSION"===B.getComponent()?.type}(q)){const Ne=q.getImmediate();return`${Ne.library}/${Ne.version}`}return null}).filter(q=>q).join(" ")}}const he="@firebase/app",G=new M.Yd("@firebase/app"),qt="[DEFAULT]",Ke={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Ln=new Map;function sn(B,z){try{B.container.addComponent(z)}catch(q){G.debug(`Component ${z.name} failed to register with FirebaseApp ${B.name}`,q)}}function tn(B,z){B.container.addOrOverwriteComponent(z)}function Wt(B){const z=B.name;if(Ln.has(z))return G.debug(`There were multiple attempts to register component ${z}.`),!1;Ln.set(z,B);for(const q of mn.values())sn(q,B);return!0}function jt(B,z){const q=B.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),B.container.getProvider(z)}function br(B,z,q=qt){jt(B,z).clearInstance(q)}function Co(){Ln.clear()}const Sn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qi{constructor(z,q,Ne){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=Ne,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}const Mi="9.10.0";function Yr(B,z={}){"object"!=typeof z&&(z={name:z});const q=Object.assign({name:qt,automaticDataCollectionEnabled:!1},z),Ne=q.name;if("string"!=typeof Ne||!Ne)throw Sn.create("bad-app-name",{appName:String(Ne)});const Ge=mn.get(Ne);if(Ge){if((0,se.vZ)(B,Ge.options)&&(0,se.vZ)(q,Ge.config))return Ge;throw Sn.create("duplicate-app",{appName:Ne})}const Tt=new U.H0(Ne);for(const on of Ln.values())Tt.addComponent(on);const an=new Qi(B,q,Tt);return mn.set(Ne,an),an}function Vn(B=qt){const z=mn.get(B);if(!z)throw Sn.create("no-app",{appName:B});return z}function xi(){return Array.from(mn.values())}function Pi(B){return it.apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(B){const z=B.name;mn.has(z)&&(mn.delete(z),yield Promise.all(B.container.getProviders().map(q=>q.delete())),B.isDeleted=!0)})).apply(this,arguments)}function dr(B,z,q){var Ne;let Ge=null!==(Ne=Ke[B])&&void 0!==Ne?Ne:B;q&&(Ge+=`-${q}`);const Tt=Ge.match(/\s|\//),an=z.match(/\s|\//);if(Tt||an){const on=[`Unable to register library "${Ge}" with version "${z}":`];return Tt&&on.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),Tt&&an&&on.push("and"),an&&on.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void G.warn(on.join(" "))}Wt(new U.wA(`${Ge}-version`,()=>({library:Ge,version:z}),"VERSION"))}function Un(B,z){if(null!==B&&"function"!=typeof B)throw Sn.create("invalid-log-argument");(0,M.Am)(B,z)}function fn(B){(0,M.Ub)(B)}const wn="firebase-heartbeat-store";let Tn=null;function yn(){return Tn||(Tn=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(B,z)=>{0===z&&B.createObjectStore(wn)}}).catch(B=>{throw Sn.create("idb-open",{originalErrorMessage:B.message})})),Tn}function yt(){return(yt=(0,u.Z)(function*(B){var z;try{return(yield yn()).transaction(wn).objectStore(wn).get(hr(B))}catch(q){if(q instanceof se.ZR)G.warn(q.message);else{const Ne=Sn.create("idb-get",{originalErrorMessage:null===(z=q)||void 0===z?void 0:z.message});G.warn(Ne.message)}}})).apply(this,arguments)}function Pt(B,z){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(B,z){var q;try{const Ge=(yield yn()).transaction(wn,"readwrite");return yield Ge.objectStore(wn).put(z,hr(B)),Ge.done}catch(Ne){if(Ne instanceof se.ZR)G.warn(Ne.message);else{const Ge=Sn.create("idb-set",{originalErrorMessage:null===(q=Ne)||void 0===q?void 0:q.message});G.warn(Ge.message)}}})).apply(this,arguments)}function hr(B){return`${B.name}!${B.options.appId}`}class Mr{constructor(z){this.container=z,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new Zt(q),this._heartbeatsCachePromise=this._storage.read().then(Ne=>(this._heartbeatsCache=Ne,Ne))}triggerHeartbeat(){var z=this;return(0,u.Z)(function*(){const Ne=z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=Ft();if(null===z._heartbeatsCache&&(z._heartbeatsCache=yield z._heartbeatsCachePromise),z._heartbeatsCache.lastSentHeartbeatDate!==Ge&&!z._heartbeatsCache.heartbeats.some(Tt=>Tt.date===Ge))return z._heartbeatsCache.heartbeats.push({date:Ge,agent:Ne}),z._heartbeatsCache.heartbeats=z._heartbeatsCache.heartbeats.filter(Tt=>{const an=new Date(Tt.date).valueOf();return Date.now()-an<=2592e6}),z._storage.overwrite(z._heartbeatsCache)})()}getHeartbeatsHeader(){var z=this;return(0,u.Z)(function*(){if(null===z._heartbeatsCache&&(yield z._heartbeatsCachePromise),null===z._heartbeatsCache||0===z._heartbeatsCache.heartbeats.length)return"";const q=Ft(),{heartbeatsToSend:Ne,unsentEntries:Ge}=function Jr(B,z=1024){const q=[];let Ne=B.slice();for(const Ge of B){const Tt=q.find(an=>an.agent===Ge.agent);if(Tt){if(Tt.dates.push(Ge.date),K(q)>z){Tt.dates.pop();break}}else if(q.push({agent:Ge.agent,dates:[Ge.date]}),K(q)>z){q.pop();break}Ne=Ne.slice(1)}return{heartbeatsToSend:q,unsentEntries:Ne}}(z._heartbeatsCache.heartbeats),Tt=(0,se.L)(JSON.stringify({version:2,heartbeats:Ne}));return z._heartbeatsCache.lastSentHeartbeatDate=q,Ge.length>0?(z._heartbeatsCache.heartbeats=Ge,yield z._storage.overwrite(z._heartbeatsCache)):(z._heartbeatsCache.heartbeats=[],z._storage.overwrite(z._heartbeatsCache)),Tt})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var z=this;return(0,u.Z)(function*(){return(yield z._canUseIndexedDBPromise)&&(yield function mt(B){return yt.apply(this,arguments)}(z.app))||{heartbeats:[]}})()}overwrite(z){var q=this;return(0,u.Z)(function*(){var Ne;if(yield q._canUseIndexedDBPromise){const Tt=yield q.read();return Pt(q.app,{lastSentHeartbeatDate:null!==(Ne=z.lastSentHeartbeatDate)&&void 0!==Ne?Ne:Tt.lastSentHeartbeatDate,heartbeats:z.heartbeats})}})()}add(z){var q=this;return(0,u.Z)(function*(){var Ne;if(yield q._canUseIndexedDBPromise){const Tt=yield q.read();return Pt(q.app,{lastSentHeartbeatDate:null!==(Ne=z.lastSentHeartbeatDate)&&void 0!==Ne?Ne:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...z.heartbeats]})}})()}}function K(B){return(0,se.L)(JSON.stringify({version:2,heartbeats:B})).length}!function $(B){Wt(new U.wA("platform-logger",z=>new _e(z),"PRIVATE")),Wt(new U.wA("heartbeat",z=>new Mr(z),"PRIVATE")),dr(he,"0.7.33",B),dr(he,"0.7.33","esm2017"),dr("fire-js","")}("")},4859:(gt,Oe,P)=>{P.d(Oe,{H0:()=>he,wA:()=>M});var u=P(5861),U=P(2090);class M{constructor(G,W,X){this.name=G,this.instanceFactory=W,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const se="[DEFAULT]";class ue{constructor(G,W){this.name=G,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const W=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(W)){const X=new U.BH;if(this.instancesDeferred.set(W,X),this.isInitialized(W)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:W});He&&X.resolve(He)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(G){var W;const X=this.normalizeInstanceIdentifier(G?.identifier),He=null!==(W=G?.optional)&&void 0!==W&&W;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Pe){if(He)return null;throw Pe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function pe(be){return"EAGER"===be.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[W,X]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(W);try{const Pe=this.getOrInitializeService({instanceIdentifier:He});X.resolve(Pe)}catch{}}}}clearInstance(G=se){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,u.Z)(function*(){const W=Array.from(G.instances.values());yield Promise.all([...W.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...W.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=se){return this.instances.has(G)}getOptions(G=se){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:W={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:X,options:W});for(const[Pe,Ee]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Pe)&&Ee.resolve(He);return He}onInit(G,W){var X;const He=this.normalizeInstanceIdentifier(W),Pe=null!==(X=this.onInitCallbacks.get(He))&&void 0!==X?X:new Set;Pe.add(G),this.onInitCallbacks.set(He,Pe);const Ee=this.instances.get(He);return Ee&&G(Ee,He),()=>{Pe.delete(G)}}invokeOnInitCallbacks(G,W){const X=this.onInitCallbacks.get(W);if(X)for(const He of X)try{He(G,W)}catch{}}getOrInitializeService({instanceIdentifier:G,options:W={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(be=G,be===se?void 0:be),options:W}),this.instances.set(G,X),this.instancesOptions.set(G,W),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch{}var be;return X||null}normalizeInstanceIdentifier(G=se){return this.component?this.component.multipleInstances?G:se:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const W=this.getProvider(G.name);if(W.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);W.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const W=new ue(G,this);return this.providers.set(G,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(gt,Oe,P)=>{P.d(Oe,{Am:()=>be,Ub:()=>he,Yd:()=>pe,in:()=>U});const u=[];var U=(()=>{return(G=U||(U={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",U;var G})();const M={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},se=U.INFO,ue={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},_e=(G,W,...X)=>{if(W<G.logLevel)return;const He=(new Date).toISOString(),Pe=ue[W];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Pe](`[${He}]  ${G.name}:`,...X)};class pe{constructor(W){this.name=W,this._logLevel=se,this._logHandler=_e,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in U))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?M[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...W),this._logHandler(this,U.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...W),this._logHandler(this,U.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,U.INFO,...W),this._logHandler(this,U.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,U.WARN,...W),this._logHandler(this,U.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...W),this._logHandler(this,U.ERROR,...W)}}function he(G){u.forEach(W=>{W.setLogLevel(G)})}function be(G,W){for(const X of u){let He=null;W&&W.level&&(He=M[W.level]),X.userLogHandler=null===G?null:(Pe,Ee,...at)=>{const Te=at.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Ee>=(He??Pe.logLevel)&&G({level:U[Ee].toLowerCase(),message:Te,args:at,type:Pe.name})}}}},8766:(gt,Oe,P)=>{P.d(Oe,{Lj:()=>Fe,X3:()=>nt});var u=P(5861);let M,se;const pe=new WeakMap,he=new WeakMap,be=new WeakMap,G=new WeakMap,W=new WeakMap;let Pe={get(ce,ve,Q){if(ce instanceof IDBTransaction){if("done"===ve)return he.get(ce);if("objectStoreNames"===ve)return ce.objectStoreNames||be.get(ce);if("store"===ve)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return ge(ce[ve])},set:(ce,ve,Q)=>(ce[ve]=Q,!0),has:(ce,ve)=>ce instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in ce};function Te(ce){return"function"==typeof ce?function at(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...ve){return ce.apply(tt(this),ve),ge(pe.get(this))}:function(...ve){return ge(ce.apply(tt(this),ve))}:function(ve,...Q){const ee=ce.call(tt(this),ve,...Q);return be.set(ee,ve.sort?ve.sort():[ve]),ge(ee)}}(ce):(ce instanceof IDBTransaction&&function He(ce){if(he.has(ce))return;const ve=new Promise((Q,ee)=>{const fe=()=>{ce.removeEventListener("complete",oe),ce.removeEventListener("error",Ve),ce.removeEventListener("abort",Ve)},oe=()=>{Q(),fe()},Ve=()=>{ee(ce.error||new DOMException("AbortError","AbortError")),fe()};ce.addEventListener("complete",oe),ce.addEventListener("error",Ve),ce.addEventListener("abort",Ve)});he.set(ce,ve)}(ce),((ce,ve)=>ve.some(Q=>ce instanceof Q))(ce,function ue(){return M||(M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,Pe):ce)}function ge(ce){if(ce instanceof IDBRequest)return function X(ce){const ve=new Promise((Q,ee)=>{const fe=()=>{ce.removeEventListener("success",oe),ce.removeEventListener("error",Ve)},oe=()=>{Q(ge(ce.result)),fe()},Ve=()=>{ee(ce.error),fe()};ce.addEventListener("success",oe),ce.addEventListener("error",Ve)});return ve.then(Q=>{Q instanceof IDBCursor&&pe.set(Q,ce)}).catch(()=>{}),W.set(ve,ce),ve}(ce);if(G.has(ce))return G.get(ce);const ve=Te(ce);return ve!==ce&&(G.set(ce,ve),W.set(ve,ce)),ve}const tt=ce=>W.get(ce);function nt(ce,ve,{blocked:Q,upgrade:ee,blocking:fe,terminated:oe}={}){const Ve=indexedDB.open(ce,ve),Ue=ge(Ve);return ee&&Ve.addEventListener("upgradeneeded",bt=>{ee(ge(Ve.result),bt.oldVersion,bt.newVersion,ge(Ve.transaction))}),Q&&Ve.addEventListener("blocked",()=>Q()),Ue.then(bt=>{oe&&bt.addEventListener("close",()=>oe()),fe&&bt.addEventListener("versionchange",()=>fe())}).catch(()=>{}),Ue}function Fe(ce,{blocked:ve}={}){const Q=indexedDB.deleteDatabase(ce);return ve&&Q.addEventListener("blocked",()=>ve()),ge(Q).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Ze=new Map;function ie(ce,ve){if(!(ce instanceof IDBDatabase)||ve in ce||"string"!=typeof ve)return;if(Ze.get(ve))return Ze.get(ve);const Q=ve.replace(/FromIndex$/,""),ee=ve!==Q,fe=Ce.includes(Q);if(!(Q in(ee?IDBIndex:IDBObjectStore).prototype)||!fe&&!Re.includes(Q))return;const oe=function(){var Ve=(0,u.Z)(function*(Ue,...bt){const en=this.transaction(Ue,fe?"readwrite":"readonly");let qt=en.store;return ee&&(qt=qt.index(bt.shift())),(yield Promise.all([qt[Q](...bt),fe&&en.done]))[0]});return function(bt){return Ve.apply(this,arguments)}}();return Ze.set(ve,oe),oe}!function Ee(ce){Pe=ce(Pe)}(ce=>({...ce,get:(ve,Q,ee)=>ie(ve,Q)||ce.get(ve,Q,ee),has:(ve,Q)=>!!ie(ve,Q)||ce.has(ve,Q)}))},5861:(gt,Oe,P)=>{function u(M,se,ue,_e,pe,he,be){try{var G=M[he](be),W=G.value}catch(X){return void ue(X)}G.done?se(W):Promise.resolve(W).then(_e,pe)}function U(M){return function(){var se=this,ue=arguments;return new Promise(function(_e,pe){var he=M.apply(se,ue);function be(W){u(he,_e,pe,be,G,"next",W)}function G(W){u(he,_e,pe,be,G,"throw",W)}be(void 0)})}}P.d(Oe,{Z:()=>U})}},gt=>{gt(gt.s=9645)}]);